(function(Sr,Zo){typeof exports=="object"&&typeof module<"u"?Zo(exports,require("buffer"),require("events"),require("util"),require("stream"),require("string_decoder/"),require("events/")):typeof define=="function"&&define.amd?define(["exports","buffer","events","util","stream","string_decoder/","events/"],Zo):(Sr=typeof globalThis<"u"?globalThis:Sr||self,Zo(Sr["@web3modal/ethereum"]={},Sr.require$$2$4,Sr.require$$0$6,Sr.require$$0$7,Sr.require$$0$8,Sr.require$$10$1,Sr.require$$1$3))})(this,function(Sr,Zo,th,z4,V4,G4,K4){"use strict";function Xo(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function J4(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}var Aa=Xo(Zo),Lg=Xo(th),uu=Xo(z4),Q4=Xo(V4),Dg=Xo(G4),Y4=Xo(K4);const Z4=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(s,a,c)=>{let u=s;if(a){const l=c?.equalityFn||Object.is;let p=s(n.getState());u=m=>{const x=s(m);if(!l(p,x)){const _=p;a(p=x,_)}},c?.fireImmediately&&a(p,p)}return i(u)},t(e,r,n)},lu=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return lu(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return lu(n)(r)}}}},X4=(t,e)=>(r,n,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,C)=>({...C,...y}),...e},s=!1;const a=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...y)},n,i);const l=lu(o.serialize),p=()=>{const y=o.partialize({...n()});let C;const T=l({state:y,version:o.version}).then(P=>u.setItem(o.name,P)).catch(P=>{C=P});if(C)throw C;return T},m=i.setState;i.setState=(y,C)=>{m(y,C),p()};const x=t((...y)=>{r(...y),p()},n,i);let _;const R=()=>{var y;if(!u)return;s=!1,a.forEach(T=>T(n()));const C=((y=o.onRehydrateStorage)==null?void 0:y.call(o,n()))||void 0;return lu(u.getItem.bind(u))(o.name).then(T=>{if(T)return o.deserialize(T)}).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==o.version){if(o.migrate)return o.migrate(T.state,T.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return T.state}).then(T=>{var P;return _=o.merge(T,(P=n())!=null?P:x),r(_,!0),p()}).then(()=>{C?.(_,void 0),s=!0,c.forEach(T=>T(_))}).catch(T=>{C?.(void 0,T)})};return i.persist={setOptions:y=>{o={...o,...y},y.getStorage&&(u=y.getStorage())},clearStorage:()=>{u?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>R(),hasHydrated:()=>s,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},R(),_||x},Fg=t=>{let e;const r=new Set,n=(c,u)=>{const l=typeof c=="function"?c(e):c;if(l!==e){const p=e;e=u??typeof l!="object"?l:Object.assign({},e,l),r.forEach(m=>m(e,p))}},i=()=>e,a={setState:n,getState:i,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>r.clear()};return e=t(n,i,a),a},e6=t=>t?Fg(t):Fg;var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ug(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ye(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var es={exports:{}},t6={},r6=Object.freeze({__proto__:null,default:t6}),jg=Ye(r6);(function(t){(function(e,r){function n(v,f){if(!v)throw new Error(f||"Assertion failed")}function i(v,f){v.super_=f;var h=function(){};h.prototype=f.prototype,v.prototype=new h,v.prototype.constructor=v}function o(v,f,h){if(o.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(v||0,f||10,h||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=jg.Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,h){return f.cmp(h)>0?f:h},o.min=function(f,h){return f.cmp(h)<0?f:h},o.prototype._init=function(f,h,w){if(typeof f=="number")return this._initNumber(f,h,w);if(typeof f=="object")return this._initArray(f,h,w);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var M=0;f[0]==="-"&&(M++,this.negative=1),M<f.length&&(h===16?this._parseHex(f,M,w):(this._parseBase(f,h,M),w==="le"&&this._initArray(this.toArray(),h,w)))},o.prototype._initNumber=function(f,h,w){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),h,w)},o.prototype._initArray=function(f,h,w){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var S,d,I=0;if(w==="be")for(M=f.length-1,S=0;M>=0;M-=3)d=f[M]|f[M-1]<<8|f[M-2]<<16,this.words[S]|=d<<I&67108863,this.words[S+1]=d>>>26-I&67108863,I+=24,I>=26&&(I-=26,S++);else if(w==="le")for(M=0,S=0;M<f.length;M+=3)d=f[M]|f[M+1]<<8|f[M+2]<<16,this.words[S]|=d<<I&67108863,this.words[S+1]=d>>>26-I&67108863,I+=24,I>=26&&(I-=26,S++);return this._strip()};function a(v,f){var h=v.charCodeAt(f);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+v)}function c(v,f,h){var w=a(v,h);return h-1>=f&&(w|=a(v,h-1)<<4),w}o.prototype._parseHex=function(f,h,w){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var S=0,d=0,I;if(w==="be")for(M=f.length-1;M>=h;M-=2)I=c(f,h,M)<<S,this.words[d]|=I&67108863,S>=18?(S-=18,d+=1,this.words[d]|=I>>>26):S+=8;else{var k=f.length-h;for(M=k%2===0?h+1:h;M<f.length;M+=2)I=c(f,h,M)<<S,this.words[d]|=I&67108863,S>=18?(S-=18,d+=1,this.words[d]|=I>>>26):S+=8}this._strip()};function u(v,f,h,w){for(var M=0,S=0,d=Math.min(v.length,h),I=f;I<d;I++){var k=v.charCodeAt(I)-48;M*=w,k>=49?S=k-49+10:k>=17?S=k-17+10:S=k,n(k>=0&&S<w,"Invalid character"),M+=S}return M}o.prototype._parseBase=function(f,h,w){this.words=[0],this.length=1;for(var M=0,S=1;S<=67108863;S*=h)M++;M--,S=S/h|0;for(var d=f.length-w,I=d%M,k=Math.min(d,d-I)+w,b=0,N=w;N<k;N+=M)b=u(f,N,N+M,h),this.imuln(S),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(I!==0){var q=1;for(b=u(f,N,f.length,h),N=0;N<I;N++)q*=h;this.imuln(q),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this._strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(v,f){v.words=f.words,v.length=f.length,v.negative=f.negative,v.red=f.red}if(o.prototype._move=function(f){l(f,this)},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{o.prototype.inspect=p}else o.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,h){f=f||10,h=h|0||1;var w;if(f===16||f==="hex"){w="";for(var M=0,S=0,d=0;d<this.length;d++){var I=this.words[d],k=((I<<M|S)&16777215).toString(16);S=I>>>24-M&16777215,M+=2,M>=26&&(M-=26,d--),S!==0||d!==this.length-1?w=m[6-k.length]+k+w:w=k+w}for(S!==0&&(w=S.toString(16)+w);w.length%h!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(f===(f|0)&&f>=2&&f<=36){var b=x[f],N=_[f];w="";var q=this.clone();for(q.negative=0;!q.isZero();){var E=q.modrn(N).toString(f);q=q.idivn(N),q.isZero()?w=E+w:w=m[b-E.length]+E+w}for(this.isZero()&&(w="0"+w);w.length%h!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(f,h){return this.toArrayLike(s,f,h)}),o.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)};var R=function(f,h){return f.allocUnsafe?f.allocUnsafe(h):new f(h)};o.prototype.toArrayLike=function(f,h,w){this._strip();var M=this.byteLength(),S=w||Math.max(1,M);n(M<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var d=R(f,S),I=h==="le"?"LE":"BE";return this["_toArrayLike"+I](d,M),d},o.prototype._toArrayLikeLE=function(f,h){for(var w=0,M=0,S=0,d=0;S<this.length;S++){var I=this.words[S]<<d|M;f[w++]=I&255,w<f.length&&(f[w++]=I>>8&255),w<f.length&&(f[w++]=I>>16&255),d===6?(w<f.length&&(f[w++]=I>>24&255),M=0,d=0):(M=I>>>24,d+=2)}if(w<f.length)for(f[w++]=M;w<f.length;)f[w++]=0},o.prototype._toArrayLikeBE=function(f,h){for(var w=f.length-1,M=0,S=0,d=0;S<this.length;S++){var I=this.words[S]<<d|M;f[w--]=I&255,w>=0&&(f[w--]=I>>8&255),w>=0&&(f[w--]=I>>16&255),d===6?(w>=0&&(f[w--]=I>>24&255),M=0,d=0):(M=I>>>24,d+=2)}if(w>=0)for(f[w--]=M;w>=0;)f[w--]=0},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var h=f,w=0;return h>=4096&&(w+=13,h>>>=13),h>=64&&(w+=7,h>>>=7),h>=8&&(w+=4,h>>>=4),h>=2&&(w+=2,h>>>=2),w+h},o.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,w=0;return(h&8191)===0&&(w+=13,h>>>=13),(h&127)===0&&(w+=7,h>>>=7),(h&15)===0&&(w+=4,h>>>=4),(h&3)===0&&(w+=2,h>>>=2),(h&1)===0&&w++,w},o.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function y(v){for(var f=new Array(v.bitLength()),h=0;h<f.length;h++){var w=h/26|0,M=h%26;f[h]=v.words[w]>>>M&1}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var w=this._zeroBits(this.words[h]);if(f+=w,w!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this._strip()},o.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var w=0;w<h.length;w++)this.words[w]=this.words[w]&f.words[w];return this.length=h.length,this._strip()},o.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var h,w;this.length>f.length?(h=this,w=f):(h=f,w=this);for(var M=0;M<w.length;M++)this.words[M]=h.words[M]^w.words[M];if(this!==h)for(;M<h.length;M++)this.words[M]=h.words[M];return this.length=h.length,this._strip()},o.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,w=f%26;this._expand(h),w>0&&h--;for(var M=0;M<h;M++)this.words[M]=~this.words[M]&67108863;return w>0&&(this.words[M]=~this.words[M]&67108863>>26-w),this._strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var w=f/26|0,M=f%26;return this._expand(w+1),h?this.words[w]=this.words[w]|1<<M:this.words[w]=this.words[w]&~(1<<M),this._strip()},o.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var w,M;this.length>f.length?(w=this,M=f):(w=f,M=this);for(var S=0,d=0;d<M.length;d++)h=(w.words[d]|0)+(M.words[d]|0)+S,this.words[d]=h&67108863,S=h>>>26;for(;S!==0&&d<w.length;d++)h=(w.words[d]|0)+S,this.words[d]=h&67108863,S=h>>>26;if(this.length=w.length,S!==0)this.words[this.length]=S,this.length++;else if(w!==this)for(;d<w.length;d++)this.words[d]=w.words[d];return this},o.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var w=this.cmp(f);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,S;w>0?(M=this,S=f):(M=f,S=this);for(var d=0,I=0;I<S.length;I++)h=(M.words[I]|0)-(S.words[I]|0)+d,d=h>>26,this.words[I]=h&67108863;for(;d!==0&&I<M.length;I++)h=(M.words[I]|0)+d,d=h>>26,this.words[I]=h&67108863;if(d===0&&I<M.length&&M!==this)for(;I<M.length;I++)this.words[I]=M.words[I];return this.length=Math.max(this.length,I),M!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function C(v,f,h){h.negative=f.negative^v.negative;var w=v.length+f.length|0;h.length=w,w=w-1|0;var M=v.words[0]|0,S=f.words[0]|0,d=M*S,I=d&67108863,k=d/67108864|0;h.words[0]=I;for(var b=1;b<w;b++){for(var N=k>>>26,q=k&67108863,E=Math.min(b,f.length-1),O=Math.max(0,b-v.length+1);O<=E;O++){var U=b-O|0;M=v.words[U]|0,S=f.words[O]|0,d=M*S+q,N+=d/67108864|0,q=d&67108863}h.words[b]=q|0,k=N|0}return k!==0?h.words[b]=k|0:h.length--,h._strip()}var T=function(f,h,w){var M=f.words,S=h.words,d=w.words,I=0,k,b,N,q=M[0]|0,E=q&8191,O=q>>>13,U=M[1]|0,$=U&8191,z=U>>>13,Z=M[2]|0,B=Z&8191,L=Z>>>13,Y=M[3]|0,K=Y&8191,ne=Y>>>13,ve=M[4]|0,ie=ve&8191,ue=ve>>>13,Ht=M[5]|0,be=Ht&8191,me=Ht>>>13,ar=M[6]|0,de=ar&8191,pe=ar>>>13,Xt=M[7]|0,he=Xt&8191,le=Xt>>>13,Nt=M[8]|0,ye=Nt&8191,xe=Nt>>>13,Rr=M[9]|0,we=Rr&8191,_e=Rr>>>13,Tr=S[0]|0,Ee=Tr&8191,Se=Tr>>>13,Pr=S[1]|0,Ae=Pr&8191,Ce=Pr>>>13,Nr=S[2]|0,ke=Nr&8191,Me=Nr>>>13,Or=S[3]|0,Ie=Or&8191,Re=Or>>>13,Br=S[4]|0,Te=Br&8191,Pe=Br>>>13,Lr=S[5]|0,Ne=Lr&8191,Oe=Lr>>>13,Dr=S[6]|0,Be=Dr&8191,Le=Dr>>>13,Fr=S[7]|0,De=Fr&8191,Fe=Fr>>>13,Ur=S[8]|0,Ue=Ur&8191,je=Ur>>>13,Er=S[9]|0,ot=Er&8191,st=Er>>>13;w.negative=f.negative^h.negative,w.length=19,k=Math.imul(E,Ee),b=Math.imul(E,Se),b=b+Math.imul(O,Ee)|0,N=Math.imul(O,Se);var cr=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(cr>>>26)|0,cr&=67108863,k=Math.imul($,Ee),b=Math.imul($,Se),b=b+Math.imul(z,Ee)|0,N=Math.imul(z,Se),k=k+Math.imul(E,Ae)|0,b=b+Math.imul(E,Ce)|0,b=b+Math.imul(O,Ae)|0,N=N+Math.imul(O,Ce)|0;var ur=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(ur>>>26)|0,ur&=67108863,k=Math.imul(B,Ee),b=Math.imul(B,Se),b=b+Math.imul(L,Ee)|0,N=Math.imul(L,Se),k=k+Math.imul($,Ae)|0,b=b+Math.imul($,Ce)|0,b=b+Math.imul(z,Ae)|0,N=N+Math.imul(z,Ce)|0,k=k+Math.imul(E,ke)|0,b=b+Math.imul(E,Me)|0,b=b+Math.imul(O,ke)|0,N=N+Math.imul(O,Me)|0;var lr=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(lr>>>26)|0,lr&=67108863,k=Math.imul(K,Ee),b=Math.imul(K,Se),b=b+Math.imul(ne,Ee)|0,N=Math.imul(ne,Se),k=k+Math.imul(B,Ae)|0,b=b+Math.imul(B,Ce)|0,b=b+Math.imul(L,Ae)|0,N=N+Math.imul(L,Ce)|0,k=k+Math.imul($,ke)|0,b=b+Math.imul($,Me)|0,b=b+Math.imul(z,ke)|0,N=N+Math.imul(z,Me)|0,k=k+Math.imul(E,Ie)|0,b=b+Math.imul(E,Re)|0,b=b+Math.imul(O,Ie)|0,N=N+Math.imul(O,Re)|0;var fr=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(fr>>>26)|0,fr&=67108863,k=Math.imul(ie,Ee),b=Math.imul(ie,Se),b=b+Math.imul(ue,Ee)|0,N=Math.imul(ue,Se),k=k+Math.imul(K,Ae)|0,b=b+Math.imul(K,Ce)|0,b=b+Math.imul(ne,Ae)|0,N=N+Math.imul(ne,Ce)|0,k=k+Math.imul(B,ke)|0,b=b+Math.imul(B,Me)|0,b=b+Math.imul(L,ke)|0,N=N+Math.imul(L,Me)|0,k=k+Math.imul($,Ie)|0,b=b+Math.imul($,Re)|0,b=b+Math.imul(z,Ie)|0,N=N+Math.imul(z,Re)|0,k=k+Math.imul(E,Te)|0,b=b+Math.imul(E,Pe)|0,b=b+Math.imul(O,Te)|0,N=N+Math.imul(O,Pe)|0;var hr=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(hr>>>26)|0,hr&=67108863,k=Math.imul(be,Ee),b=Math.imul(be,Se),b=b+Math.imul(me,Ee)|0,N=Math.imul(me,Se),k=k+Math.imul(ie,Ae)|0,b=b+Math.imul(ie,Ce)|0,b=b+Math.imul(ue,Ae)|0,N=N+Math.imul(ue,Ce)|0,k=k+Math.imul(K,ke)|0,b=b+Math.imul(K,Me)|0,b=b+Math.imul(ne,ke)|0,N=N+Math.imul(ne,Me)|0,k=k+Math.imul(B,Ie)|0,b=b+Math.imul(B,Re)|0,b=b+Math.imul(L,Ie)|0,N=N+Math.imul(L,Re)|0,k=k+Math.imul($,Te)|0,b=b+Math.imul($,Pe)|0,b=b+Math.imul(z,Te)|0,N=N+Math.imul(z,Pe)|0,k=k+Math.imul(E,Ne)|0,b=b+Math.imul(E,Oe)|0,b=b+Math.imul(O,Ne)|0,N=N+Math.imul(O,Oe)|0;var In=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(In>>>26)|0,In&=67108863,k=Math.imul(de,Ee),b=Math.imul(de,Se),b=b+Math.imul(pe,Ee)|0,N=Math.imul(pe,Se),k=k+Math.imul(be,Ae)|0,b=b+Math.imul(be,Ce)|0,b=b+Math.imul(me,Ae)|0,N=N+Math.imul(me,Ce)|0,k=k+Math.imul(ie,ke)|0,b=b+Math.imul(ie,Me)|0,b=b+Math.imul(ue,ke)|0,N=N+Math.imul(ue,Me)|0,k=k+Math.imul(K,Ie)|0,b=b+Math.imul(K,Re)|0,b=b+Math.imul(ne,Ie)|0,N=N+Math.imul(ne,Re)|0,k=k+Math.imul(B,Te)|0,b=b+Math.imul(B,Pe)|0,b=b+Math.imul(L,Te)|0,N=N+Math.imul(L,Pe)|0,k=k+Math.imul($,Ne)|0,b=b+Math.imul($,Oe)|0,b=b+Math.imul(z,Ne)|0,N=N+Math.imul(z,Oe)|0,k=k+Math.imul(E,Be)|0,b=b+Math.imul(E,Le)|0,b=b+Math.imul(O,Be)|0,N=N+Math.imul(O,Le)|0;var Rn=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,k=Math.imul(he,Ee),b=Math.imul(he,Se),b=b+Math.imul(le,Ee)|0,N=Math.imul(le,Se),k=k+Math.imul(de,Ae)|0,b=b+Math.imul(de,Ce)|0,b=b+Math.imul(pe,Ae)|0,N=N+Math.imul(pe,Ce)|0,k=k+Math.imul(be,ke)|0,b=b+Math.imul(be,Me)|0,b=b+Math.imul(me,ke)|0,N=N+Math.imul(me,Me)|0,k=k+Math.imul(ie,Ie)|0,b=b+Math.imul(ie,Re)|0,b=b+Math.imul(ue,Ie)|0,N=N+Math.imul(ue,Re)|0,k=k+Math.imul(K,Te)|0,b=b+Math.imul(K,Pe)|0,b=b+Math.imul(ne,Te)|0,N=N+Math.imul(ne,Pe)|0,k=k+Math.imul(B,Ne)|0,b=b+Math.imul(B,Oe)|0,b=b+Math.imul(L,Ne)|0,N=N+Math.imul(L,Oe)|0,k=k+Math.imul($,Be)|0,b=b+Math.imul($,Le)|0,b=b+Math.imul(z,Be)|0,N=N+Math.imul(z,Le)|0,k=k+Math.imul(E,De)|0,b=b+Math.imul(E,Fe)|0,b=b+Math.imul(O,De)|0,N=N+Math.imul(O,Fe)|0;var Tn=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,k=Math.imul(ye,Ee),b=Math.imul(ye,Se),b=b+Math.imul(xe,Ee)|0,N=Math.imul(xe,Se),k=k+Math.imul(he,Ae)|0,b=b+Math.imul(he,Ce)|0,b=b+Math.imul(le,Ae)|0,N=N+Math.imul(le,Ce)|0,k=k+Math.imul(de,ke)|0,b=b+Math.imul(de,Me)|0,b=b+Math.imul(pe,ke)|0,N=N+Math.imul(pe,Me)|0,k=k+Math.imul(be,Ie)|0,b=b+Math.imul(be,Re)|0,b=b+Math.imul(me,Ie)|0,N=N+Math.imul(me,Re)|0,k=k+Math.imul(ie,Te)|0,b=b+Math.imul(ie,Pe)|0,b=b+Math.imul(ue,Te)|0,N=N+Math.imul(ue,Pe)|0,k=k+Math.imul(K,Ne)|0,b=b+Math.imul(K,Oe)|0,b=b+Math.imul(ne,Ne)|0,N=N+Math.imul(ne,Oe)|0,k=k+Math.imul(B,Be)|0,b=b+Math.imul(B,Le)|0,b=b+Math.imul(L,Be)|0,N=N+Math.imul(L,Le)|0,k=k+Math.imul($,De)|0,b=b+Math.imul($,Fe)|0,b=b+Math.imul(z,De)|0,N=N+Math.imul(z,Fe)|0,k=k+Math.imul(E,Ue)|0,b=b+Math.imul(E,je)|0,b=b+Math.imul(O,Ue)|0,N=N+Math.imul(O,je)|0;var Pn=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,k=Math.imul(we,Ee),b=Math.imul(we,Se),b=b+Math.imul(_e,Ee)|0,N=Math.imul(_e,Se),k=k+Math.imul(ye,Ae)|0,b=b+Math.imul(ye,Ce)|0,b=b+Math.imul(xe,Ae)|0,N=N+Math.imul(xe,Ce)|0,k=k+Math.imul(he,ke)|0,b=b+Math.imul(he,Me)|0,b=b+Math.imul(le,ke)|0,N=N+Math.imul(le,Me)|0,k=k+Math.imul(de,Ie)|0,b=b+Math.imul(de,Re)|0,b=b+Math.imul(pe,Ie)|0,N=N+Math.imul(pe,Re)|0,k=k+Math.imul(be,Te)|0,b=b+Math.imul(be,Pe)|0,b=b+Math.imul(me,Te)|0,N=N+Math.imul(me,Pe)|0,k=k+Math.imul(ie,Ne)|0,b=b+Math.imul(ie,Oe)|0,b=b+Math.imul(ue,Ne)|0,N=N+Math.imul(ue,Oe)|0,k=k+Math.imul(K,Be)|0,b=b+Math.imul(K,Le)|0,b=b+Math.imul(ne,Be)|0,N=N+Math.imul(ne,Le)|0,k=k+Math.imul(B,De)|0,b=b+Math.imul(B,Fe)|0,b=b+Math.imul(L,De)|0,N=N+Math.imul(L,Fe)|0,k=k+Math.imul($,Ue)|0,b=b+Math.imul($,je)|0,b=b+Math.imul(z,Ue)|0,N=N+Math.imul(z,je)|0,k=k+Math.imul(E,ot)|0,b=b+Math.imul(E,st)|0,b=b+Math.imul(O,ot)|0,N=N+Math.imul(O,st)|0;var Nn=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,k=Math.imul(we,Ae),b=Math.imul(we,Ce),b=b+Math.imul(_e,Ae)|0,N=Math.imul(_e,Ce),k=k+Math.imul(ye,ke)|0,b=b+Math.imul(ye,Me)|0,b=b+Math.imul(xe,ke)|0,N=N+Math.imul(xe,Me)|0,k=k+Math.imul(he,Ie)|0,b=b+Math.imul(he,Re)|0,b=b+Math.imul(le,Ie)|0,N=N+Math.imul(le,Re)|0,k=k+Math.imul(de,Te)|0,b=b+Math.imul(de,Pe)|0,b=b+Math.imul(pe,Te)|0,N=N+Math.imul(pe,Pe)|0,k=k+Math.imul(be,Ne)|0,b=b+Math.imul(be,Oe)|0,b=b+Math.imul(me,Ne)|0,N=N+Math.imul(me,Oe)|0,k=k+Math.imul(ie,Be)|0,b=b+Math.imul(ie,Le)|0,b=b+Math.imul(ue,Be)|0,N=N+Math.imul(ue,Le)|0,k=k+Math.imul(K,De)|0,b=b+Math.imul(K,Fe)|0,b=b+Math.imul(ne,De)|0,N=N+Math.imul(ne,Fe)|0,k=k+Math.imul(B,Ue)|0,b=b+Math.imul(B,je)|0,b=b+Math.imul(L,Ue)|0,N=N+Math.imul(L,je)|0,k=k+Math.imul($,ot)|0,b=b+Math.imul($,st)|0,b=b+Math.imul(z,ot)|0,N=N+Math.imul(z,st)|0;var On=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(On>>>26)|0,On&=67108863,k=Math.imul(we,ke),b=Math.imul(we,Me),b=b+Math.imul(_e,ke)|0,N=Math.imul(_e,Me),k=k+Math.imul(ye,Ie)|0,b=b+Math.imul(ye,Re)|0,b=b+Math.imul(xe,Ie)|0,N=N+Math.imul(xe,Re)|0,k=k+Math.imul(he,Te)|0,b=b+Math.imul(he,Pe)|0,b=b+Math.imul(le,Te)|0,N=N+Math.imul(le,Pe)|0,k=k+Math.imul(de,Ne)|0,b=b+Math.imul(de,Oe)|0,b=b+Math.imul(pe,Ne)|0,N=N+Math.imul(pe,Oe)|0,k=k+Math.imul(be,Be)|0,b=b+Math.imul(be,Le)|0,b=b+Math.imul(me,Be)|0,N=N+Math.imul(me,Le)|0,k=k+Math.imul(ie,De)|0,b=b+Math.imul(ie,Fe)|0,b=b+Math.imul(ue,De)|0,N=N+Math.imul(ue,Fe)|0,k=k+Math.imul(K,Ue)|0,b=b+Math.imul(K,je)|0,b=b+Math.imul(ne,Ue)|0,N=N+Math.imul(ne,je)|0,k=k+Math.imul(B,ot)|0,b=b+Math.imul(B,st)|0,b=b+Math.imul(L,ot)|0,N=N+Math.imul(L,st)|0;var Bn=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,k=Math.imul(we,Ie),b=Math.imul(we,Re),b=b+Math.imul(_e,Ie)|0,N=Math.imul(_e,Re),k=k+Math.imul(ye,Te)|0,b=b+Math.imul(ye,Pe)|0,b=b+Math.imul(xe,Te)|0,N=N+Math.imul(xe,Pe)|0,k=k+Math.imul(he,Ne)|0,b=b+Math.imul(he,Oe)|0,b=b+Math.imul(le,Ne)|0,N=N+Math.imul(le,Oe)|0,k=k+Math.imul(de,Be)|0,b=b+Math.imul(de,Le)|0,b=b+Math.imul(pe,Be)|0,N=N+Math.imul(pe,Le)|0,k=k+Math.imul(be,De)|0,b=b+Math.imul(be,Fe)|0,b=b+Math.imul(me,De)|0,N=N+Math.imul(me,Fe)|0,k=k+Math.imul(ie,Ue)|0,b=b+Math.imul(ie,je)|0,b=b+Math.imul(ue,Ue)|0,N=N+Math.imul(ue,je)|0,k=k+Math.imul(K,ot)|0,b=b+Math.imul(K,st)|0,b=b+Math.imul(ne,ot)|0,N=N+Math.imul(ne,st)|0;var Ln=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,k=Math.imul(we,Te),b=Math.imul(we,Pe),b=b+Math.imul(_e,Te)|0,N=Math.imul(_e,Pe),k=k+Math.imul(ye,Ne)|0,b=b+Math.imul(ye,Oe)|0,b=b+Math.imul(xe,Ne)|0,N=N+Math.imul(xe,Oe)|0,k=k+Math.imul(he,Be)|0,b=b+Math.imul(he,Le)|0,b=b+Math.imul(le,Be)|0,N=N+Math.imul(le,Le)|0,k=k+Math.imul(de,De)|0,b=b+Math.imul(de,Fe)|0,b=b+Math.imul(pe,De)|0,N=N+Math.imul(pe,Fe)|0,k=k+Math.imul(be,Ue)|0,b=b+Math.imul(be,je)|0,b=b+Math.imul(me,Ue)|0,N=N+Math.imul(me,je)|0,k=k+Math.imul(ie,ot)|0,b=b+Math.imul(ie,st)|0,b=b+Math.imul(ue,ot)|0,N=N+Math.imul(ue,st)|0;var Dn=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,k=Math.imul(we,Ne),b=Math.imul(we,Oe),b=b+Math.imul(_e,Ne)|0,N=Math.imul(_e,Oe),k=k+Math.imul(ye,Be)|0,b=b+Math.imul(ye,Le)|0,b=b+Math.imul(xe,Be)|0,N=N+Math.imul(xe,Le)|0,k=k+Math.imul(he,De)|0,b=b+Math.imul(he,Fe)|0,b=b+Math.imul(le,De)|0,N=N+Math.imul(le,Fe)|0,k=k+Math.imul(de,Ue)|0,b=b+Math.imul(de,je)|0,b=b+Math.imul(pe,Ue)|0,N=N+Math.imul(pe,je)|0,k=k+Math.imul(be,ot)|0,b=b+Math.imul(be,st)|0,b=b+Math.imul(me,ot)|0,N=N+Math.imul(me,st)|0;var Qo=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,k=Math.imul(we,Be),b=Math.imul(we,Le),b=b+Math.imul(_e,Be)|0,N=Math.imul(_e,Le),k=k+Math.imul(ye,De)|0,b=b+Math.imul(ye,Fe)|0,b=b+Math.imul(xe,De)|0,N=N+Math.imul(xe,Fe)|0,k=k+Math.imul(he,Ue)|0,b=b+Math.imul(he,je)|0,b=b+Math.imul(le,Ue)|0,N=N+Math.imul(le,je)|0,k=k+Math.imul(de,ot)|0,b=b+Math.imul(de,st)|0,b=b+Math.imul(pe,ot)|0,N=N+Math.imul(pe,st)|0;var Yo=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,k=Math.imul(we,De),b=Math.imul(we,Fe),b=b+Math.imul(_e,De)|0,N=Math.imul(_e,Fe),k=k+Math.imul(ye,Ue)|0,b=b+Math.imul(ye,je)|0,b=b+Math.imul(xe,Ue)|0,N=N+Math.imul(xe,je)|0,k=k+Math.imul(he,ot)|0,b=b+Math.imul(he,st)|0,b=b+Math.imul(le,ot)|0,N=N+Math.imul(le,st)|0;var Ng=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Ng>>>26)|0,Ng&=67108863,k=Math.imul(we,Ue),b=Math.imul(we,je),b=b+Math.imul(_e,Ue)|0,N=Math.imul(_e,je),k=k+Math.imul(ye,ot)|0,b=b+Math.imul(ye,st)|0,b=b+Math.imul(xe,ot)|0,N=N+Math.imul(xe,st)|0;var Og=(I+k|0)+((b&8191)<<13)|0;I=(N+(b>>>13)|0)+(Og>>>26)|0,Og&=67108863,k=Math.imul(we,ot),b=Math.imul(we,st),b=b+Math.imul(_e,ot)|0,N=Math.imul(_e,st);var Bg=(I+k|0)+((b&8191)<<13)|0;return I=(N+(b>>>13)|0)+(Bg>>>26)|0,Bg&=67108863,d[0]=cr,d[1]=ur,d[2]=lr,d[3]=fr,d[4]=hr,d[5]=In,d[6]=Rn,d[7]=Tn,d[8]=Pn,d[9]=Nn,d[10]=On,d[11]=Bn,d[12]=Ln,d[13]=Dn,d[14]=Qo,d[15]=Yo,d[16]=Ng,d[17]=Og,d[18]=Bg,I!==0&&(d[19]=I,w.length++),w};Math.imul||(T=C);function P(v,f,h){h.negative=f.negative^v.negative,h.length=v.length+f.length;for(var w=0,M=0,S=0;S<h.length-1;S++){var d=M;M=0;for(var I=w&67108863,k=Math.min(S,f.length-1),b=Math.max(0,S-v.length+1);b<=k;b++){var N=S-b,q=v.words[N]|0,E=f.words[b]|0,O=q*E,U=O&67108863;d=d+(O/67108864|0)|0,U=U+I|0,I=U&67108863,d=d+(U>>>26)|0,M+=d>>>26,d&=67108863}h.words[S]=I,w=d,d=M}return w!==0?h.words[S]=w:h.length--,h._strip()}function D(v,f,h){return P(v,f,h)}o.prototype.mulTo=function(f,h){var w,M=this.length+f.length;return this.length===10&&f.length===10?w=T(this,f,h):M<63?w=C(this,f,h):M<1024?w=P(this,f,h):w=D(this,f,h),w},o.prototype.mul=function(f){var h=new o(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},o.prototype.mulf=function(f){var h=new o(null);return h.words=new Array(this.length+f.length),D(this,f,h)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){var h=f<0;h&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var w=0,M=0;M<this.length;M++){var S=(this.words[M]|0)*f,d=(S&67108863)+(w&67108863);w>>=26,w+=S/67108864|0,w+=d>>>26,this.words[M]=d&67108863}return w!==0&&(this.words[M]=w,this.length++),h?this.ineg():this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var h=y(f);if(h.length===0)return new o(1);for(var w=this,M=0;M<h.length&&h[M]===0;M++,w=w.sqr());if(++M<h.length)for(var S=w.sqr();M<h.length;M++,S=S.sqr())h[M]!==0&&(w=w.mul(S));return w},o.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,w=(f-h)/26,M=67108863>>>26-h<<26-h,S;if(h!==0){var d=0;for(S=0;S<this.length;S++){var I=this.words[S]&M,k=(this.words[S]|0)-I<<h;this.words[S]=k|d,d=I>>>26-h}d&&(this.words[S]=d,this.length++)}if(w!==0){for(S=this.length-1;S>=0;S--)this.words[S+w]=this.words[S];for(S=0;S<w;S++)this.words[S]=0;this.length+=w}return this._strip()},o.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,h,w){n(typeof f=="number"&&f>=0);var M;h?M=(h-h%26)/26:M=0;var S=f%26,d=Math.min((f-S)/26,this.length),I=67108863^67108863>>>S<<S,k=w;if(M-=d,M=Math.max(0,M),k){for(var b=0;b<d;b++)k.words[b]=this.words[b];k.length=d}if(d!==0)if(this.length>d)for(this.length-=d,b=0;b<this.length;b++)this.words[b]=this.words[b+d];else this.words[0]=0,this.length=1;var N=0;for(b=this.length-1;b>=0&&(N!==0||b>=M);b--){var q=this.words[b]|0;this.words[b]=N<<26-S|q>>>S,N=q&I}return k&&N!==0&&(k.words[k.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(f,h,w){return n(this.negative===0),this.iushrn(f,h,w)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,w=(f-h)/26,M=1<<h;if(this.length<=w)return!1;var S=this.words[w];return!!(S&M)},o.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,w=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(h!==0&&w++,this.length=Math.min(w,this.length),h!==0){var M=67108863^67108863>>>h<<h;this.words[this.length-1]&=M}return this._strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,h,w){var M=f.length+w,S;this._expand(M);var d,I=0;for(S=0;S<f.length;S++){d=(this.words[S+w]|0)+I;var k=(f.words[S]|0)*h;d-=k&67108863,I=(d>>26)-(k/67108864|0),this.words[S+w]=d&67108863}for(;S<this.length-w;S++)d=(this.words[S+w]|0)+I,I=d>>26,this.words[S+w]=d&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,S=0;S<this.length;S++)d=-(this.words[S]|0)+I,I=d>>26,this.words[S]=d&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(f,h){var w=this.length-f.length,M=this.clone(),S=f,d=S.words[S.length-1]|0,I=this._countBits(d);w=26-I,w!==0&&(S=S.ushln(w),M.iushln(w),d=S.words[S.length-1]|0);var k=M.length-S.length,b;if(h!=="mod"){b=new o(null),b.length=k+1,b.words=new Array(b.length);for(var N=0;N<b.length;N++)b.words[N]=0}var q=M.clone()._ishlnsubmul(S,1,k);q.negative===0&&(M=q,b&&(b.words[k]=1));for(var E=k-1;E>=0;E--){var O=(M.words[S.length+E]|0)*67108864+(M.words[S.length+E-1]|0);for(O=Math.min(O/d|0,67108863),M._ishlnsubmul(S,O,E);M.negative!==0;)O--,M.negative=0,M._ishlnsubmul(S,1,E),M.isZero()||(M.negative^=1);b&&(b.words[E]=O)}return b&&b._strip(),M._strip(),h!=="div"&&w!==0&&M.iushrn(w),{div:b||null,mod:M}},o.prototype.divmod=function(f,h,w){if(n(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var M,S,d;return this.negative!==0&&f.negative===0?(d=this.neg().divmod(f,h),h!=="mod"&&(M=d.div.neg()),h!=="div"&&(S=d.mod.neg(),w&&S.negative!==0&&S.iadd(f)),{div:M,mod:S}):this.negative===0&&f.negative!==0?(d=this.divmod(f.neg(),h),h!=="mod"&&(M=d.div.neg()),{div:M,mod:d.mod}):(this.negative&f.negative)!==0?(d=this.neg().divmod(f.neg(),h),h!=="div"&&(S=d.mod.neg(),w&&S.negative!==0&&S.isub(f)),{div:d.div,mod:S}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modrn(f.words[0]))}:this._wordDiv(f,h)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var w=h.div.negative!==0?h.mod.isub(f):h.mod,M=f.ushrn(1),S=f.andln(1),d=w.cmp(M);return d<0||S===1&&d===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var w=(1<<26)%f,M=0,S=this.length-1;S>=0;S--)M=(w*M+(this.words[S]|0))%f;return h?-M:M},o.prototype.modn=function(f){return this.modrn(f)},o.prototype.idivn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var w=0,M=this.length-1;M>=0;M--){var S=(this.words[M]|0)+w*67108864;this.words[M]=S/f|0,w=S%f}return this._strip(),h?this.ineg():this},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,w=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var M=new o(1),S=new o(0),d=new o(0),I=new o(1),k=0;h.isEven()&&w.isEven();)h.iushrn(1),w.iushrn(1),++k;for(var b=w.clone(),N=h.clone();!h.isZero();){for(var q=0,E=1;(h.words[0]&E)===0&&q<26;++q,E<<=1);if(q>0)for(h.iushrn(q);q-- >0;)(M.isOdd()||S.isOdd())&&(M.iadd(b),S.isub(N)),M.iushrn(1),S.iushrn(1);for(var O=0,U=1;(w.words[0]&U)===0&&O<26;++O,U<<=1);if(O>0)for(w.iushrn(O);O-- >0;)(d.isOdd()||I.isOdd())&&(d.iadd(b),I.isub(N)),d.iushrn(1),I.iushrn(1);h.cmp(w)>=0?(h.isub(w),M.isub(d),S.isub(I)):(w.isub(h),d.isub(M),I.isub(S))}return{a:d,b:I,gcd:w.iushln(k)}},o.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,w=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var M=new o(1),S=new o(0),d=w.clone();h.cmpn(1)>0&&w.cmpn(1)>0;){for(var I=0,k=1;(h.words[0]&k)===0&&I<26;++I,k<<=1);if(I>0)for(h.iushrn(I);I-- >0;)M.isOdd()&&M.iadd(d),M.iushrn(1);for(var b=0,N=1;(w.words[0]&N)===0&&b<26;++b,N<<=1);if(b>0)for(w.iushrn(b);b-- >0;)S.isOdd()&&S.iadd(d),S.iushrn(1);h.cmp(w)>=0?(h.isub(w),M.isub(S)):(w.isub(h),S.isub(M))}var q;return h.cmpn(1)===0?q=M:q=S,q.cmpn(0)<0&&q.iadd(f),q},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),w=f.clone();h.negative=0,w.negative=0;for(var M=0;h.isEven()&&w.isEven();M++)h.iushrn(1),w.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;w.isEven();)w.iushrn(1);var S=h.cmp(w);if(S<0){var d=h;h=w,w=d}else if(S===0||w.cmpn(1)===0)break;h.isub(w)}while(!0);return w.iushln(M)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,w=(f-h)/26,M=1<<h;if(this.length<=w)return this._expand(w+1),this.words[w]|=M,this;for(var S=M,d=w;S!==0&&d<this.length;d++){var I=this.words[d]|0;I+=S,S=I>>>26,I&=67108863,this.words[d]=I}return S!==0&&(this.words[d]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var w;if(this.length>1)w=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var M=this.words[0]|0;w=M===f?0:M<f?-1:1}return this.negative!==0?-w|0:w},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,w=this.length-1;w>=0;w--){var M=this.words[w]|0,S=f.words[w]|0;if(M!==S){M<S?h=-1:M>S&&(h=1);break}}return h},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new g(f)},o.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var j={k256:null,p224:null,p192:null,p25519:null};function W(v,f){this.name=v,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},W.prototype.ireduce=function(f){var h=f,w;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),w=h.bitLength();while(w>this.n);var M=w<this.n?-1:h.ucmp(this.p);return M===0?(h.words[0]=0,h.length=1):M>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},W.prototype.split=function(f,h){f.iushrn(this.n,0,h)},W.prototype.imulK=function(f){return f.imul(this.k)};function V(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,W),V.prototype.split=function(f,h){for(var w=4194303,M=Math.min(f.length,9),S=0;S<M;S++)h.words[S]=f.words[S];if(h.length=M,f.length<=9){f.words[0]=0,f.length=1;return}var d=f.words[9];for(h.words[h.length++]=d&w,S=10;S<f.length;S++){var I=f.words[S]|0;f.words[S-10]=(I&w)<<4|d>>>22,d=I}d>>>=22,f.words[S-10]=d,d===0&&f.length>10?f.length-=10:f.length-=9},V.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,w=0;w<f.length;w++){var M=f.words[w]|0;h+=M*977,f.words[w]=h&67108863,h=M*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function G(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,W);function Q(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Q,W);function F(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,W),F.prototype.imulK=function(f){for(var h=0,w=0;w<f.length;w++){var M=(f.words[w]|0)*19+h,S=M&67108863;M>>>=26,f.words[w]=S,h=M}return h!==0&&(f.words[f.length++]=h),f},o._prime=function(f){if(j[f])return j[f];var h;if(f==="k256")h=new V;else if(f==="p224")h=new G;else if(f==="p192")h=new Q;else if(f==="p25519")h=new F;else throw new Error("Unknown prime "+f);return j[f]=h,h};function g(v){if(typeof v=="string"){var f=o._prime(v);this.m=f.p,this.prime=f}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}g.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},g.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},g.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},g.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},g.prototype.add=function(f,h){this._verify2(f,h);var w=f.add(h);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},g.prototype.iadd=function(f,h){this._verify2(f,h);var w=f.iadd(h);return w.cmp(this.m)>=0&&w.isub(this.m),w},g.prototype.sub=function(f,h){this._verify2(f,h);var w=f.sub(h);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},g.prototype.isub=function(f,h){this._verify2(f,h);var w=f.isub(h);return w.cmpn(0)<0&&w.iadd(this.m),w},g.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},g.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},g.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},g.prototype.isqr=function(f){return this.imul(f,f.clone())},g.prototype.sqr=function(f){return this.mul(f,f)},g.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var w=this.m.add(new o(1)).iushrn(2);return this.pow(f,w)}for(var M=this.m.subn(1),S=0;!M.isZero()&&M.andln(1)===0;)S++,M.iushrn(1);n(!M.isZero());var d=new o(1).toRed(this),I=d.redNeg(),k=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new o(2*b*b).toRed(this);this.pow(b,k).cmp(I)!==0;)b.redIAdd(I);for(var N=this.pow(b,M),q=this.pow(f,M.addn(1).iushrn(1)),E=this.pow(f,M),O=S;E.cmp(d)!==0;){for(var U=E,$=0;U.cmp(d)!==0;$++)U=U.redSqr();n($<O);var z=this.pow(N,new o(1).iushln(O-$-1));q=q.redMul(z),N=z.redSqr(),E=E.redMul(N),O=$}return q},g.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},g.prototype.pow=function(f,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var w=4,M=new Array(1<<w);M[0]=new o(1).toRed(this),M[1]=f;for(var S=2;S<M.length;S++)M[S]=this.mul(M[S-1],f);var d=M[0],I=0,k=0,b=h.bitLength()%26;for(b===0&&(b=26),S=h.length-1;S>=0;S--){for(var N=h.words[S],q=b-1;q>=0;q--){var E=N>>q&1;if(d!==M[0]&&(d=this.sqr(d)),E===0&&I===0){k=0;continue}I<<=1,I|=E,k++,!(k!==w&&(S!==0||q!==0))&&(d=this.mul(d,M[I]),k=0,I=0)}b=26}return d},g.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},g.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},o.mont=function(f){return new A(f)};function A(v){g.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(A,g),A.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},A.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},A.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var w=f.imul(h),M=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=w.isub(M).iushrn(this.shift),d=S;return S.cmp(this.m)>=0?d=S.isub(this.m):S.cmpn(0)<0&&(d=S.iadd(this.m)),d._forceRed(this)},A.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new o(0)._forceRed(this);var w=f.mul(h),M=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=w.isub(M).iushrn(this.shift),d=S;return S.cmp(this.m)>=0?d=S.isub(this.m):S.cmpn(0)<0&&(d=S.iadd(this.m)),d._forceRed(this)},A.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,ae)})(es);var ze=es.exports;const n6="logger/5.7.0";let $g=!1,Wg=!1;const fu={debug:1,default:2,info:2,warning:3,error:4,off:5};let qg=fu.default,rh=null;function i6(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const Hg=i6();var hu;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(hu||(hu={}));var Zr;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Zr||(Zr={}));const zg="0123456789abcdef";class H{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();fu[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(qg>fu[n])&&console.log.apply(console,r)}debug(...e){this._log(H.levels.DEBUG,e)}info(...e){this._log(H.levels.INFO,e)}warn(...e){this._log(H.levels.WARNING,e)}makeError(e,r,n){if(Wg)return this.makeError("censored error",r,{});r||(r=H.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const u=n[c];try{if(u instanceof Uint8Array){let l="";for(let p=0;p<u.length;p++)l+=zg[u[p]>>4],l+=zg[u[p]&15];i.push(c+"=Uint8Array(0x"+l+")")}else i.push(c+"="+JSON.stringify(u))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const o=e;let s="";switch(r){case Zr.NUMERIC_FAULT:{s="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":s+="-"+c;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Zr.CALL_EXCEPTION:case Zr.INSUFFICIENT_FUNDS:case Zr.MISSING_NEW:case Zr.NONCE_EXPIRED:case Zr.REPLACEMENT_UNDERPRICED:case Zr.TRANSACTION_REPLACED:case Zr.UNPREDICTABLE_GAS_LIMIT:s=r;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,H.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Hg&&this.throwError("platform missing String.prototype.normalize",H.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Hg})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,H.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,H.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,H.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,H.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",H.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",H.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",H.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return rh||(rh=new H(n6)),rh}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",H.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$g){if(!e)return;this.globalLogger().throwError("error censorship permanent",H.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Wg=!!e,$g=!!r}static setLogLevel(e){const r=fu[e.toLowerCase()];if(r==null){H.globalLogger().warn("invalid log level - "+e);return}qg=r}static from(e){return new H(e)}}H.errors=Zr,H.levels=hu;var o6=Object.freeze({__proto__:null,get LogLevel(){return hu},get ErrorCode(){return Zr},Logger:H});const s6="bytes/5.7.0",St=new H(s6);function Vg(t){return!!t.toHexString}function ts(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ts(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ca(t){return Ve(t)&&!(t.length%2)||Ri(t)}function Gg(t){return typeof t=="number"&&t==t&&t%1===0}function Ri(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Gg(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Gg(r)||r<0||r>=256)return!1}return!0}function ee(t,e){if(e||(e={}),typeof t=="number"){St.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),ts(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Vg(t)&&(t=t.toHexString()),Ve(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":St.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return ts(new Uint8Array(n))}return Ri(t)?ts(new Uint8Array(t)):St.throwArgumentError("invalid arrayify value","value",t)}function ht(t){const e=t.map(i=>ee(i)),r=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(r);return e.reduce((i,o)=>(n.set(o,i),i+o.length),0),ts(n)}function Fn(t){let e=ee(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function ka(t,e){t=ee(t),t.length>e&&St.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),ts(r)}function Ve(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const nh="0123456789abcdef";function re(t,e){if(e||(e={}),typeof t=="number"){St.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=nh[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Vg(t))return t.toHexString();if(Ve(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":St.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Ri(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=nh[(i&240)>>4]+nh[i&15]}return r}return St.throwArgumentError("invalid hexlify value","value",t)}function Un(t){if(typeof t!="string")t=re(t);else if(!Ve(t)||t.length%2)return null;return(t.length-2)/2}function It(t,e,r){return typeof t!="string"?t=re(t):(!Ve(t)||t.length%2)&&St.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function dr(t){let e="0x";return t.forEach(r=>{e+=re(r).substring(2)}),e}function Ma(t){const e=Kg(re(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Kg(t){typeof t!="string"&&(t=re(t)),Ve(t)||St.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function dt(t,e){for(typeof t!="string"?t=re(t):Ve(t)||St.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&St.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function mo(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ca(t)){let r=ee(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=re(r.slice(0,32)),e.s=re(r.slice(32,64))):r.length===65?(e.r=re(r.slice(0,32)),e.s=re(r.slice(32,64)),e.v=r[64]):St.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:St.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=re(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=ka(ee(e._vs),32);e._vs=re(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&St.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=re(i);e.s==null?e.s=s:e.s!==s&&St.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?St.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&St.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ve(e.r)?St.throwArgumentError("signature missing or invalid r","signature",t):e.r=dt(e.r,32),e.s==null||!Ve(e.s)?St.throwArgumentError("signature missing or invalid s","signature",t):e.s=dt(e.s,32);const r=ee(e.s);r[0]>=128&&St.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=re(r);e._vs&&(Ve(e._vs)||St.throwArgumentError("signature invalid _vs","signature",t),e._vs=dt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&St.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function ih(t){return t=mo(t),re(ht([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}var a6=Object.freeze({__proto__:null,isBytesLike:Ca,isBytes:Ri,arrayify:ee,concat:ht,stripZeros:Fn,zeroPad:ka,isHexString:Ve,hexlify:re,hexDataLength:Un,hexDataSlice:It,hexConcat:dr,hexValue:Ma,hexStripZeros:Kg,hexZeroPad:dt,splitSignature:mo,joinSignature:ih});const Jg="bignumber/5.7.0";var Ia=ze.BN;const ai=new H(Jg),oh={},Qg=9007199254740991;function c6(t){return t!=null&&(te.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Ve(t)||typeof t=="bigint"||Ri(t))}let Yg=!1;class te{constructor(e,r){e!==oh&&ai.throwError("cannot call constructor directly; use BigNumber.from",H.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ar(Ze(this).fromTwos(e))}toTwos(e){return Ar(Ze(this).toTwos(e))}abs(){return this._hex[0]==="-"?te.from(this._hex.substring(1)):this}add(e){return Ar(Ze(this).add(Ze(e)))}sub(e){return Ar(Ze(this).sub(Ze(e)))}div(e){return te.from(e).isZero()&&Xr("division-by-zero","div"),Ar(Ze(this).div(Ze(e)))}mul(e){return Ar(Ze(this).mul(Ze(e)))}mod(e){const r=Ze(e);return r.isNeg()&&Xr("division-by-zero","mod"),Ar(Ze(this).umod(r))}pow(e){const r=Ze(e);return r.isNeg()&&Xr("negative-power","pow"),Ar(Ze(this).pow(r))}and(e){const r=Ze(e);return(this.isNegative()||r.isNeg())&&Xr("unbound-bitwise-result","and"),Ar(Ze(this).and(r))}or(e){const r=Ze(e);return(this.isNegative()||r.isNeg())&&Xr("unbound-bitwise-result","or"),Ar(Ze(this).or(r))}xor(e){const r=Ze(e);return(this.isNegative()||r.isNeg())&&Xr("unbound-bitwise-result","xor"),Ar(Ze(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Xr("negative-width","mask"),Ar(Ze(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Xr("negative-width","shl"),Ar(Ze(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Xr("negative-width","shr"),Ar(Ze(this).shrn(e))}eq(e){return Ze(this).eq(Ze(e))}lt(e){return Ze(this).lt(Ze(e))}lte(e){return Ze(this).lte(Ze(e))}gt(e){return Ze(this).gt(Ze(e))}gte(e){return Ze(this).gte(Ze(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Ze(this).isZero()}toNumber(){try{return Ze(this).toNumber()}catch{Xr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ai.throwError("this platform does not support BigInt",H.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Yg||(Yg=!0,ai.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ai.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",H.errors.UNEXPECTED_ARGUMENT,{}):ai.throwError("BigNumber.toString does not accept parameters",H.errors.UNEXPECTED_ARGUMENT,{})),Ze(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof te)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new te(oh,Ra(e)):e.match(/^-?[0-9]+$/)?new te(oh,Ra(new Ia(e))):ai.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Xr("underflow","BigNumber.from",e),(e>=Qg||e<=-Qg)&&Xr("overflow","BigNumber.from",e),te.from(String(e));const r=e;if(typeof r=="bigint")return te.from(r.toString());if(Ri(r))return te.from(re(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return te.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ve(n)||n[0]==="-"&&Ve(n.substring(1))))return te.from(n)}return ai.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Ra(t){if(typeof t!="string")return Ra(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ai.throwArgumentError("invalid hex","value",t),t=Ra(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ar(t){return te.from(Ra(t))}function Ze(t){const e=te.from(t).toHexString();return e[0]==="-"?new Ia("-"+e.substring(3),16):new Ia(e.substring(2),16)}function Xr(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),ai.throwError(t,H.errors.NUMERIC_FAULT,n)}function Zg(t){return new Ia(t,36).toString(16)}function Xg(t){return new Ia(t,16).toString(36)}const pr=new H(Jg),Ta={},eb=te.from(0),tb=te.from(-1);function rb(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),pr.throwError(t,H.errors.NUMERIC_FAULT,i)}let Pa="0";for(;Pa.length<256;)Pa+=Pa;function sh(t){if(typeof t!="number")try{t=te.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Pa.substring(0,t):pr.throwArgumentError("invalid decimal size","decimals",t)}function Na(t,e){e==null&&(e=0);const r=sh(e);t=te.from(t);const n=t.lt(eb);n&&(t=t.mul(tb));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return r.length===1?t=o:t=o+"."+i,n&&(t="-"+t),t}function dn(t,e){e==null&&(e=0);const r=sh(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&pr.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&pr.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&pr.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>r.length-1&&rb("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<r.length-1;)s+="0";const a=te.from(o),c=te.from(s);let u=a.mul(r).add(c);return n&&(u=u.mul(tb)),u}class vo{constructor(e,r,n,i){e!==Ta&&pr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",H.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=sh(i),Object.freeze(this)}static from(e){if(e instanceof vo)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||pr.throwArgumentError("invalid fixed format","format",e),r=o[1]!=="u",n=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,c)=>e[s]==null?c:(typeof e[s]!==a&&pr.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);r=o("signed","boolean",r),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&pr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&pr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new vo(Ta,r,n,i)}}class Lt{constructor(e,r,n,i){e!==Ta&&pr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",H.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&pr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=dn(this._value,this.format.decimals),n=dn(e._value,e.format.decimals);return Lt.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=dn(this._value,this.format.decimals),n=dn(e._value,e.format.decimals);return Lt.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=dn(this._value,this.format.decimals),n=dn(e._value,e.format.decimals);return Lt.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=dn(this._value,this.format.decimals),n=dn(e._value,e.format.decimals);return Lt.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Lt.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(nb.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Lt.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(nb.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&pr.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Lt.from("1"+Pa.substring(0,e),this.format),i=u6.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&pr.throwArgumentError("invalid byte width","width",e);const r=te.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return dt(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Lt.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!c6(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Lt.fromString(Na(e,r),vo.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=vo.from(r),i=dn(e,n.decimals);!n.signed&&i.lt(eb)&&rb("unsigned value cannot be negative","overflow","value",e);let o=null;n.signed?o=i.toTwos(n.width).toHexString():(o=i.toHexString(),o=dt(o,n.width/8));const s=Na(i,n.decimals);return new Lt(Ta,o,s,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=vo.from(r);if(ee(e).length>n.width/8)throw new Error("overflow");let i=te.from(e);n.signed&&(i=i.fromTwos(n.width));const o=i.toTwos((n.signed?0:1)+n.width).toHexString(),s=Na(i,n.decimals);return new Lt(Ta,o,s,n)}static from(e,r){if(typeof e=="string")return Lt.fromString(e,r);if(Ri(e))return Lt.fromBytes(e,r);try{return Lt.fromValue(e,0,r)}catch(n){if(n.code!==H.errors.INVALID_ARGUMENT)throw n}return pr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const nb=Lt.from(1),u6=Lt.from("0.5");var l6=Object.freeze({__proto__:null,BigNumber:te,formatFixed:Na,FixedFormat:vo,FixedNumber:Lt,parseFixed:dn,_base16To36:Xg,_base36To16:Zg});const f6="properties/5.7.0";var h6=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const du=new H(f6);function J(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function zt(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function At(t){return h6(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function ah(t,e){(!t||typeof t!="object")&&du.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||du.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function pt(t){const e={};for(const r in t)e[r]=t[r];return e}const d6={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function ib(t){if(t==null||d6[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!ib(n))return!1}return!0}return du.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function p6(t){if(ib(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>gr(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&J(e,r,gr(n))}return e}return du.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function gr(t){return p6(t)}class Ti{constructor(e){for(const r in e)this[r]=gr(e[r])}}var g6=Object.freeze({__proto__:null,defineReadOnly:J,getStatic:zt,resolveProperties:At,checkProperties:ah,shallowCopy:pt,deepCopy:gr,Description:Ti});const Oa="abi/5.7.0",tt=new H(Oa),yo={};let ob={calldata:!0,memory:!0,storage:!0},b6={calldata:!0,memory:!0};function pu(t,e){if(t==="bytes"||t==="string"){if(ob[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&b6[e])return!0;return(ob[e]||e==="payable")&&tt.throwArgumentError("invalid modifier","name",e),!1}function m6(t,e){let r=t;function n(a){tt.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=rs(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),pu(s.type,s.name)&&(s.name=""),s.type=rs(s.type);let u=s;s=s.parent,s||n(a),delete u.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),pu(s.type,s.name)&&(s.name=""),s.type=rs(s.type);let l=i(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&s.type!==""&&(s.type=rs(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):pu(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(a)}}return s.parent&&tt.throwArgumentError("unexpected eof","param",t),delete o.state,s.name==="indexed"?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):pu(s.type,s.name)&&(s.name=""),o.type=rs(o.type),o}function gu(t,e){for(let r in e)J(t,r,e[r])}const it=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),v6=new RegExp(/^(.*)\[([0-9]*)\]$/);class Bt{constructor(e,r){e!==yo&&tt.throwError("use fromString",H.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),gu(this,r);let n=this.type.match(v6);n?gu(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Bt.fromObject({type:n[1],components:this.components}),baseType:"array"}):gu(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=it.sighash),it[e]||tt.throwArgumentError("invalid format type","format",e),e===it.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==it.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===it.full?", ":",")+")"):r+=this.type,e!==it.sighash&&(this.indexed===!0&&(r+=" indexed"),e===it.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Bt.fromString(e,r):Bt.fromObject(e)}static fromObject(e){return Bt.isParamType(e)?e:new Bt(yo,{name:e.name||null,type:rs(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Bt.fromObject):null})}static fromString(e,r){function n(i){return Bt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(m6(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Ba(t,e){return x6(t).map(r=>Bt.fromString(r,e))}class jn{constructor(e,r){e!==yo&&tt.throwError("use a static from method",H.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),gu(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return jn.isFragment(e)?e:typeof e=="string"?jn.fromString(e):jn.fromObject(e)}static fromObject(e){if(jn.isFragment(e))return e;switch(e.type){case"function":return gn.fromObject(e);case"event":return $n.fromObject(e);case"constructor":return pn.fromObject(e);case"error":return ci.fromObject(e);case"fallback":case"receive":return null}return tt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?$n.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?gn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?pn.fromString(e.trim()):e.split(" ")[0]==="error"?ci.fromString(e.substring(5).trim()):tt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class $n extends jn{format(e){if(e||(e=it.sighash),it[e]||tt.throwArgumentError("invalid format type","format",e),e===it.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==it.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===it.full?", ":",")+") ",e!==it.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?$n.fromString(e):$n.fromObject(e)}static fromObject(e){if($n.isEventFragment(e))return e;e.type!=="event"&&tt.throwArgumentError("invalid event object","value",e);const r={name:La(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],type:"event"};return new $n(yo,r)}static fromString(e){let r=e.match(Da);r||tt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:tt.warn("unknown modifier: "+i)}}),$n.fromObject({name:r[1].trim(),anonymous:n,inputs:Ba(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function sb(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&tt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||tt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=te.from(r[1]),r[0]):t}function ab(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function cb(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&tt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&tt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&tt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&tt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&tt.throwArgumentError("unable to determine stateMutability","value",t),e}class pn extends jn{format(e){if(e||(e=it.sighash),it[e]||tt.throwArgumentError("invalid format type","format",e),e===it.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===it.sighash&&tt.throwError("cannot format a constructor for sighash",H.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===it.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?pn.fromString(e):pn.fromObject(e)}static fromObject(e){if(pn.isConstructorFragment(e))return e;e.type!=="constructor"&&tt.throwArgumentError("invalid constructor object","value",e);let r=cb(e);r.constant&&tt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?te.from(e.gas):null};return new pn(yo,n)}static fromString(e){let r={type:"constructor"};e=sb(e,r);let n=e.match(Da);return(!n||n[1].trim()!=="constructor")&&tt.throwArgumentError("invalid constructor string","value",e),r.inputs=Ba(n[2].trim(),!1),ab(n[3].trim(),r),pn.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class gn extends pn{format(e){if(e||(e=it.sighash),it[e]||tt.throwArgumentError("invalid format type","format",e),e===it.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==it.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===it.full?", ":",")+") ",e!==it.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?gn.fromString(e):gn.fromObject(e)}static fromObject(e){if(gn.isFunctionFragment(e))return e;e.type!=="function"&&tt.throwArgumentError("invalid function object","value",e);let r=cb(e);const n={type:e.type,name:La(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],outputs:e.outputs?e.outputs.map(Bt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?te.from(e.gas):null};return new gn(yo,n)}static fromString(e){let r={type:"function"};e=sb(e,r);let n=e.split(" returns ");n.length>2&&tt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Da);if(i||tt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&La(r.name),r.inputs=Ba(i[2],!1),ab(i[3].trim(),r),n.length>1){let o=n[1].match(Da);(o[1].trim()!=""||o[3].trim()!="")&&tt.throwArgumentError("unexpected tokens","value",e),r.outputs=Ba(o[2],!1)}else r.outputs=[];return gn.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function ub(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&tt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ci extends jn{format(e){if(e||(e=it.sighash),it[e]||tt.throwArgumentError("invalid format type","format",e),e===it.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==it.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===it.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?ci.fromString(e):ci.fromObject(e)}static fromObject(e){if(ci.isErrorFragment(e))return e;e.type!=="error"&&tt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:La(e.name),inputs:e.inputs?e.inputs.map(Bt.fromObject):[]};return ub(new ci(yo,r))}static fromString(e){let r={type:"error"},n=e.match(Da);return n||tt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&La(r.name),r.inputs=Ba(n[2],!1),ub(ci.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function rs(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const y6=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function La(t){return(!t||!t.match(y6))&&tt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Da=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function x6(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];o===","&&n===0?(e.push(r),r=""):(r+=o,o==="("?n++:o===")"&&(n--,n===-1&&tt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const ch=new H(Oa);function lb(t){const e=[],r=function(n,i){if(!!Array.isArray(i))for(let o in i){const s=n.slice();s.push(o);try{r(s,i[o])}catch(a){e.push({path:s,error:a})}}};return r([],t),e}class ui{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){ch.throwArgumentError(e,this.localName,r)}}class uh{constructor(e){J(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return dr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(ht(e._data))}writeBytes(e){let r=ee(e);const n=r.length%this.wordSize;return n&&(r=ht([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=ee(te.from(e));return r.length>this.wordSize&&ch.throwError("value out-of-bounds",H.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=ht([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class bu{constructor(e,r,n,i){J(this,"_data",ee(e)),J(this,"wordSize",r||32),J(this,"_coerceFunc",n),J(this,"allowLoose",i),this._offset=0}get data(){return re(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):bu.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:ch.throwError("data out-of-bounds",H.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new bu(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return te.from(this.readBytes(this.wordSize))}}var lh={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=ae:o&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],m=[1,256,65536,16777216],x=[6,1536,393216,100663296],_=[0,8,16,24],R=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],C=[128,256],T=["hex","buffer","arrayBuffer","array","digest"],P={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(E){return Object.prototype.toString.call(E)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(E){return typeof E=="object"&&E.buffer&&E.buffer.constructor===ArrayBuffer});for(var D=function(E,O,U){return function($){return new b(E,O,E).update($)[U]()}},j=function(E,O,U){return function($,z){return new b(E,O,z).update($)[U]()}},W=function(E,O,U){return function($,z,Z,B){return f["cshake"+E].update($,z,Z,B)[U]()}},V=function(E,O,U){return function($,z,Z,B){return f["kmac"+E].update($,z,Z,B)[U]()}},G=function(E,O,U,$){for(var z=0;z<T.length;++z){var Z=T[z];E[Z]=O(U,$,Z)}return E},Q=function(E,O){var U=D(E,O,"hex");return U.create=function(){return new b(E,O,E)},U.update=function($){return U.create().update($)},G(U,D,E,O)},F=function(E,O){var U=j(E,O,"hex");return U.create=function($){return new b(E,O,$)},U.update=function($,z){return U.create(z).update($)},G(U,j,E,O)},g=function(E,O){var U=P[E],$=W(E,O,"hex");return $.create=function(z,Z,B){return!Z&&!B?f["shake"+E].create(z):new b(E,O,z).bytepad([Z,B],U)},$.update=function(z,Z,B,L){return $.create(Z,B,L).update(z)},G($,W,E,O)},A=function(E,O){var U=P[E],$=V(E,O,"hex");return $.create=function(z,Z,B){return new N(E,O,Z).bytepad(["KMAC",B],U).bytepad([z],U)},$.update=function(z,Z,B,L){return $.create(z,B,L).update(Z)},G($,V,E,O)},v=[{name:"keccak",padding:m,bits:y,createMethod:Q},{name:"sha3",padding:x,bits:y,createMethod:Q},{name:"shake",padding:l,bits:C,createMethod:F},{name:"cshake",padding:p,bits:C,createMethod:g},{name:"kmac",padding:p,bits:C,createMethod:A}],f={},h=[],w=0;w<v.length;++w)for(var M=v[w],S=M.bits,d=0;d<S.length;++d){var I=M.name+"_"+S[d];if(h.push(I),f[I]=M.createMethod(S[d],M.padding),M.name!=="sha3"){var k=M.name+S[d];h.push(k),f[k]=f[I]}}function b(E,O,U){this.blocks=[],this.s=[],this.padding=O,this.outputBits=U,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(E<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=U>>5,this.extraBytes=(U&31)>>3;for(var $=0;$<50;++$)this.s[$]=0}b.prototype.update=function(E){if(this.finalized)throw new Error(r);var O,U=typeof E;if(U!=="string"){if(U==="object"){if(E===null)throw new Error(e);if(c&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!c||!ArrayBuffer.isView(E)))throw new Error(e)}else throw new Error(e);O=!0}for(var $=this.blocks,z=this.byteCount,Z=E.length,B=this.blockCount,L=0,Y=this.s,K,ne;L<Z;){if(this.reset)for(this.reset=!1,$[0]=this.block,K=1;K<B+1;++K)$[K]=0;if(O)for(K=this.start;L<Z&&K<z;++L)$[K>>2]|=E[L]<<_[K++&3];else for(K=this.start;L<Z&&K<z;++L)ne=E.charCodeAt(L),ne<128?$[K>>2]|=ne<<_[K++&3]:ne<2048?($[K>>2]|=(192|ne>>6)<<_[K++&3],$[K>>2]|=(128|ne&63)<<_[K++&3]):ne<55296||ne>=57344?($[K>>2]|=(224|ne>>12)<<_[K++&3],$[K>>2]|=(128|ne>>6&63)<<_[K++&3],$[K>>2]|=(128|ne&63)<<_[K++&3]):(ne=65536+((ne&1023)<<10|E.charCodeAt(++L)&1023),$[K>>2]|=(240|ne>>18)<<_[K++&3],$[K>>2]|=(128|ne>>12&63)<<_[K++&3],$[K>>2]|=(128|ne>>6&63)<<_[K++&3],$[K>>2]|=(128|ne&63)<<_[K++&3]);if(this.lastByteIndex=K,K>=z){for(this.start=K-z,this.block=$[B],K=0;K<B;++K)Y[K]^=$[K];q(Y),this.reset=!0}else this.start=K}return this},b.prototype.encode=function(E,O){var U=E&255,$=1,z=[U];for(E=E>>8,U=E&255;U>0;)z.unshift(U),E=E>>8,U=E&255,++$;return O?z.push($):z.unshift($),this.update(z),z.length},b.prototype.encodeString=function(E){var O,U=typeof E;if(U!=="string"){if(U==="object"){if(E===null)throw new Error(e);if(c&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!c||!ArrayBuffer.isView(E)))throw new Error(e)}else throw new Error(e);O=!0}var $=0,z=E.length;if(O)$=z;else for(var Z=0;Z<E.length;++Z){var B=E.charCodeAt(Z);B<128?$+=1:B<2048?$+=2:B<55296||B>=57344?$+=3:(B=65536+((B&1023)<<10|E.charCodeAt(++Z)&1023),$+=4)}return $+=this.encode($*8),this.update(E),$},b.prototype.bytepad=function(E,O){for(var U=this.encode(O),$=0;$<E.length;++$)U+=this.encodeString(E[$]);var z=O-U%O,Z=[];return Z.length=z,this.update(Z),this},b.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var E=this.blocks,O=this.lastByteIndex,U=this.blockCount,$=this.s;if(E[O>>2]|=this.padding[O&3],this.lastByteIndex===this.byteCount)for(E[0]=E[U],O=1;O<U+1;++O)E[O]=0;for(E[U-1]|=2147483648,O=0;O<U;++O)$[O]^=E[O];q($)}},b.prototype.toString=b.prototype.hex=function(){this.finalize();for(var E=this.blockCount,O=this.s,U=this.outputBlocks,$=this.extraBytes,z=0,Z=0,B="",L;Z<U;){for(z=0;z<E&&Z<U;++z,++Z)L=O[z],B+=u[L>>4&15]+u[L&15]+u[L>>12&15]+u[L>>8&15]+u[L>>20&15]+u[L>>16&15]+u[L>>28&15]+u[L>>24&15];Z%E===0&&(q(O),z=0)}return $&&(L=O[z],B+=u[L>>4&15]+u[L&15],$>1&&(B+=u[L>>12&15]+u[L>>8&15]),$>2&&(B+=u[L>>20&15]+u[L>>16&15])),B},b.prototype.arrayBuffer=function(){this.finalize();var E=this.blockCount,O=this.s,U=this.outputBlocks,$=this.extraBytes,z=0,Z=0,B=this.outputBits>>3,L;$?L=new ArrayBuffer(U+1<<2):L=new ArrayBuffer(B);for(var Y=new Uint32Array(L);Z<U;){for(z=0;z<E&&Z<U;++z,++Z)Y[Z]=O[z];Z%E===0&&q(O)}return $&&(Y[z]=O[z],L=L.slice(0,B)),L},b.prototype.buffer=b.prototype.arrayBuffer,b.prototype.digest=b.prototype.array=function(){this.finalize();for(var E=this.blockCount,O=this.s,U=this.outputBlocks,$=this.extraBytes,z=0,Z=0,B=[],L,Y;Z<U;){for(z=0;z<E&&Z<U;++z,++Z)L=Z<<2,Y=O[z],B[L]=Y&255,B[L+1]=Y>>8&255,B[L+2]=Y>>16&255,B[L+3]=Y>>24&255;Z%E===0&&q(O)}return $&&(L=Z<<2,Y=O[z],B[L]=Y&255,$>1&&(B[L+1]=Y>>8&255),$>2&&(B[L+2]=Y>>16&255)),B};function N(E,O,U){b.call(this,E,O,U)}N.prototype=new b,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),b.prototype.finalize.call(this)};var q=function(E){var O,U,$,z,Z,B,L,Y,K,ne,ve,ie,ue,Ht,be,me,ar,de,pe,Xt,he,le,Nt,ye,xe,Rr,we,_e,Tr,Ee,Se,Pr,Ae,Ce,Nr,ke,Me,Or,Ie,Re,Br,Te,Pe,Lr,Ne,Oe,Dr,Be,Le,Fr,De,Fe,Ur,Ue,je,Er,ot,st,cr,ur,lr,fr,hr;for($=0;$<48;$+=2)z=E[0]^E[10]^E[20]^E[30]^E[40],Z=E[1]^E[11]^E[21]^E[31]^E[41],B=E[2]^E[12]^E[22]^E[32]^E[42],L=E[3]^E[13]^E[23]^E[33]^E[43],Y=E[4]^E[14]^E[24]^E[34]^E[44],K=E[5]^E[15]^E[25]^E[35]^E[45],ne=E[6]^E[16]^E[26]^E[36]^E[46],ve=E[7]^E[17]^E[27]^E[37]^E[47],ie=E[8]^E[18]^E[28]^E[38]^E[48],ue=E[9]^E[19]^E[29]^E[39]^E[49],O=ie^(B<<1|L>>>31),U=ue^(L<<1|B>>>31),E[0]^=O,E[1]^=U,E[10]^=O,E[11]^=U,E[20]^=O,E[21]^=U,E[30]^=O,E[31]^=U,E[40]^=O,E[41]^=U,O=z^(Y<<1|K>>>31),U=Z^(K<<1|Y>>>31),E[2]^=O,E[3]^=U,E[12]^=O,E[13]^=U,E[22]^=O,E[23]^=U,E[32]^=O,E[33]^=U,E[42]^=O,E[43]^=U,O=B^(ne<<1|ve>>>31),U=L^(ve<<1|ne>>>31),E[4]^=O,E[5]^=U,E[14]^=O,E[15]^=U,E[24]^=O,E[25]^=U,E[34]^=O,E[35]^=U,E[44]^=O,E[45]^=U,O=Y^(ie<<1|ue>>>31),U=K^(ue<<1|ie>>>31),E[6]^=O,E[7]^=U,E[16]^=O,E[17]^=U,E[26]^=O,E[27]^=U,E[36]^=O,E[37]^=U,E[46]^=O,E[47]^=U,O=ne^(z<<1|Z>>>31),U=ve^(Z<<1|z>>>31),E[8]^=O,E[9]^=U,E[18]^=O,E[19]^=U,E[28]^=O,E[29]^=U,E[38]^=O,E[39]^=U,E[48]^=O,E[49]^=U,Ht=E[0],be=E[1],Oe=E[11]<<4|E[10]>>>28,Dr=E[10]<<4|E[11]>>>28,_e=E[20]<<3|E[21]>>>29,Tr=E[21]<<3|E[20]>>>29,ur=E[31]<<9|E[30]>>>23,lr=E[30]<<9|E[31]>>>23,Te=E[40]<<18|E[41]>>>14,Pe=E[41]<<18|E[40]>>>14,Ce=E[2]<<1|E[3]>>>31,Nr=E[3]<<1|E[2]>>>31,me=E[13]<<12|E[12]>>>20,ar=E[12]<<12|E[13]>>>20,Be=E[22]<<10|E[23]>>>22,Le=E[23]<<10|E[22]>>>22,Ee=E[33]<<13|E[32]>>>19,Se=E[32]<<13|E[33]>>>19,fr=E[42]<<2|E[43]>>>30,hr=E[43]<<2|E[42]>>>30,Ue=E[5]<<30|E[4]>>>2,je=E[4]<<30|E[5]>>>2,ke=E[14]<<6|E[15]>>>26,Me=E[15]<<6|E[14]>>>26,de=E[25]<<11|E[24]>>>21,pe=E[24]<<11|E[25]>>>21,Fr=E[34]<<15|E[35]>>>17,De=E[35]<<15|E[34]>>>17,Pr=E[45]<<29|E[44]>>>3,Ae=E[44]<<29|E[45]>>>3,ye=E[6]<<28|E[7]>>>4,xe=E[7]<<28|E[6]>>>4,Er=E[17]<<23|E[16]>>>9,ot=E[16]<<23|E[17]>>>9,Or=E[26]<<25|E[27]>>>7,Ie=E[27]<<25|E[26]>>>7,Xt=E[36]<<21|E[37]>>>11,he=E[37]<<21|E[36]>>>11,Fe=E[47]<<24|E[46]>>>8,Ur=E[46]<<24|E[47]>>>8,Lr=E[8]<<27|E[9]>>>5,Ne=E[9]<<27|E[8]>>>5,Rr=E[18]<<20|E[19]>>>12,we=E[19]<<20|E[18]>>>12,st=E[29]<<7|E[28]>>>25,cr=E[28]<<7|E[29]>>>25,Re=E[38]<<8|E[39]>>>24,Br=E[39]<<8|E[38]>>>24,le=E[48]<<14|E[49]>>>18,Nt=E[49]<<14|E[48]>>>18,E[0]=Ht^~me&de,E[1]=be^~ar&pe,E[10]=ye^~Rr&_e,E[11]=xe^~we&Tr,E[20]=Ce^~ke&Or,E[21]=Nr^~Me&Ie,E[30]=Lr^~Oe&Be,E[31]=Ne^~Dr&Le,E[40]=Ue^~Er&st,E[41]=je^~ot&cr,E[2]=me^~de&Xt,E[3]=ar^~pe&he,E[12]=Rr^~_e&Ee,E[13]=we^~Tr&Se,E[22]=ke^~Or&Re,E[23]=Me^~Ie&Br,E[32]=Oe^~Be&Fr,E[33]=Dr^~Le&De,E[42]=Er^~st&ur,E[43]=ot^~cr&lr,E[4]=de^~Xt&le,E[5]=pe^~he&Nt,E[14]=_e^~Ee&Pr,E[15]=Tr^~Se&Ae,E[24]=Or^~Re&Te,E[25]=Ie^~Br&Pe,E[34]=Be^~Fr&Fe,E[35]=Le^~De&Ur,E[44]=st^~ur&fr,E[45]=cr^~lr&hr,E[6]=Xt^~le&Ht,E[7]=he^~Nt&be,E[16]=Ee^~Pr&ye,E[17]=Se^~Ae&xe,E[26]=Re^~Te&Ce,E[27]=Br^~Pe&Nr,E[36]=Fr^~Fe&Lr,E[37]=De^~Ur&Ne,E[46]=ur^~fr&Ue,E[47]=lr^~hr&je,E[8]=le^~Ht&me,E[9]=Nt^~be&ar,E[18]=Pr^~ye&Rr,E[19]=Ae^~xe&we,E[28]=Te^~Ce&ke,E[29]=Pe^~Nr&Me,E[38]=Fe^~Lr&Oe,E[39]=Ur^~Ne&Dr,E[48]=fr^~Ue&Er,E[49]=hr^~je&ot,E[0]^=R[$],E[1]^=R[$+1]};if(a)t.exports=f;else for(w=0;w<h.length;++w)i[h[w]]=f[h[w]]})()})(lh);var w6=lh.exports;function ut(t){return"0x"+w6.keccak_256(ee(t))}var _6=Object.freeze({__proto__:null,keccak256:ut});const E6="rlp/5.7.0",Wn=new H(E6);function fb(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function hb(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function db(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(o){n=n.concat(db(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=fb(n.length);return i.unshift(247+i.length),i.concat(n)}Ca(t)||Wn.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ee(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=fb(e.length);return r.unshift(183+r.length),r.concat(e)}function xo(t){return re(db(t))}function pb(t,e,r,n){const i=[];for(;r<e+1+n;){const o=gb(t,r);i.push(o.result),r+=o.consumed,r>e+1+n&&Wn.throwError("child data too short",H.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function gb(t,e){if(t.length===0&&Wn.throwError("data too short",H.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Wn.throwError("data short segment too short",H.errors.BUFFER_OVERRUN,{});const n=hb(t,e+1,r);return e+1+r+n>t.length&&Wn.throwError("data long segment too short",H.errors.BUFFER_OVERRUN,{}),pb(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Wn.throwError("data array too short",H.errors.BUFFER_OVERRUN,{}),pb(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Wn.throwError("data array too short",H.errors.BUFFER_OVERRUN,{});const n=hb(t,e+1,r);e+1+r+n>t.length&&Wn.throwError("data array too short",H.errors.BUFFER_OVERRUN,{});const i=re(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Wn.throwError("data too short",H.errors.BUFFER_OVERRUN,{});const n=re(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:re(t[e])}}function mu(t){const e=ee(t),r=gb(e,0);return r.consumed!==e.length&&Wn.throwArgumentError("invalid rlp data","data",t),r.result}var S6=Object.freeze({__proto__:null,encode:xo,decode:mu});const A6="address/5.7.0",Pi=new H(A6);function bb(t){Ve(t,20)||Pi.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ee(ut(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const C6=9007199254740991;function k6(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const fh={};for(let t=0;t<10;t++)fh[String(t)]=String(t);for(let t=0;t<26;t++)fh[String.fromCharCode(65+t)]=String(10+t);const mb=Math.floor(k6(C6));function vb(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>fh[n]).join("");for(;e.length>=mb;){let n=e.substring(0,mb);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function ct(t){let e=null;if(typeof t!="string"&&Pi.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=bb(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Pi.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==vb(t)&&Pi.throwArgumentError("bad icap checksum","address",t),e=Zg(t.substring(4));e.length<40;)e="0"+e;e=bb("0x"+e)}else Pi.throwArgumentError("invalid address","address",t);return e}function M6(t){try{return ct(t),!0}catch{}return!1}function I6(t){let e=Xg(ct(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+vb("XE00"+e)+e}function vu(t){let e=null;try{e=ct(t.from)}catch{Pi.throwArgumentError("missing from address","transaction",t)}const r=Fn(ee(te.from(t.nonce).toHexString()));return ct(It(ut(xo([e,r])),12))}function R6(t,e,r){return Un(e)!==32&&Pi.throwArgumentError("salt must be 32 bytes","salt",e),Un(r)!==32&&Pi.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),ct(It(ut(ht(["0xff",ct(t),e,r])),12))}var T6=Object.freeze({__proto__:null,getAddress:ct,isAddress:M6,getIcapAddress:I6,getContractAddress:vu,getCreate2Address:R6});class P6 extends ui{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=ct(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return ct(dt(e.readValue().toHexString(),20))}}class N6 extends ui{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const ns=new H(Oa);function yb(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(u=>{const l=u.localName;return l||ns.throwError("cannot encode object for signature with missing names",H.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),c[l]&&ns.throwError("cannot encode object for signature with duplicate names",H.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),c[l]=!0,r[l]})}else ns.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&ns.throwArgumentError("types/value length mismatch","tuple",r);let i=new uh(t.wordSize),o=new uh(t.wordSize),s=[];e.forEach((c,u)=>{let l=n[u];if(c.dynamic){let p=o.length;c.encode(o,l);let m=i.writeUpdatableValue();s.push(x=>{m(x+p)})}else c.encode(i,l)}),s.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function xb(t,e){let r=[],n=t.subReader(0);e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{s=o.decode(c)}catch(u){if(u.code===H.errors.BUFFER_OVERRUN)throw u;s=u,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(a.code===H.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}s!=null&&r.push(s)});const i=e.reduce((o,s)=>{const a=s.localName;return a&&(o[a]||(o[a]=0),o[a]++),o},{});e.forEach((o,s)=>{let a=o.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[s];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let o=0;o<r.length;o++){const s=r[o];s instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(r)}class O6 extends ui{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,n,o),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),ns.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return yb(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&ns.throwError("insufficient data length",H.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new N6(this.coder));return e.coerce(this.name,xb(e,n))}}class B6 extends ui{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class wb extends ui{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=ee(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class L6 extends wb{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,re(super.decode(e)))}}class D6 extends ui{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=ee(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,re(e.readBytes(this.size)))}}class F6 extends ui{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const _b="0x0000000000000000000000000000000000000000",Eb=te.from(-1),hh=te.from(0),Sb=te.from(1),U6=te.from(2),j6=te.from("1000000000000000000"),Ab=te.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$6=te.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),W6=te.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),dh="0x0000000000000000000000000000000000000000000000000000000000000000";var q6=Object.freeze({__proto__:null,AddressZero:_b,NegativeOne:Eb,Zero:hh,One:Sb,Two:U6,WeiPerEther:j6,MaxUint256:Ab,MinInt256:$6,MaxInt256:W6,HashZero:dh,EtherSymbol:"\u039E"});class H6 extends ui{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=te.from(r),i=Ab.mask(e.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(n.gt(o)||n.lt(o.add(Sb).mul(Eb)))&&this._throwError("value out-of-bounds",r)}else(n.lt(hh)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const z6="strings/5.7.0",Cb=new H(z6);var qn;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(qn||(qn={}));var Cr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Cr||(Cr={}));function V6(t,e,r,n,i){return Cb.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function kb(t,e,r,n,i){if(t===Cr.BAD_PREFIX||t===Cr.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t===Cr.OVERRUN?r.length-e-1:0}function G6(t,e,r,n,i){return t===Cr.OVERLONG?(n.push(i),0):(n.push(65533),kb(t,e,r))}const Mb=Object.freeze({error:V6,ignore:kb,replace:G6});function ph(t,e){e==null&&(e=Mb.error),t=ee(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(Cr.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Cr.BAD_PREFIX,n-1,t,r);continue}if(n-1+o>=t.length){n+=e(Cr.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=t[n];if((u&192)!=128){n+=e(Cr.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=e(Cr.OUT_OF_RANGE,n-1-o,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Cr.UTF16_SURROGATE,n-1-o,t,r,a);continue}if(a<=s){n+=e(Cr.OVERLONG,n-1-o,t,r,a);continue}r.push(a)}}return r}function Rt(t,e=qn.current){e!=qn.current&&(Cb.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const o=t.charCodeAt(n);if(n>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return ee(r)}function gh(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function K6(t,e){return'"'+ph(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?gh(r):(r-=65536,gh((r>>10&1023)+55296)+gh((r&1023)+56320))}).join("")+'"'}function bh(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ni(t,e){return bh(ph(t,e))}function yu(t,e=qn.current){return ph(Rt(t,e))}function J6(t){const e=Rt(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return re(ht([e,dh]).slice(0,32))}function Q6(t){const e=ee(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Ni(e.slice(0,r))}function Y6(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function mh(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let o=i.split(":");r+=parseInt(o[0],16),n[r]=e(o[1])}),n}function Ib(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function vh(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const Z6=Ib("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),X6="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),e5=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],t5=mh("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),r5=mh("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),n5=mh("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Y6),i5=Ib("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function o5(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function s5(t){return!!vh(t,Z6)}function a5(t){let e=vh(t,e5);if(e)return[t+e.s];let r=t5[t];if(r)return r;let n=r5[t];if(n)return[t+n[0]];let i=n5[t];return i||null}function c5(t){return!!vh(t,i5)}function u5(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=yu(t);e=o5(e.map(n=>{if(X6.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=a5(n);return i||[n]})),e=yu(bh(e),qn.NFKC),e.forEach(n=>{if(c5(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(s5(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=bh(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}var l5=Object.freeze({__proto__:null,_toEscapedUtf8String:K6,toUtf8Bytes:Rt,toUtf8CodePoints:yu,toUtf8String:Ni,Utf8ErrorFuncs:Mb,get Utf8ErrorReason(){return Cr},get UnicodeNormalizationForm(){return qn},formatBytes32String:J6,parseBytes32String:Q6,nameprep:u5});class f5 extends wb{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Rt(r))}decode(e){return Ni(super.decode(e))}}class xu extends ui{constructor(e,r){let n=!1;const i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){return yb(e,this.coders,r)}decode(e){return e.coerce(this.name,xb(e,this.coders))}}const wu=new H(Oa),h5=new RegExp(/^bytes([0-9]*)$/),d5=new RegExp(/^(u?int)([0-9]*)$/);class Rb{constructor(e){J(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new P6(e.name);case"bool":return new B6(e.name);case"string":return new f5(e.name);case"bytes":return new L6(e.name);case"array":return new O6(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new xu((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new F6(e.name)}let r=e.type.match(d5);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&wu.throwArgumentError("invalid "+r[1]+" bit length","param",e),new H6(n/8,r[1]==="int",e.name)}if(r=e.type.match(h5),r){let n=parseInt(r[1]);return(n===0||n>32)&&wu.throwArgumentError("invalid bytes length","param",e),new D6(n,e.name)}return wu.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new bu(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new uh(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Bt.from(i)));return new xu(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&wu.throwError("types/values length mismatch",H.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(s=>this._getCoder(Bt.from(s))),i=new xu(n,"_"),o=this._getWriter();return i.encode(o,r),o.data}decode(e,r,n){const i=e.map(s=>this._getCoder(Bt.from(s)));return new xu(i,"_").decode(this._getReader(ee(r),n))}}const Tb=new Rb;function Oi(t){return ut(Rt(t))}const Pb="hash/5.7.0";function yh(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ee(e)}function xh(t){t=ee(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var p5=Object.freeze({__proto__:null,decode:yh,encode:xh});function Nb(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(o,s){n.call(o,function(a){s>0&&Array.isArray(a)?i(a,s-1):r.push(a)})};return i(t,e),r}function g5(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function b5(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let j=1;j<n;j++)o.push(i+=r());let s=r(),a=e;e+=s;let c=0,u=0;function l(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const p=31,m=Math.pow(2,p),x=m>>>1,_=x>>1,R=m-1;let y=0;for(let j=0;j<p;j++)y=y<<1|l();let C=[],T=0,P=m;for(;;){let j=Math.floor(((y-T+1)*i-1)/P),W=0,V=n;for(;V-W>1;){let F=W+V>>>1;j<o[F]?V=F:W=F}if(W==0)break;C.push(W);let G=T+Math.floor(P*o[W]/i),Q=T+Math.floor(P*o[W+1]/i)-1;for(;((G^Q)&x)==0;)y=y<<1&R|l(),G=G<<1&R,Q=Q<<1&R|1;for(;G&~Q&_;)y=y&x|y<<1&R>>>1|l(),G=G<<1^x,Q=(Q^x)<<1|x|1;T=G,P=1+Q-G}let D=n-4;return C.map(j=>{switch(j-D){case 3:return D+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return D+256+(t[a++]<<8|t[a++]);case 1:return D+t[a++];default:return j-1}})}function m5(t){let e=0;return()=>t[e++]}function v5(t){return m5(b5(t))}function y5(t){return t&1?~t>>1:t>>1}function x5(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function Ob(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function w5(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=y5(e());return r}function _u(t,e){let r=Ob(t(),t),n=t(),i=Ob(n,t),o=x5(n,t);for(let s=0;s<n;s++)for(let a=0;a<o[s];a++)r.push(i[s]+a);return e?r.map(s=>e[s]):r}function _5(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(S5(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(A5(r,t))}return g5(Nb(e))}function E5(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Bb(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)w5(t,r).forEach((o,s)=>n[s].push(o));return n}function S5(t,e){let r=1+e(),n=e(),i=E5(e),o=Bb(i.length,1+t,e);return Nb(o.map((s,a)=>{const c=s[0],u=s.slice(1);return Array(i[a]).fill(void 0).map((l,p)=>{let m=p*n;return[c+p*r,u.map(x=>x+m)]})}))}function A5(t,e){let r=1+e();return Bb(r,1+t,e).map(i=>[i[0],i.slice(1)])}function C5(t){let e=_u(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=_u(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,l)=>l.set.size-u.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:o,fe0f:s,save:a,check:c}}}function k5(){return v5(yh("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Eu=k5(),M5=new Set(_u(Eu)),I5=new Set(_u(Eu)),R5=_5(Eu),T5=C5(Eu),Lb=45,Db=95;function Fb(t){return yu(t)}function P5(t){return t.filter(e=>e!=65039)}function Ub(t){for(let e of t.split(".")){let r=Fb(e);try{for(let n=r.lastIndexOf(Db)-1;n>=0;n--)if(r[n]!==Db)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Lb&&r[3]===Lb)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function N5(t){return Ub(O5(t,P5))}function O5(t,e){let r=Fb(t).reverse(),n=[];for(;r.length;){let i=L5(r);if(i){n.push(...e(i));continue}let o=r.pop();if(M5.has(o)){n.push(o);continue}if(I5.has(o))continue;let s=R5[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return Ub(B5(String.fromCodePoint(...n)))}function B5(t){return t.normalize("NFC")}function L5(t,e){var r;let n=T5,i,o,s=[],a=t.length;for(e&&(e.length=0);a;){let c=t[--a];if(n=(r=n.branches.find(u=>u.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=c;else if(n.check&&c===o)break;s.push(c),n.fe0f&&(s.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const D5=new H(Pb),jb=new Uint8Array(32);jb.fill(0);function $b(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Su(t){const e=Rt(N5(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push($b(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push($b(e.slice(n))),r}function F5(t){return Su(t).map(e=>Ni(e)).join(".")}function U5(t){try{return Su(t).length!==0}catch{}return!1}function Fa(t){typeof t!="string"&&D5.throwArgumentError("invalid ENS name; not a string","name",t);let e=jb;const r=Su(t);for(;r.length;)e=ut(ht([e,ut(r.pop())]));return re(e)}function Wb(t){return re(ht(Su(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const qb=`Ethereum Signed Message:
`;function wh(t){return typeof t=="string"&&(t=Rt(t)),ut(ht([Rt(qb),Rt(String(t.length)),t]))}var j5=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const xt=new H(Pb),Hb=new Uint8Array(32);Hb.fill(0);const $5=te.from(-1),zb=te.from(0),Vb=te.from(1),W5=te.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function q5(t){const e=ee(t),r=e.length%32;return r?dr([e,Hb.slice(r)]):re(e)}const H5=dt(Vb.toHexString(),32),z5=dt(zb.toHexString(),32),Gb={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_h=["name","version","chainId","verifyingContract","salt"];function Kb(t){return function(e){return typeof e!="string"&&xt.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const V5={name:Kb("name"),version:Kb("version"),chainId:function(t){try{return te.from(t).toString()}catch{}return xt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ct(t).toLowerCase()}catch{}return xt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=ee(t);if(e.length!==32)throw new Error("bad length");return re(e)}catch{}return xt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Eh(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&xt.throwArgumentError("invalid numeric width","type",t);const i=W5.mask(r?n-1:n),o=r?i.add(Vb).mul($5):zb;return function(s){const a=te.from(s);return(a.lt(o)||a.gt(i))&&xt.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),dt(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&xt.throwArgumentError("invalid bytes width","type",t),function(n){return ee(n).length!==r&&xt.throwArgumentError(`invalid length for ${t}`,"value",n),q5(n)}}}switch(t){case"address":return function(e){return dt(ct(e),32)};case"bool":return function(e){return e?H5:z5};case"bytes":return function(e){return ut(e)};case"string":return function(e){return Oi(e)}}return null}function Jb(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Vt{constructor(e){J(this,"types",Object.freeze(gr(e))),J(this,"_encoderCache",{}),J(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(u=>{c[u.name]&&xt.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),c[u.name]=!0;const l=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&xt.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!Eh(l)&&(n[l]||xt.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(a),r[a][l]=!0)})}const o=Object.keys(n).filter(a=>n[a].length===0);o.length===0?xt.throwArgumentError("missing primary type","types",e):o.length>1&&xt.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),J(this,"primaryType",o[0]);function s(a,c){c[a]&&xt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(u=>{!n[u]||(s(u,c),Object.keys(c).forEach(l=>{i[l][u]=!0}))}),delete c[a]}s(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=Jb(a,e[a])+c.map(u=>Jb(u,e[u])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Eh(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return a=>{s>=0&&a.length!==s&&xt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(o);return this._types[i]&&(c=c.map(ut)),ut(dr(c))}}const n=this.types[e];if(n){const i=Oi(this._types[e]);return o=>{const s=n.map(({name:a,type:c})=>{const u=this.getEncoder(c)(o[a]);return this._types[c]?ut(u):u});return s.unshift(i),dr(s)}}return xt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||xt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return ut(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Eh(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&xt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(s,c,n))}const o=this.types[e];return o?o.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,r[a],n),s),{}):xt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Vt(e)}static getPrimaryType(e){return Vt.from(e).primaryType}static hashStruct(e,r,n){return Vt.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Gb[n];i||xt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>_h.indexOf(n.name)-_h.indexOf(i.name)),Vt.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return dr(["0x1901",Vt.hashDomain(e),Vt.from(r).hash(n)])}static hash(e,r,n){return ut(Vt.encode(e,r,n))}static resolveNames(e,r,n,i){return j5(this,void 0,void 0,function*(){e=pt(e);const o={};e.verifyingContract&&!Ve(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=Vt.from(r);s.visit(n,(a,c)=>(a==="address"&&!Ve(c,20)&&(o[c]="0x"),c));for(const a in o)o[a]=yield i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Vt.hashDomain(e);const i={},o=[];_h.forEach(c=>{const u=e[c];u!=null&&(i[c]=V5[c](u),o.push({name:c,type:Gb[c]}))});const s=Vt.from(r),a=pt(r);return a.EIP712Domain?xt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return re(ee(u));if(c.match(/^u?int/))return te.from(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&xt.throwArgumentError("invalid string","value",u),u}return xt.throwArgumentError("unsupported type","type",c)})}}}var G5=Object.freeze({__proto__:null,id:Oi,dnsEncode:Wb,namehash:Fa,isValidName:U5,ensNormalize:F5,messagePrefix:qb,hashMessage:wh,_TypedDataEncoder:Vt});const wt=new H(Oa);class Qb extends Ti{}class Yb extends Ti{}class K5 extends Ti{}class Au extends Ti{static isIndexed(e){return!!(e&&e._isIndexed)}}const J5={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Zb(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Sh{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,J(this,"fragments",r.map(n=>jn.from(n)).filter(n=>n!=null)),J(this,"_abiCoder",zt(new.target,"getAbiCoder")()),J(this,"functions",{}),J(this,"errors",{}),J(this,"events",{}),J(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){wt.warn("duplicate definition - constructor");return}J(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=n.format();if(i[o]){wt.warn("duplicate definition - "+o);return}i[o]=n}),this.deploy||J(this,"deploy",pn.from({payable:!1,type:"constructor"})),J(this,"_isInterface",!0)}format(e){e||(e=it.full),e===it.sighash&&wt.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===it.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Tb}static getAddress(e){return ct(e)}static getSighash(e){return It(Oi(e.format()),0,4)}static getEventTopic(e){return Oi(e.format())}getFunction(e){if(Ve(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];wt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===n);return i.length===0?wt.throwArgumentError("no matching function","name",n):i.length>1&&wt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[gn.fromString(e).format()];return r||wt.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Ve(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];wt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===n);return i.length===0?wt.throwArgumentError("no matching event","name",n):i.length>1&&wt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[$n.fromString(e).format()];return r||wt.throwArgumentError("no matching event","signature",e),r}getError(e){if(Ve(e)){const n=zt(this.constructor,"getSighash");for(const i in this.errors){const o=this.errors[i];if(e===n(o))return this.errors[i]}wt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===n);return i.length===0?wt.throwArgumentError("no matching error","name",n):i.length>1&&wt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[gn.fromString(e).format()];return r||wt.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return zt(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),zt(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=ee(r);return re(n.slice(0,4))!==this.getSighash(e)&&wt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",re(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),re(ht([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=ee(r);return re(n.slice(0,4))!==this.getSighash(e)&&wt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",re(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),re(ht([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=ee(r),i=null,o="",s=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const u=re(n.slice(0,4)),l=J5[u];if(l)s=this._abiCoder.decode(l.inputs,n.slice(4)),a=l.name,c=l.signature,l.reason&&(i=s[0]),a==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const p=this.getError(u);s=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,c=p.format()}catch{}break}}return wt.throwError("call revert exception"+o,H.errors.CALL_EXCEPTION,{method:e.format(),data:re(r),errorArgs:s,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),re(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&wt.throwError("too many arguments for "+e.format(),H.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(o,s)=>o.type==="string"?Oi(s):o.type==="bytes"?ut(re(s)):(o.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),o.type.match(/^u?int/)&&(s=te.from(s).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[s]),dt(re(s),32));for(r.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){o!=null&&wt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?wt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(c=>i(a,c))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&wt.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((s,a)=>{const c=r[a];if(s.indexed)if(s.type==="string")n.push(Oi(c));else if(s.type==="bytes")n.push(ut(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[c]))}else i.push(s),o.push(c)}),{data:this._abiCoder.encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let m=this.getEventTopic(e);(!Ve(n[0],32)||n[0].toLowerCase()!==m)&&wt.throwError("fragment/topic mismatch",H.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:m,value:n[0]}),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((m,x)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(i.push(Bt.fromObject({type:"bytes32",name:m.name})),s.push(!0)):(i.push(m),s.push(!1)):(o.push(m),s.push(!1))});let a=n!=null?this._abiCoder.decode(i,ht(n)):null,c=this._abiCoder.decode(o,r,!0),u=[],l=0,p=0;e.inputs.forEach((m,x)=>{if(m.indexed)if(a==null)u[x]=new Au({_isIndexed:!0,hash:null});else if(s[x])u[x]=new Au({_isIndexed:!0,hash:a[p++]});else try{u[x]=a[p++]}catch(_){u[x]=_}else try{u[x]=c[l++]}catch(_){u[x]=_}if(m.name&&u[m.name]==null){const _=u[x];_ instanceof Error?Object.defineProperty(u,m.name,{enumerable:!0,get:()=>{throw Zb(`property ${JSON.stringify(m.name)}`,_)}}):u[m.name]=_}});for(let m=0;m<u.length;m++){const x=u[m];x instanceof Error&&Object.defineProperty(u,m,{enumerable:!0,get:()=>{throw Zb(`index ${m}`,x)}})}return Object.freeze(u)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new Yb({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:te.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Qb({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=re(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new K5({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}var Q5=Object.freeze({__proto__:null,ConstructorFragment:pn,ErrorFragment:ci,EventFragment:$n,Fragment:jn,FunctionFragment:gn,ParamType:Bt,FormatTypes:it,AbiCoder:Rb,defaultAbiCoder:Tb,Interface:Sh,Indexed:Au,checkResultErrors:lb,LogDescription:Qb,TransactionDescription:Yb});const Y5="abstract-provider/5.7.0";var Z5=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const X5=new H(Y5);class eE extends Ti{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class wo{constructor(){X5.checkAbstract(new.target,wo),J(this,"_isProvider",!0)}getFeeData(){return Z5(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield At({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=te.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const tE="abstract-signer/5.7.0";var bn=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const en=new H(tE),rE=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],nE=[H.errors.INSUFFICIENT_FUNDS,H.errors.NONCE_EXPIRED,H.errors.REPLACEMENT_UNDERPRICED];class Bi{constructor(){en.checkAbstract(new.target,Bi),J(this,"_isSigner",!0)}getBalance(e){return bn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return bn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return bn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield At(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return bn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield At(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return bn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return bn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return bn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return bn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return bn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)rE.indexOf(n)===-1&&en.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=pt(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&en.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return bn(this,void 0,void 0,function*(){const r=yield At(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>bn(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&en.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?en.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&en.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&en.throwError("network does not support EIP-1559",H.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):en.throwError("failed to get consistent fee data",H.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(nE.indexOf(i.code)>=0)throw i;return en.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",H.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&en.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield At(r)})}_checkProvider(e){this.provider||en.throwError("missing provider",H.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Cu extends Bi{constructor(e,r){super(),J(this,"address",e),J(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{en.throwError(e,H.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Cu(this.address,e)}}var iE=Object.freeze({__proto__:null,Signer:Bi,VoidSigner:Cu}),br={},Xe={},Ua=Xb;function Xb(t,e){if(!t)throw new Error(e||"Assertion failed")}Xb.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var kr={exports:{}};typeof Object.create=="function"?kr.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:kr.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var oE=Ua,sE=kr.exports;Xe.inherits=sE;function aE(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function cE(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):aE(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Xe.toArray=cE;function uE(t){for(var e="",r=0;r<t.length;r++)e+=tm(t[r].toString(16));return e}Xe.toHex=uE;function em(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Xe.htonl=em;function lE(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=em(i)),r+=rm(i.toString(16))}return r}Xe.toHex32=lE;function tm(t){return t.length===1?"0"+t:t}Xe.zero2=tm;function rm(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Xe.zero8=rm;function fE(t,e,r,n){var i=r-e;oE(i%4===0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=c>>>0}return o}Xe.join32=fE;function hE(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}Xe.split32=hE;function dE(t,e){return t>>>e|t<<32-e}Xe.rotr32=dE;function pE(t,e){return t<<e|t>>>32-e}Xe.rotl32=pE;function gE(t,e){return t+e>>>0}Xe.sum32=gE;function bE(t,e,r){return t+e+r>>>0}Xe.sum32_3=bE;function mE(t,e,r,n){return t+e+r+n>>>0}Xe.sum32_4=mE;function vE(t,e,r,n,i){return t+e+r+n+i>>>0}Xe.sum32_5=vE;function yE(t,e,r,n){var i=t[e],o=t[e+1],s=n+o>>>0,a=(s<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=s}Xe.sum64=yE;function xE(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}Xe.sum64_hi=xE;function wE(t,e,r,n){var i=e+n;return i>>>0}Xe.sum64_lo=wE;function _E(t,e,r,n,i,o,s,a){var c=0,u=e;u=u+n>>>0,c+=u<e?1:0,u=u+o>>>0,c+=u<o?1:0,u=u+a>>>0,c+=u<a?1:0;var l=t+r+i+s+c;return l>>>0}Xe.sum64_4_hi=_E;function EE(t,e,r,n,i,o,s,a){var c=e+n+o+a;return c>>>0}Xe.sum64_4_lo=EE;function SE(t,e,r,n,i,o,s,a,c,u){var l=0,p=e;p=p+n>>>0,l+=p<e?1:0,p=p+o>>>0,l+=p<o?1:0,p=p+a>>>0,l+=p<a?1:0,p=p+u>>>0,l+=p<u?1:0;var m=t+r+i+s+c+l;return m>>>0}Xe.sum64_5_hi=SE;function AE(t,e,r,n,i,o,s,a,c,u){var l=e+n+o+a+u;return l>>>0}Xe.sum64_5_lo=AE;function CE(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Xe.rotr64_hi=CE;function kE(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Xe.rotr64_lo=kE;function ME(t,e,r){return t>>>r}Xe.shr64_hi=ME;function IE(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Xe.shr64_lo=IE;var is={},nm=Xe,RE=Ua;function ku(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}is.BlockHash=ku,ku.prototype.update=function(e,r){if(e=nm.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=nm.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},ku.prototype.digest=function(e){return this.update(this._pad()),RE(this.pending===null),this._digest(e)},ku.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var os={},Hn={},TE=Xe,zn=TE.rotr32;function PE(t,e,r,n){if(t===0)return im(e,r,n);if(t===1||t===3)return sm(e,r,n);if(t===2)return om(e,r,n)}Hn.ft_1=PE;function im(t,e,r){return t&e^~t&r}Hn.ch32=im;function om(t,e,r){return t&e^t&r^e&r}Hn.maj32=om;function sm(t,e,r){return t^e^r}Hn.p32=sm;function NE(t){return zn(t,2)^zn(t,13)^zn(t,22)}Hn.s0_256=NE;function OE(t){return zn(t,6)^zn(t,11)^zn(t,25)}Hn.s1_256=OE;function BE(t){return zn(t,7)^zn(t,18)^t>>>3}Hn.g0_256=BE;function LE(t){return zn(t,17)^zn(t,19)^t>>>10}Hn.g1_256=LE;var ss=Xe,DE=is,FE=Hn,Ah=ss.rotl32,ja=ss.sum32,UE=ss.sum32_5,jE=FE.ft_1,am=DE.BlockHash,$E=[1518500249,1859775393,2400959708,3395469782];function Vn(){if(!(this instanceof Vn))return new Vn;am.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ss.inherits(Vn,am);var WE=Vn;Vn.blockSize=512,Vn.outSize=160,Vn.hmacStrength=80,Vn.padLength=64,Vn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Ah(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),p=UE(Ah(o,5),jE(l,s,a,c),u,n[i],$E[l]);u=c,c=a,a=Ah(s,30),s=o,o=p}this.h[0]=ja(this.h[0],o),this.h[1]=ja(this.h[1],s),this.h[2]=ja(this.h[2],a),this.h[3]=ja(this.h[3],c),this.h[4]=ja(this.h[4],u)},Vn.prototype._digest=function(e){return e==="hex"?ss.toHex32(this.h,"big"):ss.split32(this.h,"big")};var as=Xe,qE=is,cs=Hn,HE=Ua,mn=as.sum32,zE=as.sum32_4,VE=as.sum32_5,GE=cs.ch32,KE=cs.maj32,JE=cs.s0_256,QE=cs.s1_256,YE=cs.g0_256,ZE=cs.g1_256,cm=qE.BlockHash,XE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gn(){if(!(this instanceof Gn))return new Gn;cm.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=XE,this.W=new Array(64)}as.inherits(Gn,cm);var um=Gn;Gn.blockSize=512,Gn.outSize=256,Gn.hmacStrength=192,Gn.padLength=64,Gn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=zE(ZE(n[i-2]),n[i-7],YE(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4],l=this.h[5],p=this.h[6],m=this.h[7];for(HE(this.k.length===n.length),i=0;i<n.length;i++){var x=VE(m,QE(u),GE(u,l,p),this.k[i],n[i]),_=mn(JE(o),KE(o,s,a));m=p,p=l,l=u,u=mn(c,x),c=a,a=s,s=o,o=mn(x,_)}this.h[0]=mn(this.h[0],o),this.h[1]=mn(this.h[1],s),this.h[2]=mn(this.h[2],a),this.h[3]=mn(this.h[3],c),this.h[4]=mn(this.h[4],u),this.h[5]=mn(this.h[5],l),this.h[6]=mn(this.h[6],p),this.h[7]=mn(this.h[7],m)},Gn.prototype._digest=function(e){return e==="hex"?as.toHex32(this.h,"big"):as.split32(this.h,"big")};var Ch=Xe,lm=um;function li(){if(!(this instanceof li))return new li;lm.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ch.inherits(li,lm);var e8=li;li.blockSize=512,li.outSize=224,li.hmacStrength=192,li.padLength=64,li.prototype._digest=function(e){return e==="hex"?Ch.toHex32(this.h.slice(0,7),"big"):Ch.split32(this.h.slice(0,7),"big")};var Mr=Xe,t8=is,r8=Ua,Kn=Mr.rotr64_hi,Jn=Mr.rotr64_lo,fm=Mr.shr64_hi,hm=Mr.shr64_lo,Li=Mr.sum64,kh=Mr.sum64_hi,Mh=Mr.sum64_lo,n8=Mr.sum64_4_hi,i8=Mr.sum64_4_lo,o8=Mr.sum64_5_hi,s8=Mr.sum64_5_lo,dm=t8.BlockHash,a8=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function vn(){if(!(this instanceof vn))return new vn;dm.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=a8,this.W=new Array(160)}Mr.inherits(vn,dm);var pm=vn;vn.blockSize=1024,vn.outSize=512,vn.hmacStrength=192,vn.padLength=128,vn.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=v8(n[i-4],n[i-3]),s=y8(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],u=b8(n[i-30],n[i-29]),l=m8(n[i-30],n[i-29]),p=n[i-32],m=n[i-31];n[i]=n8(o,s,a,c,u,l,p,m),n[i+1]=i8(o,s,a,c,u,l,p,m)}},vn.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],p=this.h[7],m=this.h[8],x=this.h[9],_=this.h[10],R=this.h[11],y=this.h[12],C=this.h[13],T=this.h[14],P=this.h[15];r8(this.k.length===n.length);for(var D=0;D<n.length;D+=2){var j=T,W=P,V=p8(m,x),G=g8(m,x),Q=c8(m,x,_,R,y),F=u8(m,x,_,R,y,C),g=this.k[D],A=this.k[D+1],v=n[D],f=n[D+1],h=o8(j,W,V,G,Q,F,g,A,v,f),w=s8(j,W,V,G,Q,F,g,A,v,f);j=h8(i,o),W=d8(i,o),V=l8(i,o,s,a,c),G=f8(i,o,s,a,c,u);var M=kh(j,W,V,G),S=Mh(j,W,V,G);T=y,P=C,y=_,C=R,_=m,R=x,m=kh(l,p,h,w),x=Mh(p,p,h,w),l=c,p=u,c=s,u=a,s=i,a=o,i=kh(h,w,M,S),o=Mh(h,w,M,S)}Li(this.h,0,i,o),Li(this.h,2,s,a),Li(this.h,4,c,u),Li(this.h,6,l,p),Li(this.h,8,m,x),Li(this.h,10,_,R),Li(this.h,12,y,C),Li(this.h,14,T,P)},vn.prototype._digest=function(e){return e==="hex"?Mr.toHex32(this.h,"big"):Mr.split32(this.h,"big")};function c8(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function u8(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function l8(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function f8(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function h8(t,e){var r=Kn(t,e,28),n=Kn(e,t,2),i=Kn(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function d8(t,e){var r=Jn(t,e,28),n=Jn(e,t,2),i=Jn(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function p8(t,e){var r=Kn(t,e,14),n=Kn(t,e,18),i=Kn(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function g8(t,e){var r=Jn(t,e,14),n=Jn(t,e,18),i=Jn(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function b8(t,e){var r=Kn(t,e,1),n=Kn(t,e,8),i=fm(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function m8(t,e){var r=Jn(t,e,1),n=Jn(t,e,8),i=hm(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function v8(t,e){var r=Kn(t,e,19),n=Kn(e,t,29),i=fm(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function y8(t,e){var r=Jn(t,e,19),n=Jn(e,t,29),i=hm(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}var Ih=Xe,gm=pm;function fi(){if(!(this instanceof fi))return new fi;gm.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ih.inherits(fi,gm);var x8=fi;fi.blockSize=1024,fi.outSize=384,fi.hmacStrength=192,fi.padLength=128,fi.prototype._digest=function(e){return e==="hex"?Ih.toHex32(this.h.slice(0,12),"big"):Ih.split32(this.h.slice(0,12),"big")},os.sha1=WE,os.sha224=e8,os.sha256=um,os.sha384=x8,os.sha512=pm;var bm={},_o=Xe,w8=is,Mu=_o.rotl32,mm=_o.sum32,$a=_o.sum32_3,vm=_o.sum32_4,ym=w8.BlockHash;function Qn(){if(!(this instanceof Qn))return new Qn;ym.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_o.inherits(Qn,ym),bm.ripemd160=Qn,Qn.blockSize=512,Qn.outSize=160,Qn.hmacStrength=192,Qn.padLength=64,Qn.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=n,u=i,l=o,p=s,m=a,x=0;x<80;x++){var _=mm(Mu(vm(n,xm(x,i,o,s),e[S8[x]+r],_8(x)),C8[x]),a);n=a,a=s,s=Mu(o,10),o=i,i=_,_=mm(Mu(vm(c,xm(79-x,u,l,p),e[A8[x]+r],E8(x)),k8[x]),m),c=m,m=p,p=Mu(l,10),l=u,u=_}_=$a(this.h[1],o,p),this.h[1]=$a(this.h[2],s,m),this.h[2]=$a(this.h[3],a,c),this.h[3]=$a(this.h[4],n,u),this.h[4]=$a(this.h[0],i,l),this.h[0]=_},Qn.prototype._digest=function(e){return e==="hex"?_o.toHex32(this.h,"little"):_o.split32(this.h,"little")};function xm(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function _8(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function E8(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var S8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],A8=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],C8=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k8=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],M8=Xe,I8=Ua;function us(t,e,r){if(!(this instanceof us))return new us(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(M8.toArray(e,r))}var R8=us;us.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),I8(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},us.prototype.update=function(e,r){return this.inner.update(e,r),this},us.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(t){var e=t;e.utils=Xe,e.common=is,e.sha=os,e.ripemd=bm,e.hmac=R8,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(br);function ls(t,e,r){return r={path:e,exports:{},require:function(n,i){return T8(n,i??r.path)}},t(r,r.exports),r.exports}function T8(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Rh=wm;function wm(t,e){if(!t)throw new Error(e||"Assertion failed")}wm.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var yn=ls(function(t,e){var r=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)c[u]=s[u]|0;return c}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)c.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var l=s.charCodeAt(u),p=l>>8,m=l&255;p?c.push(p,m):c.push(m)}return c}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var a="",c=0;c<s.length;c++)a+=i(s[c].toString(16));return a}r.toHex=o,r.encode=function(a,c){return c==="hex"?o(a):a}}),jr=ls(function(t,e){var r=e;r.assert=Rh,r.toArray=yn.toArray,r.zero2=yn.zero2,r.toHex=yn.toHex,r.encode=yn.encode;function n(c,u,l){var p=new Array(Math.max(c.bitLength(),l)+1);p.fill(0);for(var m=1<<u+1,x=c.clone(),_=0;_<p.length;_++){var R,y=x.andln(m-1);x.isOdd()?(y>(m>>1)-1?R=(m>>1)-y:R=y,x.isubn(R)):R=0,p[_]=R,x.iushrn(1)}return p}r.getNAF=n;function i(c,u){var l=[[],[]];c=c.clone(),u=u.clone();for(var p=0,m=0,x;c.cmpn(-p)>0||u.cmpn(-m)>0;){var _=c.andln(3)+p&3,R=u.andln(3)+m&3;_===3&&(_=-1),R===3&&(R=-1);var y;(_&1)===0?y=0:(x=c.andln(7)+p&7,(x===3||x===5)&&R===2?y=-_:y=_),l[0].push(y);var C;(R&1)===0?C=0:(x=u.andln(7)+m&7,(x===3||x===5)&&_===2?C=-R:C=R),l[1].push(C),2*p===y+1&&(p=1-p),2*m===C+1&&(m=1-m),c.iushrn(1),u.iushrn(1)}return l}r.getJSF=i;function o(c,u,l){var p="_"+u;c.prototype[u]=function(){return this[p]!==void 0?this[p]:this[p]=l.call(this)}}r.cachedProperty=o;function s(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=s;function a(c){return new ze(c,"hex","le")}r.intFromLE=a}),Iu=jr.getNAF,P8=jr.getJSF,Ru=jr.assert;function Di(t,e){this.type=t,this.p=new ze(e.p,16),this.red=e.prime?ze.red(e.prime):ze.mont(this.p),this.zero=new ze(0).toRed(this.red),this.one=new ze(1).toRed(this.red),this.two=new ze(2).toRed(this.red),this.n=e.n&&new ze(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Eo=Di;Di.prototype.point=function(){throw new Error("Not implemented")},Di.prototype.validate=function(){throw new Error("Not implemented")},Di.prototype._fixedNafMul=function(e,r){Ru(e.precomputed);var n=e._getDoubles(),i=Iu(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var u=a+n.step-1;u>=a;u--)c=(c<<1)+i[u];s.push(c)}for(var l=this.jpoint(null,null,null),p=this.jpoint(null,null,null),m=o;m>0;m--){for(a=0;a<s.length;a++)c=s[a],c===m?p=p.mixedAdd(n.points[a]):c===-m&&(p=p.mixedAdd(n.points[a].neg()));l=l.add(p)}return l.toP()},Di.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=Iu(r,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var u=0;c>=0&&s[c]===0;c--)u++;if(c>=0&&u++,a=a.dblp(u),c<0)break;var l=s[c];Ru(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(o[l-1>>1]):a=a.mixedAdd(o[-l-1>>1].neg()):l>0?a=a.add(o[l-1>>1]):a=a.add(o[-l-1>>1].neg())}return e.type==="affine"?a.toP():a},Di.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,u=0,l,p,m;for(l=0;l<i;l++){m=r[l];var x=m._getNAFPoints(e);s[l]=x.wnd,a[l]=x.points}for(l=i-1;l>=1;l-=2){var _=l-1,R=l;if(s[_]!==1||s[R]!==1){c[_]=Iu(n[_],s[_],this._bitLength),c[R]=Iu(n[R],s[R],this._bitLength),u=Math.max(c[_].length,u),u=Math.max(c[R].length,u);continue}var y=[r[_],null,null,r[R]];r[_].y.cmp(r[R].y)===0?(y[1]=r[_].add(r[R]),y[2]=r[_].toJ().mixedAdd(r[R].neg())):r[_].y.cmp(r[R].y.redNeg())===0?(y[1]=r[_].toJ().mixedAdd(r[R]),y[2]=r[_].add(r[R].neg())):(y[1]=r[_].toJ().mixedAdd(r[R]),y[2]=r[_].toJ().mixedAdd(r[R].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],T=P8(n[_],n[R]);for(u=Math.max(T[0].length,u),c[_]=new Array(u),c[R]=new Array(u),p=0;p<u;p++){var P=T[0][p]|0,D=T[1][p]|0;c[_][p]=C[(P+1)*3+(D+1)],c[R][p]=0,a[_]=y}}var j=this.jpoint(null,null,null),W=this._wnafT4;for(l=u;l>=0;l--){for(var V=0;l>=0;){var G=!0;for(p=0;p<i;p++)W[p]=c[p][l]|0,W[p]!==0&&(G=!1);if(!G)break;V++,l--}if(l>=0&&V++,j=j.dblp(V),l<0)break;for(p=0;p<i;p++){var Q=W[p];Q!==0&&(Q>0?m=a[p][Q-1>>1]:Q<0&&(m=a[p][-Q-1>>1].neg()),m.type==="affine"?j=j.mixedAdd(m):j=j.add(m))}}for(l=0;l<i;l++)a[l]=null;return o?j:j.toP()};function tn(t,e){this.curve=t,this.type=e,this.precomputed=null}Di.BasePoint=tn,tn.prototype.eq=function(){throw new Error("Not implemented")},tn.prototype.validate=function(){return this.curve.validate(this)},Di.prototype.decodePoint=function(e,r){e=jr.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ru(e[e.length-1]%2===0):e[0]===7&&Ru(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},tn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},tn.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},tn.prototype.encode=function(e,r){return jr.encode(this._encode(r),e)},tn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},tn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},tn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}},tn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}},tn.prototype._getBeta=function(){return null},tn.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Th=ls(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),N8=jr.assert;function rn(t){Eo.call(this,"short",t),this.a=new ze(t.a,16).toRed(this.red),this.b=new ze(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Th(rn,Eo);var O8=rn;rn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ze(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new ze(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],N8(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new ze(a.a,16),b:new ze(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}},rn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ze.mont(e),n=new ze(2).toRed(r).redInvm(),i=n.redNeg(),o=new ze(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]},rn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new ze(1),s=new ze(0),a=new ze(0),c=new ze(1),u,l,p,m,x,_,R,y=0,C,T;n.cmpn(0)!==0;){var P=i.div(n);C=i.sub(P.mul(n)),T=a.sub(P.mul(o));var D=c.sub(P.mul(s));if(!p&&C.cmp(r)<0)u=R.neg(),l=o,p=C.neg(),m=T;else if(p&&++y===2)break;R=C,i=n,n=C,a=o,o=T,c=s,s=D}x=C.neg(),_=T;var j=p.sqr().add(m.sqr()),W=x.sqr().add(_.sqr());return W.cmp(j)>=0&&(x=u,_=l),p.negative&&(p=p.neg(),m=m.neg()),x.negative&&(x=x.neg(),_=_.neg()),[{a:p,b:m},{a:x,b:_}]},rn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),c=s.mul(i.a),u=o.mul(n.b),l=s.mul(i.b),p=e.sub(a).sub(c),m=u.add(l).neg();return{k1:p,k2:m}},rn.prototype.pointFromX=function(e,r){e=new ze(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)},rn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0},rn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(r[s]),c=e[s],u=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[s*2]=c,i[s*2+1]=u,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,o,s*2,n),p=0;p<s*2;p++)i[p]=null,o[p]=null;return l};function Dt(t,e,r,n){Eo.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ze(e,16),this.y=new ze(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Th(Dt,Eo.BasePoint),rn.prototype.point=function(e,r,n){return new Dt(this,e,r,n)},rn.prototype.pointFromJSON=function(e,r){return Dt.fromJSON(this,e,r)},Dt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},Dt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Dt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(a){return e.point(a[0],a[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i},Dt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Dt.prototype.isInfinity=function(){return this.inf},Dt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},Dt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},Dt.prototype.getX=function(){return this.x.fromRed()},Dt.prototype.getY=function(){return this.y.fromRed()},Dt.prototype.mul=function(e){return e=new ze(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Dt.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)},Dt.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)},Dt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Dt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},Dt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Gt(t,e,r,n){Eo.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ze(0)):(this.x=new ze(e,16),this.y=new ze(r,16),this.z=new ze(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Th(Gt,Eo.BasePoint),rn.prototype.jpoint=function(e,r,n){return new Gt(this,e,r,n)},Gt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},Gt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Gt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(o),u=s.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),p=l.redMul(c),m=i.redMul(l),x=u.redSqr().redIAdd(p).redISub(m).redISub(m),_=u.redMul(m.redISub(x)).redISub(s.redMul(p)),R=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(x,_,R)},Gt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=o.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),p=n.redMul(u),m=c.redSqr().redIAdd(l).redISub(p).redISub(p),x=c.redMul(p.redISub(m)).redISub(o.redMul(l)),_=this.z.redMul(a);return this.curve.jpoint(m,x,_)},Gt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,c=this.z,u=c.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var p=s.redSqr(),m=l.redSqr(),x=m.redSqr(),_=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(u)),R=s.redMul(m),y=_.redSqr().redISub(R.redAdd(R)),C=R.redISub(y),T=_.redMul(C);T=T.redIAdd(T).redISub(x);var P=l.redMul(c);r+1<e&&(u=u.redMul(x)),s=y,c=P,l=T}return this.curve.jpoint(s,l.redMul(o),c)},Gt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Gt.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),u=c.redSqr().redISub(a).redISub(a),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=u,r=c.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),m=this.y.redSqr(),x=m.redSqr(),_=this.x.redAdd(m).redSqr().redISub(p).redISub(x);_=_.redIAdd(_);var R=p.redAdd(p).redIAdd(p),y=R.redSqr(),C=x.redIAdd(x);C=C.redIAdd(C),C=C.redIAdd(C),e=y.redISub(_).redISub(_),r=R.redMul(_.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},Gt.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=c.redSqr().redISub(a).redISub(a);e=u;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),m=this.y.redSqr(),x=this.x.redMul(m),_=this.x.redSub(p).redMul(this.x.redAdd(p));_=_.redAdd(_).redIAdd(_);var R=x.redIAdd(x);R=R.redIAdd(R);var y=R.redAdd(R);e=_.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(p);var C=m.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=_.redMul(R.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},Gt.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),u=r.redAdd(r);u=u.redIAdd(u);var l=u.redMul(a),p=c.redSqr().redISub(l.redAdd(l)),m=l.redISub(p),x=a.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var _=c.redMul(m).redISub(x),R=n.redAdd(n).redMul(i);return this.curve.jpoint(p,_,R)},Gt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var l=o.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(u),p=r.redMul(l);p=p.redIAdd(p),p=p.redIAdd(p);var m=this.x.redMul(c).redISub(p);m=m.redIAdd(m),m=m.redIAdd(m);var x=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(c)));x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var _=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(m,x,_)},Gt.prototype.mul=function(e,r){return e=new ze(e,r),this.curve._wnafMul(this,e)},Gt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0},Gt.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}},Gt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Gt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Tu=ls(function(t,e){var r=e;r.base=Eo,r.short=O8,r.mont=null,r.edwards=null}),Pu=ls(function(t,e){var r=e,n=jr.assert;function i(a){a.type==="short"?this.curve=new Tu.short(a):a.type==="edwards"?this.curve=new Tu.edwards(a):this.curve=new Tu.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:br.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:br.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:br.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:br.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:br.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:br.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:br.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:br.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Fi(t){if(!(this instanceof Fi))return new Fi(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=yn.toArray(t.entropy,t.entropyEnc||"hex"),r=yn.toArray(t.nonce,t.nonceEnc||"hex"),n=yn.toArray(t.pers,t.persEnc||"hex");Rh(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var _m=Fi;Fi.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Fi.prototype._hmac=function(){return new br.hmac(this.hash,this.K)},Fi.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Fi.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=yn.toArray(e,r),n=yn.toArray(n,i),Rh(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Fi.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=yn.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,yn.encode(s,r)};var Ph=jr.assert;function er(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Nh=er;er.fromPublic=function(e,r,n){return r instanceof er?r:new er(e,{pub:r,pubEnc:n})},er.fromPrivate=function(e,r,n){return r instanceof er?r:new er(e,{priv:r,privEnc:n})},er.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},er.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},er.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},er.prototype._importPrivate=function(e,r){this.priv=new ze(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},er.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Ph(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Ph(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},er.prototype.derive=function(e){return e.validate()||Ph(e.validate(),"public point not validated"),e.mul(this.priv).getX()},er.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)},er.prototype.verify=function(e,r){return this.ec.verify(e,r,this)},er.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var B8=jr.assert;function Nu(t,e){if(t instanceof Nu)return t;this._importDER(t,e)||(B8(t.r&&t.s,"Signature without r or s"),this.r=new ze(t.r,16),this.s=new ze(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ou=Nu;function L8(){this.place=0}function Oh(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Em(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Nu.prototype._importDER=function(e,r){e=jr.toArray(e,r);var n=new L8;if(e[n.place++]!==48)return!1;var i=Oh(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=Oh(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var a=Oh(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new ze(s),this.s=new ze(c),this.recoveryParam=null,!0};function Bh(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Nu.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Em(r),n=Em(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Bh(i,r.length),i=i.concat(r),i.push(2),Bh(i,n.length);var o=i.concat(n),s=[48];return Bh(s,o.length),s=s.concat(o),jr.encode(s,e)};var D8=function(){throw new Error("unsupported")},Sm=jr.assert;function nn(t){if(!(this instanceof nn))return new nn(t);typeof t=="string"&&(Sm(Object.prototype.hasOwnProperty.call(Pu,t),"Unknown curve "+t),t=Pu[t]),t instanceof Pu.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var F8=nn;nn.prototype.keyPair=function(e){return new Nh(this,e)},nn.prototype.keyFromPrivate=function(e,r){return Nh.fromPrivate(this,e,r)},nn.prototype.keyFromPublic=function(e,r){return Nh.fromPublic(this,e,r)},nn.prototype.genKeyPair=function(e){e||(e={});for(var r=new _m({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||D8(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new ze(2));;){var o=new ze(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}},nn.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},nn.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new ze(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),a=e.toArray("be",o),c=new _m({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new ze(1)),l=0;;l++){var p=i.k?i.k(l):new ze(c.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(u)>=0)){var m=this.g.mul(p);if(!m.isInfinity()){var x=m.getX(),_=x.umod(this.n);if(_.cmpn(0)!==0){var R=p.invm(this.n).mul(_.mul(r.getPrivate()).iadd(e));if(R=R.umod(this.n),R.cmpn(0)!==0){var y=(m.getY().isOdd()?1:0)|(x.cmp(_)!==0?2:0);return i.canonical&&R.cmp(this.nh)>0&&(R=this.n.sub(R),y^=1),new Ou({r:_,s:R,recoveryParam:y})}}}}}},nn.prototype.verify=function(e,r,n,i){e=this._truncateToN(new ze(e,16)),n=this.keyFromPublic(n,i),r=new Ou(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)},nn.prototype.recoverPubKey=function(t,e,r,n){Sm((3&r)===r,"The recovery param is more than two bits"),e=new Ou(e,n);var i=this.n,o=new ze(t),s=e.r,a=e.s,c=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(i),p=i.sub(o).mul(l).umod(i),m=a.mul(l).umod(i);return this.g.mulAdd(p,s,m)},nn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Ou(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var U8=ls(function(t,e){var r=e;r.version="6.5.4",r.utils=jr,r.rand=function(){throw new Error("unsupported")},r.curve=Tu,r.curves=Pu,r.ec=F8,r.eddsa=null}),j8=U8.ec;const $8="signing-key/5.7.0",Lh=new H($8);let Dh=null;function Yn(){return Dh||(Dh=new j8("secp256k1")),Dh}class So{constructor(e){J(this,"curve","secp256k1"),J(this,"privateKey",re(e)),Un(this.privateKey)!==32&&Lh.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Yn().keyFromPrivate(ee(this.privateKey));J(this,"publicKey","0x"+r.getPublic(!1,"hex")),J(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),J(this,"_isSigningKey",!0)}_addPoint(e){const r=Yn().keyFromPublic(ee(this.publicKey)),n=Yn().keyFromPublic(ee(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Yn().keyFromPrivate(ee(this.privateKey)),n=ee(e);n.length!==32&&Lh.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return mo({recoveryParam:i.recoveryParam,r:dt("0x"+i.r.toString(16),32),s:dt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Yn().keyFromPrivate(ee(this.privateKey)),n=Yn().keyFromPublic(ee(Fh(e)));return dt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Am(t,e){const r=mo(e),n={r:ee(r.r),s:ee(r.s)};return"0x"+Yn().recoverPubKey(ee(t),n,r.recoveryParam).encode("hex",!1)}function Fh(t,e){const r=ee(t);if(r.length===32){const n=new So(r);return e?"0x"+Yn().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?re(r):"0x"+Yn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Yn().keyFromPublic(r).getPublic(!0,"hex"):re(r)}return Lh.throwArgumentError("invalid public or private key","key","[REDACTED]")}var W8=Object.freeze({__proto__:null,SigningKey:So,recoverPublicKey:Am,computePublicKey:Fh});const q8="transactions/5.7.0",tr=new H(q8);var Uh;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Uh||(Uh={}));function jh(t){return t==="0x"?null:ct(t)}function rr(t){return t==="0x"?hh:te.from(t)}const H8=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],z8={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Ui(t){const e=Fh(t);return ct(It(ut(It(e,1)),12))}function Wa(t,e){return Ui(Am(ee(t),e))}function $r(t,e){const r=Fn(te.from(t).toHexString());return r.length>32&&tr.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function $h(t,e){return{address:ct(t),storageKeys:(e||[]).map((r,n)=>(Un(r)!==32&&tr.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function ji(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&tr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),$h(r[0],r[1])):$h(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return $h(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Cm(t){return ji(t).map(e=>[e.address,e.storageKeys])}function km(t,e){if(t.gasPrice!=null){const n=te.from(t.gasPrice),i=te.from(t.maxFeePerGas||0);n.eq(i)||tr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[$r(t.chainId||0,"chainId"),$r(t.nonce||0,"nonce"),$r(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$r(t.maxFeePerGas||0,"maxFeePerGas"),$r(t.gasLimit||0,"gasLimit"),t.to!=null?ct(t.to):"0x",$r(t.value||0,"value"),t.data||"0x",Cm(t.accessList||[])];if(e){const n=mo(e);r.push($r(n.recoveryParam,"recoveryParam")),r.push(Fn(n.r)),r.push(Fn(n.s))}return dr(["0x02",xo(r)])}function Mm(t,e){const r=[$r(t.chainId||0,"chainId"),$r(t.nonce||0,"nonce"),$r(t.gasPrice||0,"gasPrice"),$r(t.gasLimit||0,"gasLimit"),t.to!=null?ct(t.to):"0x",$r(t.value||0,"value"),t.data||"0x",Cm(t.accessList||[])];if(e){const n=mo(e);r.push($r(n.recoveryParam,"recoveryParam")),r.push(Fn(n.r)),r.push(Fn(n.s))}return dr(["0x01",xo(r)])}function V8(t,e){ah(t,z8);const r=[];H8.forEach(function(s){let a=t[s.name]||[];const c={};s.numeric&&(c.hexPad="left"),a=ee(re(a,c)),s.length&&a.length!==s.length&&a.length>0&&tr.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=Fn(a),a.length>s.maxLength&&tr.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),r.push(re(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&tr.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Ca(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(re(n)),r.push("0x"),r.push("0x")),!e)return xo(r);const i=mo(e);let o=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),o+=n*2+8,i.v>28&&i.v!==o&&tr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&tr.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(re(o)),r.push(Fn(ee(i.r))),r.push(Fn(ee(i.s))),xo(r)}function Wh(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&tr.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),V8(t,e);switch(t.type){case 1:return Mm(t,e);case 2:return km(t,e)}return tr.throwError(`unsupported transaction type: ${t.type}`,H.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function Im(t,e,r){try{const n=rr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{tr.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=dt(e[1],32),t.s=dt(e[2],32);try{const n=ut(r(t));t.from=Wa(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function G8(t){const e=mu(t.slice(1));e.length!==9&&e.length!==12&&tr.throwArgumentError("invalid component count for transaction type: 2","payload",re(t));const r=rr(e[2]),n=rr(e[3]),i={type:2,chainId:rr(e[0]).toNumber(),nonce:rr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:rr(e[4]),to:jh(e[5]),value:rr(e[6]),data:e[7],accessList:ji(e[8])};return e.length===9||(i.hash=ut(t),Im(i,e.slice(9),km)),i}function K8(t){const e=mu(t.slice(1));e.length!==8&&e.length!==11&&tr.throwArgumentError("invalid component count for transaction type: 1","payload",re(t));const r={type:1,chainId:rr(e[0]).toNumber(),nonce:rr(e[1]).toNumber(),gasPrice:rr(e[2]),gasLimit:rr(e[3]),to:jh(e[4]),value:rr(e[5]),data:e[6],accessList:ji(e[7])};return e.length===8||(r.hash=ut(t),Im(r,e.slice(8),Mm)),r}function J8(t){const e=mu(t);e.length!==9&&e.length!==6&&tr.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:rr(e[0]).toNumber(),gasPrice:rr(e[1]),gasLimit:rr(e[2]),to:jh(e[3]),value:rr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=te.from(e[6]).toNumber()}catch{return r}if(r.r=dt(e[7],32),r.s=dt(e[8],32),te.from(r.r).isZero()&&te.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(re(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const o=ut(xo(i));try{r.from=Wa(o,{r:re(r.r),s:re(r.s),recoveryParam:n})}catch{}r.hash=ut(t)}return r.type=null,r}function Rm(t){const e=ee(t);if(e[0]>127)return J8(e);switch(e[0]){case 1:return K8(e);case 2:return G8(e)}return tr.throwError(`unsupported transaction type: ${e[0]}`,H.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}var Q8=Object.freeze({__proto__:null,get TransactionTypes(){return Uh},computeAddress:Ui,recoverAddress:Wa,accessListify:ji,serialize:Wh,parse:Rm});const Y8="contracts/5.7.0";var $i=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const lt=new H(Y8),Z8={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Bu(t,e){return $i(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&lt.throwArgumentError("invalid address or ENS name","name",r);try{return ct(r)}catch{}t||lt.throwError("a provider or signer is needed to resolve ENS names",H.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&lt.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function qa(t,e,r){return $i(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>qa(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Bu(t,e):r.type==="tuple"?yield qa(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>qa(t,n,r.arrayChildren))):Promise.reject(lt.makeError("invalid value for array",H.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Lu(t,e,r){return $i(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=pt(r.pop())),lt.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=At({override:Bu(t.signer,n.from),signer:t.signer.getAddress()}).then(u=>$i(this,void 0,void 0,function*(){return ct(u.signer)!==u.override&&lt.throwError("Contract with a Signer cannot override from",H.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):n.from=t.signer.getAddress():n.from&&(n.from=Bu(t.provider,n.from));const i=yield At({args:qa(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:At(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(a.nonce!=null&&(s.nonce=te.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=te.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=te.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=te.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=te.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=ji(a.accessList)),s.gasLimit==null&&e.gas!=null){let u=21e3;const l=ee(o);for(let p=0;p<l.length;p++)u+=4,l[p]&&(u+=64);s.gasLimit=te.from(e.gas).add(u)}if(a.value){const u=te.from(a.value);!u.isZero()&&!e.payable&&lt.throwError("non-payable method cannot override value",H.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=u}a.customData&&(s.customData=pt(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(u=>n[u]!=null);return c.length&&lt.throwError(`cannot override ${c.map(u=>JSON.stringify(u)).join(",")}`,H.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s})}function X8(t,e){return function(...r){return Lu(t,e,r)}}function eS(t,e){const r=t.signer||t.provider;return function(...n){return $i(this,void 0,void 0,function*(){r||lt.throwError("estimate require a provider or signer",H.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Lu(t,e,n);return yield r.estimateGas(i)})}}function Tm(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(o=>{let s=gr(o),a=null;try{a=t.interface.parseLog(o)}catch{}return a&&(s.args=a.args,s.decode=(c,u)=>t.interface.decodeEventLog(a.eventFragment,c,u),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function Pm(t,e,r){const n=t.signer||t.provider;return function(...i){return $i(this,void 0,void 0,function*(){let o;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=pt(i.pop());c.blockTag!=null&&(o=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(o));const s=yield Lu(t,e,i),a=yield n.call(s,o);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===H.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=s),c}})}}function tS(t,e){return function(...r){return $i(this,void 0,void 0,function*(){t.signer||lt.throwError("sending a transaction requires a signer",H.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Lu(t,e,r),i=yield t.signer.sendTransaction(n);return Tm(t,i),i})}}function Nm(t,e,r){return e.constant?Pm(t,e,r):tS(t,e)}function Om(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Ha{constructor(e,r){J(this,"tag",e),J(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class rS extends Ha{constructor(){super("error",null)}}class Bm extends Ha{constructor(e,r,n,i){const o={address:e};let s=r.getEventTopic(n);i?(s!==i[0]&&lt.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[s],super(Om(o),o),J(this,"address",e),J(this,"interface",r),J(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=lb(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Lm extends Ha{constructor(e,r){super("*",{address:e}),J(this,"address",e),J(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class Dm{constructor(e,r,n){J(this,"interface",zt(new.target,"getInterface")(r)),n==null?(J(this,"provider",null),J(this,"signer",null)):Bi.isSigner(n)?(J(this,"provider",n.provider||null),J(this,"signer",n)):wo.isProvider(n)?(J(this,"provider",n),J(this,"signer",null)):lt.throwArgumentError("invalid signer or provider","signerOrProvider",n),J(this,"callStatic",{}),J(this,"estimateGas",{}),J(this,"functions",{}),J(this,"populateTransaction",{}),J(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];J(this.filters,a,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,u)})),s[c.name]||(s[c.name]=[]),s[c.name].push(a)}),Object.keys(s).forEach(a=>{const c=s[a];c.length===1?J(this.filters,a,this.filters[c[0]]):lt.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(J(this,"_runningEvents",{}),J(this,"_wrappedEmits",{}),e==null&&lt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),J(this,"address",e),this.provider)J(this,"resolvedAddress",Bu(this.provider,e));else try{J(this,"resolvedAddress",Promise.resolve(ct(e)))}catch{lt.throwError("provider is required to use ENS name as contract address",H.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},o={};Object.keys(this.interface.functions).forEach(s=>{const a=this.interface.functions[s];if(o[s]){lt.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}o[s]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(s)}this[s]==null&&J(this,s,Nm(this,a,!0)),this.functions[s]==null&&J(this.functions,s,Nm(this,a,!1)),this.callStatic[s]==null&&J(this.callStatic,s,Pm(this,a,!0)),this.populateTransaction[s]==null&&J(this.populateTransaction,s,X8(this,a)),this.estimateGas[s]==null&&J(this.estimateGas,s,eS(this,a))}),Object.keys(i).forEach(s=>{const a=i[s];if(a.length>1)return;s=s.substring(1);const c=a[0];try{this[s]==null&&J(this,s,this[c])}catch{}this.functions[s]==null&&J(this.functions,s,this.functions[c]),this.callStatic[s]==null&&J(this.callStatic,s,this.callStatic[c]),this.populateTransaction[s]==null&&J(this.populateTransaction,s,this.populateTransaction[c]),this.estimateGas[s]==null&&J(this.estimateGas,s,this.estimateGas[c])})}static getContractAddress(e){return vu(e)}static getInterface(e){return Sh.isInterface(e)?e:new Sh(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&lt.throwError("contract not deployed",H.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||lt.throwError("sending a transactions require a signer",H.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=pt(e||{});return["from","to"].forEach(function(n){r[n]!=null&&lt.throwError("cannot override "+n,H.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Cu(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&J(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Au.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new rS);if(e==="event")return this._normalizeRunningEvent(new Ha("event",null));if(e==="*")return this._normalizeRunningEvent(new Lm(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Bm(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Bm(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Ha(Om(r),r))}return this._normalizeRunningEvent(new Lm(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=gr(r);return i.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||lt.throwError("events require a provider or a signer with a provider",H.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=o=>{let s=this._wrapEvent(e,o,r);if(s.decodeError==null)try{const a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),o=pt(i.filter);return typeof r=="string"&&Ve(r,32)?(n!=null&&lt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=r):(o.fromBlock=r??0,o.toBlock=n??"latest"),this.provider.getLogs(o).then(s=>s.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Du extends Dm{}class nS{constructor(e,r,n){let i=null;typeof r=="string"?i=r:Ri(r)?i=re(r):r&&typeof r.object=="string"?i=r.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!Ve(i)||i.length%2)&&lt.throwArgumentError("invalid bytecode","bytecode",r),n&&!Bi.isSigner(n)&&lt.throwArgumentError("invalid signer","signer",n),J(this,"bytecode",i),J(this,"interface",zt(new.target,"getInterface")(e)),J(this,"signer",n||null)}getDeployTransaction(...e){let r={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){r=pt(e.pop());for(const n in r)if(!Z8[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{r[n]!=null&&lt.throwError("cannot override "+n,H.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.value&&!te.from(r.value).isZero()&&!this.interface.deploy.payable&&lt.throwError("non-payable constructor cannot override value",H.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),lt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),r.data=re(ht([this.bytecode,this.interface.encodeDeploy(e)])),r}deploy(...e){return $i(this,void 0,void 0,function*(){let r={};e.length===this.interface.deploy.inputs.length+1&&(r=e.pop()),lt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield qa(this.signer,e,this.interface.deploy.inputs);n.push(r);const i=this.getDeployTransaction(...n),o=yield this.signer.sendTransaction(i),s=zt(this.constructor,"getContractAddress")(o),a=zt(this.constructor,"getContract")(s,this.interface,this.signer);return Tm(a,o),J(a,"deployTransaction",o),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,r){e==null&&lt.throwError("missing compiler output",H.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,r)}static getInterface(e){return Du.getInterface(e)}static getContractAddress(e){return vu(e)}static getContract(e,r,n){return new Du(e,r,n)}}var iS=Object.freeze({__proto__:null,BaseContract:Dm,Contract:Du,ContractFactory:nS});class qh{constructor(e){J(this,"alphabet",e),J(this,"base",e.length),J(this,"_alphabetMap",{}),J(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=ee(e);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return ee(new Uint8Array(r.reverse()))}}const oS=new qh("abcdefghijklmnopqrstuvwxyz234567"),fs=new qh("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var sS=Object.freeze({__proto__:null,BaseX:qh,Base32:oS,Base58:fs}),hs;(function(t){t.sha256="sha256",t.sha512="sha512"})(hs||(hs={}));const aS="sha2/5.7.0",cS=new H(aS);function Fm(t){return"0x"+br.ripemd160().update(ee(t)).digest("hex")}function hi(t){return"0x"+br.sha256().update(ee(t)).digest("hex")}function uS(t){return"0x"+br.sha512().update(ee(t)).digest("hex")}function za(t,e,r){return hs[t]||cS.throwError("unsupported algorithm "+t,H.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+br.hmac(br[t],ee(e)).update(ee(r)).digest("hex")}var lS=Object.freeze({__proto__:null,computeHmac:za,ripemd160:Fm,sha256:hi,sha512:uS,get SupportedAlgorithm(){return hs}});function Hh(t,e,r,n,i){t=ee(t),e=ee(e);let o,s=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let u,l;for(let p=1;p<=s;p++){c[e.length]=p>>24&255,c[e.length+1]=p>>16&255,c[e.length+2]=p>>8&255,c[e.length+3]=p&255;let m=ee(za(i,t,c));o||(o=m.length,l=new Uint8Array(o),s=Math.ceil(n/o),u=n-(s-1)*o),l.set(m);for(let R=1;R<r;R++){m=ee(za(i,t,m));for(let y=0;y<o;y++)l[y]^=m[y]}const x=(p-1)*o,_=p===s?u:o;a.set(ee(l).slice(0,_),x)}return re(a)}const fS="wordlists/5.7.0",Um=new H(fS);class ds{constructor(e){Um.checkAbstract(new.target,ds),J(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Oi(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const hS="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Va=null;function jm(t){if(Va==null&&(Va=hS.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),ds.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Va=null,new Error("BIP39 Wordlist for en (English) FAILED")}class dS extends ds{constructor(){super("en")}getWord(e){return jm(this),Va[e]}getWordIndex(e){return jm(this),Va.indexOf(e)}}const $m=new dS;ds.register($m);const zh={en:$m};var pS=Object.freeze({__proto__:null,logger:Um,Wordlist:ds,wordlists:zh});const gS="hdnode/5.7.0",Ga=new H(gS),bS=te.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mS=Rt("Bitcoin seed"),ps=2147483648;function Wm(t){return(1<<t)-1<<8-t}function vS(t){return(1<<t)-1}function Fu(t){return dt(re(t),32)}function qm(t){return fs.encode(ht([t,It(hi(hi(t)),0,4)]))}function Vh(t){if(t==null)return zh.en;if(typeof t=="string"){const e=zh[t];return e==null&&Ga.throwArgumentError("unknown locale","wordlist",t),e}return t}const gs={},bs="m/44'/60'/0'/0/0";class Wr{constructor(e,r,n,i,o,s,a,c){if(e!==gs)throw new Error("HDNode constructor cannot be called directly");if(r){const u=new So(r);J(this,"privateKey",u.privateKey),J(this,"publicKey",u.compressedPublicKey)}else J(this,"privateKey",null),J(this,"publicKey",re(n));J(this,"parentFingerprint",i),J(this,"fingerprint",It(Fm(hi(this.publicKey)),0,4)),J(this,"address",Ui(this.publicKey)),J(this,"chainCode",o),J(this,"index",s),J(this,"depth",a),c==null?(J(this,"mnemonic",null),J(this,"path",null)):typeof c=="string"?(J(this,"mnemonic",null),J(this,"path",c)):(J(this,"mnemonic",c),J(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return qm(ht([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",re(this.depth),this.parentFingerprint,dt(re(this.index),4),this.chainCode,this.privateKey!=null?ht(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Wr(gs,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~ps));const n=new Uint8Array(37);if(e&ps){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(ee(this.privateKey),1),r&&(r+="'")}else n.set(ee(this.publicKey));for(let p=24;p>=0;p-=8)n[33+(p>>3)]=e>>24-p&255;const i=ee(za(hs.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32);let a=null,c=null;this.privateKey?a=Fu(te.from(o).add(this.privateKey).mod(bS)):c=new So(re(o))._addPoint(this.publicKey);let u=r;const l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:r,locale:l.locale||"en"})),new Wr(gs,a,c,this.fingerprint,Fu(s),e,this.depth+1,u)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const o=r[i];if(o.match(/^[0-9]+'$/)){const s=parseInt(o.substring(0,o.length-1));if(s>=ps)throw new Error("invalid path index - "+o);n=n._derive(ps+s)}else if(o.match(/^[0-9]+$/)){const s=parseInt(o);if(s>=ps)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(e,r){const n=ee(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=ee(za(hs.sha512,mS,n));return new Wr(gs,Fu(i.slice(0,32)),null,"0x00000000",Fu(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=Vh(n),e=ju(Uu(e,n),n),Wr._fromSeed(Hm(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Wr._fromSeed(e,null)}static fromExtendedKey(e){const r=fs.decode(e);(r.length!==82||qm(r.slice(0,78))!==e)&&Ga.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=re(r.slice(5,9)),o=parseInt(re(r.slice(9,13)).substring(2),16),s=re(r.slice(13,45)),a=r.slice(45,78);switch(re(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Wr(gs,null,re(a),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Wr(gs,re(a.slice(1)),null,i,s,o,n,null)}return Ga.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Hm(t,e){e||(e="");const r=Rt("mnemonic"+e,qn.NFKD);return Hh(Rt(t,qn.NFKD),r,2048,64,"sha512")}function Uu(t,e){e=Vh(e),Ga.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=ee(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let u=0;u<r.length;u++){let l=e.getWordIndex(r[u].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let p=0;p<11;p++)l&1<<10-p&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=r.length/3,a=Wm(s);if((ee(hi(n.slice(0,o/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return re(n.slice(0,o/8))}function ju(t,e){if(e=Vh(e),t=ee(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&vS(8-n)),n+=3);const i=t.length/4,o=ee(hi(t))[0]&Wm(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map(s=>e.getWord(s)))}function yS(t,e){try{return Uu(t,e),!0}catch{}return!1}function xS(t){return(typeof t!="number"||t<0||t>=ps||t%1)&&Ga.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}var wS=Object.freeze({__proto__:null,defaultPath:bs,HDNode:Wr,mnemonicToSeed:Hm,mnemonicToEntropy:Uu,entropyToMnemonic:ju,isValidMnemonic:yS,getAccountPath:xS});const _S="random/5.7.0",Gh=new H(_S);function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const zm=ES();let $u=zm.crypto||zm.msCrypto;(!$u||!$u.getRandomValues)&&(Gh.warn("WARNING: Missing strong random number source"),$u={getRandomValues:function(t){return Gh.throwError("no secure random source avaialble",H.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ms(t){(t<=0||t>1024||t%1||t!=t)&&Gh.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return $u.getRandomValues(e),ee(e)}function Vm(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}var SS=Object.freeze({__proto__:null,randomBytes:ms,shuffled:Vm}),Gm={exports:{}};(function(t,e){(function(r){function n(k){return parseInt(k)===k}function i(k){if(!n(k.length))return!1;for(var b=0;b<k.length;b++)if(!n(k[b])||k[b]<0||k[b]>255)return!1;return!0}function o(k,b){if(k.buffer&&ArrayBuffer.isView(k)&&k.name==="Uint8Array")return b&&(k.slice?k=k.slice():k=Array.prototype.slice.call(k)),k;if(Array.isArray(k)){if(!i(k))throw new Error("Array contains invalid value: "+k);return new Uint8Array(k)}if(n(k.length)&&i(k))return new Uint8Array(k);throw new Error("unsupported array-like object")}function s(k){return new Uint8Array(k)}function a(k,b,N,q,E){(q!=null||E!=null)&&(k.slice?k=k.slice(q,E):k=Array.prototype.slice.call(k,q,E)),b.set(k,N)}var c=function(){function k(N){var q=[],E=0;for(N=encodeURI(N);E<N.length;){var O=N.charCodeAt(E++);O===37?(q.push(parseInt(N.substr(E,2),16)),E+=2):q.push(O)}return o(q)}function b(N){for(var q=[],E=0;E<N.length;){var O=N[E];O<128?(q.push(String.fromCharCode(O)),E++):O>191&&O<224?(q.push(String.fromCharCode((O&31)<<6|N[E+1]&63)),E+=2):(q.push(String.fromCharCode((O&15)<<12|(N[E+1]&63)<<6|N[E+2]&63)),E+=3)}return q.join("")}return{toBytes:k,fromBytes:b}}(),u=function(){function k(q){for(var E=[],O=0;O<q.length;O+=2)E.push(parseInt(q.substr(O,2),16));return E}var b="0123456789abcdef";function N(q){for(var E=[],O=0;O<q.length;O++){var U=q[O];E.push(b[(U&240)>>4]+b[U&15])}return E.join("")}return{toBytes:k,fromBytes:N}}(),l={16:10,24:12,32:14},p=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],m=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],x=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],_=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],R=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],C=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],T=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],P=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],D=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],j=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],W=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],V=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],G=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Q=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function F(k){for(var b=[],N=0;N<k.length;N+=4)b.push(k[N]<<24|k[N+1]<<16|k[N+2]<<8|k[N+3]);return b}var g=function(k){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(k,!0)}),this._prepare()};g.prototype._prepare=function(){var k=l[this.key.length];if(k==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var b=0;b<=k;b++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var N=(k+1)*4,q=this.key.length/4,E=F(this.key),O,b=0;b<q;b++)O=b>>2,this._Ke[O][b%4]=E[b],this._Kd[k-O][b%4]=E[b];for(var U=0,$=q,z;$<N;){if(z=E[q-1],E[0]^=m[z>>16&255]<<24^m[z>>8&255]<<16^m[z&255]<<8^m[z>>24&255]^p[U]<<24,U+=1,q!=8)for(var b=1;b<q;b++)E[b]^=E[b-1];else{for(var b=1;b<q/2;b++)E[b]^=E[b-1];z=E[q/2-1],E[q/2]^=m[z&255]^m[z>>8&255]<<8^m[z>>16&255]<<16^m[z>>24&255]<<24;for(var b=q/2+1;b<q;b++)E[b]^=E[b-1]}for(var b=0,Z,B;b<q&&$<N;)Z=$>>2,B=$%4,this._Ke[Z][B]=E[b],this._Kd[k-Z][B]=E[b++],$++}for(var Z=1;Z<k;Z++)for(var B=0;B<4;B++)z=this._Kd[Z][B],this._Kd[Z][B]=W[z>>24&255]^V[z>>16&255]^G[z>>8&255]^Q[z&255]},g.prototype.encrypt=function(k){if(k.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var b=this._Ke.length-1,N=[0,0,0,0],q=F(k),E=0;E<4;E++)q[E]^=this._Ke[0][E];for(var O=1;O<b;O++){for(var E=0;E<4;E++)N[E]=_[q[E]>>24&255]^R[q[(E+1)%4]>>16&255]^y[q[(E+2)%4]>>8&255]^C[q[(E+3)%4]&255]^this._Ke[O][E];q=N.slice()}for(var U=s(16),$,E=0;E<4;E++)$=this._Ke[b][E],U[4*E]=(m[q[E]>>24&255]^$>>24)&255,U[4*E+1]=(m[q[(E+1)%4]>>16&255]^$>>16)&255,U[4*E+2]=(m[q[(E+2)%4]>>8&255]^$>>8)&255,U[4*E+3]=(m[q[(E+3)%4]&255]^$)&255;return U},g.prototype.decrypt=function(k){if(k.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var b=this._Kd.length-1,N=[0,0,0,0],q=F(k),E=0;E<4;E++)q[E]^=this._Kd[0][E];for(var O=1;O<b;O++){for(var E=0;E<4;E++)N[E]=T[q[E]>>24&255]^P[q[(E+3)%4]>>16&255]^D[q[(E+2)%4]>>8&255]^j[q[(E+1)%4]&255]^this._Kd[O][E];q=N.slice()}for(var U=s(16),$,E=0;E<4;E++)$=this._Kd[b][E],U[4*E]=(x[q[E]>>24&255]^$>>24)&255,U[4*E+1]=(x[q[(E+3)%4]>>16&255]^$>>16)&255,U[4*E+2]=(x[q[(E+2)%4]>>8&255]^$>>8)&255,U[4*E+3]=(x[q[(E+1)%4]&255]^$)&255;return U};var A=function(k){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new g(k)};A.prototype.encrypt=function(k){if(k=o(k),k.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var b=s(k.length),N=s(16),q=0;q<k.length;q+=16)a(k,N,0,q,q+16),N=this._aes.encrypt(N),a(N,b,q);return b},A.prototype.decrypt=function(k){if(k=o(k),k.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var b=s(k.length),N=s(16),q=0;q<k.length;q+=16)a(k,N,0,q,q+16),N=this._aes.decrypt(N),a(N,b,q);return b};var v=function(k,b){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!b)b=s(16);else if(b.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=o(b,!0),this._aes=new g(k)};v.prototype.encrypt=function(k){if(k=o(k),k.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var b=s(k.length),N=s(16),q=0;q<k.length;q+=16){a(k,N,0,q,q+16);for(var E=0;E<16;E++)N[E]^=this._lastCipherblock[E];this._lastCipherblock=this._aes.encrypt(N),a(this._lastCipherblock,b,q)}return b},v.prototype.decrypt=function(k){if(k=o(k),k.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var b=s(k.length),N=s(16),q=0;q<k.length;q+=16){a(k,N,0,q,q+16),N=this._aes.decrypt(N);for(var E=0;E<16;E++)b[q+E]=N[E]^this._lastCipherblock[E];a(k,this._lastCipherblock,0,q,q+16)}return b};var f=function(k,b,N){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!b)b=s(16);else if(b.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");N||(N=1),this.segmentSize=N,this._shiftRegister=o(b,!0),this._aes=new g(k)};f.prototype.encrypt=function(k){if(k.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var b=o(k,!0),N,q=0;q<b.length;q+=this.segmentSize){N=this._aes.encrypt(this._shiftRegister);for(var E=0;E<this.segmentSize;E++)b[q+E]^=N[E];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(b,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return b},f.prototype.decrypt=function(k){if(k.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var b=o(k,!0),N,q=0;q<b.length;q+=this.segmentSize){N=this._aes.encrypt(this._shiftRegister);for(var E=0;E<this.segmentSize;E++)b[q+E]^=N[E];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(k,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return b};var h=function(k,b){if(!(this instanceof h))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!b)b=s(16);else if(b.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=o(b,!0),this._lastPrecipherIndex=16,this._aes=new g(k)};h.prototype.encrypt=function(k){for(var b=o(k,!0),N=0;N<b.length;N++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),b[N]^=this._lastPrecipher[this._lastPrecipherIndex++];return b},h.prototype.decrypt=h.prototype.encrypt;var w=function(k){if(!(this instanceof w))throw Error("Counter must be instanitated with `new`");k!==0&&!k&&(k=1),typeof k=="number"?(this._counter=s(16),this.setValue(k)):this.setBytes(k)};w.prototype.setValue=function(k){if(typeof k!="number"||parseInt(k)!=k)throw new Error("invalid counter value (must be an integer)");for(var b=15;b>=0;--b)this._counter[b]=k%256,k=k>>8},w.prototype.setBytes=function(k){if(k=o(k,!0),k.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=k},w.prototype.increment=function(){for(var k=15;k>=0;k--)if(this._counter[k]===255)this._counter[k]=0;else{this._counter[k]++;break}};var M=function(k,b){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",b instanceof w||(b=new w(b)),this._counter=b,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new g(k)};M.prototype.encrypt=function(k){for(var b=o(k,!0),N=0;N<b.length;N++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),b[N]^=this._remainingCounter[this._remainingCounterIndex++];return b},M.prototype.decrypt=M.prototype.encrypt;function S(k){k=o(k,!0);var b=16-k.length%16,N=s(k.length+b);a(k,N);for(var q=k.length;q<N.length;q++)N[q]=b;return N}function d(k){if(k=o(k,!0),k.length<16)throw new Error("PKCS#7 invalid length");var b=k[k.length-1];if(b>16)throw new Error("PKCS#7 padding byte out of range");for(var N=k.length-b,q=0;q<b;q++)if(k[N+q]!==b)throw new Error("PKCS#7 invalid padding byte");var E=s(N);return a(k,E,0,0,N),E}var I={AES:g,Counter:w,ModeOfOperation:{ecb:A,cbc:v,cfb:f,ofb:h,ctr:M},utils:{hex:u,utf8:c},padding:{pkcs7:{pad:S,strip:d}},_arrayTest:{coerceArray:o,createArray:s,copyArray:a}};t.exports=I})()})(Gm);var Zn=Gm.exports;const Km="json-wallets/5.7.0";function Ao(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),ee(t)}function Ka(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Kh(t){return typeof t=="string"?Rt(t,qn.NFKC):ee(t)}function Tt(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(const s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(o===null)return null;r=o}return r}function AS(t){const e=ee(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=re(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const CS=new H(Km);class kS extends Ti{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Jh(t,e){const r=JSON.parse(t);e=Kh(e);const n=ct(Tt(r,"ethaddr")),i=Ao(Tt(r,"encseed"));(!i||i.length%16!==0)&&CS.throwArgumentError("invalid encseed","json",t);const o=ee(Hh(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),c=new Zn.ModeOfOperation.cbc(o,s),u=Zn.padding.pkcs7.strip(ee(c.decrypt(a)));let l="";for(let x=0;x<u.length;x++)l+=String.fromCharCode(u[x]);const p=Rt(l),m=ut(p);return new kS({_isCrowdsaleAccount:!0,address:n,privateKey:m})}function Wu(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function qu(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function MS(t){if(Wu(t))try{return ct(JSON.parse(t).ethaddr)}catch{return null}if(qu(t))try{return ct(JSON.parse(t).address)}catch{return null}return null}var Jm={exports:{}};(function(t,e){(function(r){function i(R){const y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let C=1779033703,T=3144134277,P=1013904242,D=2773480762,j=1359893119,W=2600822924,V=528734635,G=1541459225;const Q=new Uint32Array(64);function F(M){let S=0,d=M.length;for(;d>=64;){let I=C,k=T,b=P,N=D,q=j,E=W,O=V,U=G,$,z,Z,B,L;for(z=0;z<16;z++)Z=S+z*4,Q[z]=(M[Z]&255)<<24|(M[Z+1]&255)<<16|(M[Z+2]&255)<<8|M[Z+3]&255;for(z=16;z<64;z++)$=Q[z-2],B=($>>>17|$<<32-17)^($>>>19|$<<32-19)^$>>>10,$=Q[z-15],L=($>>>7|$<<32-7)^($>>>18|$<<32-18)^$>>>3,Q[z]=(B+Q[z-7]|0)+(L+Q[z-16]|0)|0;for(z=0;z<64;z++)B=(((q>>>6|q<<32-6)^(q>>>11|q<<32-11)^(q>>>25|q<<32-25))+(q&E^~q&O)|0)+(U+(y[z]+Q[z]|0)|0)|0,L=((I>>>2|I<<32-2)^(I>>>13|I<<32-13)^(I>>>22|I<<32-22))+(I&k^I&b^k&b)|0,U=O,O=E,E=q,q=N+B|0,N=b,b=k,k=I,I=B+L|0;C=C+I|0,T=T+k|0,P=P+b|0,D=D+N|0,j=j+q|0,W=W+E|0,V=V+O|0,G=G+U|0,S+=64,d-=64}}F(R);let g,A=R.length%64,v=R.length/536870912|0,f=R.length<<3,h=A<56?56:120,w=R.slice(R.length-A,R.length);for(w.push(128),g=A+1;g<h;g++)w.push(0);return w.push(v>>>24&255),w.push(v>>>16&255),w.push(v>>>8&255),w.push(v>>>0&255),w.push(f>>>24&255),w.push(f>>>16&255),w.push(f>>>8&255),w.push(f>>>0&255),F(w),[C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255,V>>>24&255,V>>>16&255,V>>>8&255,V>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255]}function o(R,y,C){R=R.length<=64?R:i(R);const T=64+y.length+4,P=new Array(T),D=new Array(64);let j,W=[];for(j=0;j<64;j++)P[j]=54;for(j=0;j<R.length;j++)P[j]^=R[j];for(j=0;j<y.length;j++)P[64+j]=y[j];for(j=T-4;j<T;j++)P[j]=0;for(j=0;j<64;j++)D[j]=92;for(j=0;j<R.length;j++)D[j]^=R[j];function V(){for(let G=T-1;G>=T-4;G--){if(P[G]++,P[G]<=255)return;P[G]=0}}for(;C>=32;)V(),W=W.concat(i(D.concat(i(P)))),C-=32;return C>0&&(V(),W=W.concat(i(D.concat(i(P))).slice(0,C))),W}function s(R,y,C,T,P){let D;for(l(R,(2*C-1)*16,P,0,16),D=0;D<2*C;D++)u(R,D*16,P,16),c(P,T),l(P,0,R,y+D*16,16);for(D=0;D<C;D++)l(R,y+D*2*16,R,D*16,16);for(D=0;D<C;D++)l(R,y+(D*2+1)*16,R,(D+C)*16,16)}function a(R,y){return R<<y|R>>>32-y}function c(R,y){l(R,0,y,0,16);for(let C=8;C>0;C-=2)y[4]^=a(y[0]+y[12],7),y[8]^=a(y[4]+y[0],9),y[12]^=a(y[8]+y[4],13),y[0]^=a(y[12]+y[8],18),y[9]^=a(y[5]+y[1],7),y[13]^=a(y[9]+y[5],9),y[1]^=a(y[13]+y[9],13),y[5]^=a(y[1]+y[13],18),y[14]^=a(y[10]+y[6],7),y[2]^=a(y[14]+y[10],9),y[6]^=a(y[2]+y[14],13),y[10]^=a(y[6]+y[2],18),y[3]^=a(y[15]+y[11],7),y[7]^=a(y[3]+y[15],9),y[11]^=a(y[7]+y[3],13),y[15]^=a(y[11]+y[7],18),y[1]^=a(y[0]+y[3],7),y[2]^=a(y[1]+y[0],9),y[3]^=a(y[2]+y[1],13),y[0]^=a(y[3]+y[2],18),y[6]^=a(y[5]+y[4],7),y[7]^=a(y[6]+y[5],9),y[4]^=a(y[7]+y[6],13),y[5]^=a(y[4]+y[7],18),y[11]^=a(y[10]+y[9],7),y[8]^=a(y[11]+y[10],9),y[9]^=a(y[8]+y[11],13),y[10]^=a(y[9]+y[8],18),y[12]^=a(y[15]+y[14],7),y[13]^=a(y[12]+y[15],9),y[14]^=a(y[13]+y[12],13),y[15]^=a(y[14]+y[13],18);for(let C=0;C<16;++C)R[C]+=y[C]}function u(R,y,C,T){for(let P=0;P<T;P++)C[P]^=R[y+P]}function l(R,y,C,T,P){for(;P--;)C[T++]=R[y++]}function p(R){if(!R||typeof R.length!="number")return!1;for(let y=0;y<R.length;y++){const C=R[y];if(typeof C!="number"||C%1||C<0||C>=256)return!1}return!0}function m(R,y){if(typeof R!="number"||R%1)throw new Error("invalid "+y);return R}function x(R,y,C,T,P,D,j){if(C=m(C,"N"),T=m(T,"r"),P=m(P,"p"),D=m(D,"dkLen"),C===0||(C&C-1)!==0)throw new Error("N must be power of 2");if(C>2147483647/128/T)throw new Error("N too large");if(T>2147483647/128/P)throw new Error("r too large");if(!p(R))throw new Error("password must be an array or buffer");if(R=Array.prototype.slice.call(R),!p(y))throw new Error("salt must be an array or buffer");y=Array.prototype.slice.call(y);let W=o(R,y,P*128*T);const V=new Uint32Array(P*32*T);for(let q=0;q<V.length;q++){const E=q*4;V[q]=(W[E+3]&255)<<24|(W[E+2]&255)<<16|(W[E+1]&255)<<8|(W[E+0]&255)<<0}const G=new Uint32Array(64*T),Q=new Uint32Array(32*T*C),F=32*T,g=new Uint32Array(16),A=new Uint32Array(16),v=P*C*2;let f=0,h=null,w=!1,M=0,S=0,d,I;const k=j?parseInt(1e3/T):4294967295,b=typeof setImmediate<"u"?setImmediate:setTimeout,N=function(){if(w)return j(new Error("cancelled"),f/v);let q;switch(M){case 0:I=S*32*T,l(V,I,G,0,F),M=1,d=0;case 1:q=C-d,q>k&&(q=k);for(let O=0;O<q;O++)l(G,0,Q,(d+O)*F,F),s(G,F,T,g,A);if(d+=q,f+=q,j){const O=parseInt(1e3*f/v);if(O!==h){if(w=j(null,f/v),w)break;h=O}}if(d<C)break;d=0,M=2;case 2:q=C-d,q>k&&(q=k);for(let O=0;O<q;O++){const U=(2*T-1)*16,$=G[U]&C-1;u(Q,$*F,G,F),s(G,F,T,g,A)}if(d+=q,f+=q,j){const O=parseInt(1e3*f/v);if(O!==h){if(w=j(null,f/v),w)break;h=O}}if(d<C)break;if(l(G,0,V,I,F),S++,S<P){M=0;break}W=[];for(let O=0;O<V.length;O++)W.push(V[O]>>0&255),W.push(V[O]>>8&255),W.push(V[O]>>16&255),W.push(V[O]>>24&255);const E=o(R,W,D);return j&&j(null,1,E),E}j&&b(N)};if(!j)for(;;){const q=N();if(q!=null)return q}N()}const _={scrypt:function(R,y,C,T,P,D,j){return new Promise(function(W,V){let G=0;j&&j(0),x(R,y,C,T,P,D,function(Q,F,g){if(Q)V(Q);else if(g)j&&G!==1&&j(1),W(new Uint8Array(g));else if(j&&F!==G)return G=F,j(F)})})},syncScrypt:function(R,y,C,T,P,D){return new Uint8Array(x(R,y,C,T,P,D))}};t.exports=_})()})(Jm);var Qh=Jm.exports,IS=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Yh=new H(Km);function Qm(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class RS extends Ti{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function TS(t,e,r){if(Tt(t,"crypto/cipher")==="aes-128-ctr"){const i=Ao(Tt(t,"crypto/cipherparams/iv")),o=new Zn.Counter(i),s=new Zn.ModeOfOperation.ctr(e,o);return ee(s.decrypt(r))}return null}function Ym(t,e){const r=Ao(Tt(t,"crypto/ciphertext"));if(re(ut(ht([e.slice(16,32),r]))).substring(2)!==Tt(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=TS(t,e.slice(0,16),r);i||Yh.throwError("unsupported cipher",H.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const o=e.slice(32,64),s=Ui(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),ct(c)!==s)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:s,privateKey:re(i)};if(Tt(t,"x-ethers/version")==="0.1"){const c=Ao(Tt(t,"x-ethers/mnemonicCiphertext")),u=Ao(Tt(t,"x-ethers/mnemonicCounter")),l=new Zn.Counter(u),p=new Zn.ModeOfOperation.ctr(o,l),m=Tt(t,"x-ethers/path")||bs,x=Tt(t,"x-ethers/locale")||"en",_=ee(p.decrypt(c));try{const R=ju(_,x),y=Wr.fromMnemonic(R,null,x).derivePath(m);if(y.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=y.mnemonic}catch(R){if(R.code!==H.errors.INVALID_ARGUMENT||R.argument!=="wordlist")throw R}}return new RS(a)}function Zm(t,e,r,n,i){return ee(Hh(t,e,r,n,i))}function PS(t,e,r,n,i){return Promise.resolve(Zm(t,e,r,n,i))}function Xm(t,e,r,n,i){const o=Kh(e),s=Tt(t,"crypto/kdf");if(s&&typeof s=="string"){const a=function(c,u){return Yh.throwArgumentError("invalid key-derivation function parameters",c,u)};if(s.toLowerCase()==="scrypt"){const c=Ao(Tt(t,"crypto/kdfparams/salt")),u=parseInt(Tt(t,"crypto/kdfparams/n")),l=parseInt(Tt(t,"crypto/kdfparams/r")),p=parseInt(Tt(t,"crypto/kdfparams/p"));(!u||!l||!p)&&a("kdf",s),(u&u-1)!==0&&a("N",u);const m=parseInt(Tt(t,"crypto/kdfparams/dklen"));return m!==32&&a("dklen",m),n(o,c,u,l,p,64,i)}else if(s.toLowerCase()==="pbkdf2"){const c=Ao(Tt(t,"crypto/kdfparams/salt"));let u=null;const l=Tt(t,"crypto/kdfparams/prf");l==="hmac-sha256"?u="sha256":l==="hmac-sha512"?u="sha512":a("prf",l);const p=parseInt(Tt(t,"crypto/kdfparams/c")),m=parseInt(Tt(t,"crypto/kdfparams/dklen"));return m!==32&&a("dklen",m),r(o,c,p,m,u)}}return Yh.throwArgumentError("unsupported key-derivation function","kdf",s)}function e1(t,e){const r=JSON.parse(t),n=Xm(r,e,Zm,Qh.syncScrypt);return Ym(r,n)}function t1(t,e,r){return IS(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield Xm(n,e,PS,Qh.scrypt,r);return Ym(n,i)})}function r1(t,e,r,n){try{if(ct(t.address)!==Ui(t.privateKey))throw new Error("address/privateKey mismatch");if(Qm(t)){const y=t.mnemonic;if(Wr.fromMnemonic(y.phrase,null,y.locale).derivePath(y.path||bs).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(y){return Promise.reject(y)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=ee(t.privateKey),o=Kh(e);let s=null,a=null,c=null;if(Qm(t)){const y=t.mnemonic;s=ee(Uu(y.phrase,y.locale||"en")),a=y.path||bs,c=y.locale||"en"}let u=r.client;u||(u="ethers.js");let l=null;r.salt?l=ee(r.salt):l=ms(32);let p=null;if(r.iv){if(p=ee(r.iv),p.length!==16)throw new Error("invalid iv")}else p=ms(16);let m=null;if(r.uuid){if(m=ee(r.uuid),m.length!==16)throw new Error("invalid uuid")}else m=ms(16);let x=1<<17,_=8,R=1;return r.scrypt&&(r.scrypt.N&&(x=r.scrypt.N),r.scrypt.r&&(_=r.scrypt.r),r.scrypt.p&&(R=r.scrypt.p)),Qh.scrypt(o,l,x,_,R,64,n).then(y=>{y=ee(y);const C=y.slice(0,16),T=y.slice(16,32),P=y.slice(32,64),D=new Zn.Counter(p),j=new Zn.ModeOfOperation.ctr(C,D),W=ee(j.encrypt(i)),V=ut(ht([T,W])),G={address:t.address.substring(2).toLowerCase(),id:AS(m),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:re(p).substring(2)},ciphertext:re(W).substring(2),kdf:"scrypt",kdfparams:{salt:re(l).substring(2),n:x,dklen:32,p:R,r:_},mac:V.substring(2)}};if(s){const Q=ms(16),F=new Zn.Counter(Q),g=new Zn.ModeOfOperation.ctr(P,F),A=ee(g.encrypt(s)),v=new Date,f=v.getUTCFullYear()+"-"+Ka(v.getUTCMonth()+1,2)+"-"+Ka(v.getUTCDate(),2)+"T"+Ka(v.getUTCHours(),2)+"-"+Ka(v.getUTCMinutes(),2)+"-"+Ka(v.getUTCSeconds(),2)+".0Z";G["x-ethers"]={client:u,gethFilename:"UTC--"+f+"--"+G.address,mnemonicCounter:re(Q).substring(2),mnemonicCiphertext:re(A).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(G)})}function n1(t,e,r){if(Wu(t)){r&&r(0);const n=Jh(t,e);return r&&r(1),Promise.resolve(n)}return qu(t)?t1(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function i1(t,e){if(Wu(t))return Jh(t,e);if(qu(t))return e1(t,e);throw new Error("invalid JSON wallet")}var NS=Object.freeze({__proto__:null,decryptCrowdsale:Jh,decryptKeystore:t1,decryptKeystoreSync:e1,encryptKeystore:r1,isCrowdsaleWallet:Wu,isKeystoreWallet:qu,getJsonWalletAddress:MS,decryptJsonWallet:n1,decryptJsonWalletSync:i1});const OS="wallet/5.7.0";var o1=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const vs=new H(OS);function BS(t){return t!=null&&Ve(t.privateKey,32)&&t.address!=null}function LS(t){const e=t.mnemonic;return e&&e.phrase}class Co extends Bi{constructor(e,r){if(super(),BS(e)){const n=new So(e.privateKey);if(J(this,"_signingKey",()=>n),J(this,"address",Ui(this.publicKey)),this.address!==ct(e.address)&&vs.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),LS(e)){const i=e.mnemonic;J(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||bs,locale:i.locale||"en"}));const o=this.mnemonic,s=Wr.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);Ui(s.privateKey)!==this.address&&vs.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else J(this,"_mnemonic",()=>null)}else{if(So.isSigningKey(e))e.curve!=="secp256k1"&&vs.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),J(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new So(e);J(this,"_signingKey",()=>n)}J(this,"_mnemonic",()=>null),J(this,"address",Ui(this.publicKey))}r&&!wo.isProvider(r)&&vs.throwArgumentError("invalid provider","provider",r),J(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Co(this,e)}signTransaction(e){return At(e).then(r=>{r.from!=null&&(ct(r.from)!==this.address&&vs.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(ut(Wh(r)));return Wh(r,n)})}signMessage(e){return o1(this,void 0,void 0,function*(){return ih(this._signingKey().signDigest(wh(e)))})}_signTypedData(e,r,n){return o1(this,void 0,void 0,function*(){const i=yield Vt.resolveNames(e,r,n,o=>(this.provider==null&&vs.throwError("cannot resolve ENS names without a provider",H.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return ih(this._signingKey().signDigest(Vt.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),r1(this,e,r,n)}static createRandom(e){let r=ms(16);e||(e={}),e.extraEntropy&&(r=ee(It(ut(ht([r,e.extraEntropy])),0,16)));const n=ju(r,e.locale);return Co.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return n1(e,r,n).then(i=>new Co(i))}static fromEncryptedJsonSync(e,r){return new Co(i1(e,r))}static fromMnemonic(e,r,n){return r||(r=bs),new Co(Wr.fromMnemonic(e,null,n).derivePath(r))}}function DS(t,e){return Wa(wh(t),e)}function FS(t,e,r,n){return Wa(Vt.hash(t,e,r),n)}var US=Object.freeze({__proto__:null,Wallet:Co,verifyMessage:DS,verifyTypedData:FS});const jS="networks/5.7.1",s1=new H(jS);function $S(t){return t&&typeof t.renetwork=="function"}function di(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const o=["goerli","ropsten","rinkeby","sepolia"];try{const s=new r.PocketProvider(t,n.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const o=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:t==="homestead"&&(o=2),new r.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(r){return di(r)},e}function Hu(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Hu(t,n)},r}const a1={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:di("homestead")},c1={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:di("ropsten")},u1={chainId:63,name:"classicMordor",_defaultProvider:Hu("https://www.ethercluster.com/mordor","classicMordor")},zu={unspecified:{chainId:0,name:"unspecified"},homestead:a1,mainnet:a1,morden:{chainId:2,name:"morden"},ropsten:c1,testnet:c1,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:di("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:di("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:di("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:di("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Hu("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:u1,classicTestnet:u1,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Hu("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:di("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:di("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Zh(t){if(t==null)return null;if(typeof t=="number"){for(const n in zu){const i=zu[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=zu[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=zu[t.name];if(!e)return typeof t.chainId!="number"&&s1.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&s1.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&($S(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const WS="web/5.7.1";var qS=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};function HS(t,e){return qS(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:ee(new Uint8Array(i))}})}var zS=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const xn=new H(WS);function l1(t){return new Promise(e=>{setTimeout(e,t)})}function Wi(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Ca(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ni(t)}catch{}return re(t)}return t}function VS(t){return Rt(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function f1(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;xn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,o=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;xn.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const u={method:"GET"};let l=!1,p=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&xn.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(const C in t.headers)a[C.toLowerCase()]={key:C,value:String(t.headers[C])},["if-none-match","if-modified-since"].indexOf(C.toLowerCase())>=0&&(l=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&xn.throwError("basic authentication requires a secure https url",H.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const C=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+xh(Rt(C))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=pt(t.fetchOptions))}const m=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),x=c?c.match(m):null;if(x)try{const C={statusCode:200,statusMessage:"OK",headers:{"content-type":x[1]||"text/plain"},body:x[2]?yh(x[3]):VS(x[3])};let T=C.body;return r&&(T=r(C.body,C)),Promise.resolve(T)}catch(C){xn.throwError("processing response error",H.errors.SERVER_ERROR,{body:Wi(x[1],x[2]),error:C,requestBody:null,requestMethod:"GET",url:c})}e&&(u.method="POST",u.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const _={};Object.keys(a).forEach(C=>{const T=a[C];_[T.key]=T.value}),u.headers=_;const R=function(){let C=null;return{promise:new Promise(function(D,j){p&&(C=setTimeout(()=>{C!=null&&(C=null,j(xn.makeError("timeout",H.errors.TIMEOUT,{requestBody:Wi(u.body,_["content-type"]),requestMethod:u.method,timeout:p,url:c})))},p))}),cancel:function(){C!=null&&(clearTimeout(C),C=null)}}}(),y=function(){return zS(this,void 0,void 0,function*(){for(let C=0;C<n;C++){let T=null;try{if(T=yield HS(c,u),C<n){if(T.statusCode===301||T.statusCode===302){const D=T.headers.location||"";if(u.method==="GET"&&D.match(/^https:/)){c=T.headers.location;continue}}else if(T.statusCode===429){let D=!0;if(i&&(D=yield i(C,c)),D){let j=0;const W=T.headers["retry-after"];typeof W=="string"&&W.match(/^[1-9][0-9]*$/)?j=parseInt(W)*1e3:j=o*parseInt(String(Math.random()*Math.pow(2,C))),yield l1(j);continue}}}}catch(D){T=D.response,T==null&&(R.cancel(),xn.throwError("missing response",H.errors.SERVER_ERROR,{requestBody:Wi(u.body,_["content-type"]),requestMethod:u.method,serverError:D,url:c}))}let P=T.body;if(l&&T.statusCode===304?P=null:!s&&(T.statusCode<200||T.statusCode>=300)&&(R.cancel(),xn.throwError("bad response",H.errors.SERVER_ERROR,{status:T.statusCode,headers:T.headers,body:Wi(P,T.headers?T.headers["content-type"]:null),requestBody:Wi(u.body,_["content-type"]),requestMethod:u.method,url:c})),r)try{const D=yield r(P,T);return R.cancel(),D}catch(D){if(D.throttleRetry&&C<n){let j=!0;if(i&&(j=yield i(C,c)),j){const W=o*parseInt(String(Math.random()*Math.pow(2,C)));yield l1(W);continue}}R.cancel(),xn.throwError("processing response error",H.errors.SERVER_ERROR,{body:Wi(P,T.headers?T.headers["content-type"]:null),error:D,requestBody:Wi(u.body,_["content-type"]),requestMethod:u.method,url:c})}return R.cancel(),P}return xn.throwError("failed response",H.errors.SERVER_ERROR,{requestBody:Wi(u.body,_["content-type"]),requestMethod:u.method,url:c})})}();return Promise.race([R.promise,y])}function ys(t,e,r){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(Ni(o))}catch(c){xn.throwError("invalid JSON",H.errors.SERVER_ERROR,{body:o,error:c})}return r&&(a=r(a,s)),a},i=null;if(e!=null){i=Rt(e);const o=typeof t=="string"?{url:t}:pt(t);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=pt(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},t=o}return f1(t,i,n)}function ko(t,e){return e||(e={}),e=pt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,o=!1;const s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function u(){return t().then(function(l){if(l!==void 0)s()&&r(l);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!o){if(c++,c>a){s()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(u,p)}return null},function(l){s()&&n(l)})}u()})}for(var GS=Object.freeze({__proto__:null,_fetchData:f1,fetchJson:ys,poll:ko}),Vu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Xh={},Gu=0;Gu<Vu.length;Gu++){var ed=Vu.charAt(Gu);if(Xh[ed]!==void 0)throw new TypeError(ed+" is ambiguous");Xh[ed]=Gu}function xs(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function h1(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=xs(e)^n>>5}for(e=xs(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=xs(e)^i&31}return e}function KS(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=h1(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!==0)throw new Error("Non 5-bit word");n=xs(n)^s,i+=Vu.charAt(s)}for(o=0;o<6;++o)n=xs(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=Vu.charAt(a)}return i}function d1(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=h1(o);if(typeof a=="string")return a;for(var c=[],u=0;u<s.length;++u){var l=s.charAt(u),p=Xh[l];if(p===void 0)return"Unknown character "+l;a=xs(a)^p,!(u+6>=s.length)&&c.push(p)}return a!==1?"Invalid checksum for "+t:{prefix:o,words:c}}function JS(){var t=d1.apply(null,arguments);if(typeof t=="object")return t}function QS(t){var e=d1.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Ku(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function YS(t){var e=Ku(t,8,5,!0);if(Array.isArray(e))return e}function ZS(t){var e=Ku(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function XS(t){var e=Ku(t,5,8,!1);if(Array.isArray(e))return e}function e7(t){var e=Ku(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var p1={decodeUnsafe:JS,decode:QS,encode:KS,toWordsUnsafe:YS,toWords:ZS,fromWordsUnsafe:XS,fromWords:e7};const nr="providers/5.7.1",Ja=new H(nr);class se{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),u=this.type.bind(this),l=p=>this.data(p,!0);return e.transaction={hash:s,type:u,accessList:se.allowNull(this.accessList.bind(this),null),blockHash:se.allowNull(s,null),blockNumber:se.allowNull(c,null),transactionIndex:se.allowNull(c,null),confirmations:se.allowNull(c,null),from:r,gasPrice:se.allowNull(n),maxPriorityFeePerGas:se.allowNull(n),maxFeePerGas:se.allowNull(n),gasLimit:n,to:se.allowNull(r,null),value:n,nonce:c,data:o,r:se.allowNull(this.uint256),s:se.allowNull(this.uint256),v:se.allowNull(c),creates:se.allowNull(r,null),raw:se.allowNull(o)},e.transactionRequest={from:se.allowNull(r),nonce:se.allowNull(c),gasLimit:se.allowNull(n),gasPrice:se.allowNull(n),maxPriorityFeePerGas:se.allowNull(n),maxFeePerGas:se.allowNull(n),to:se.allowNull(r),value:se.allowNull(n),data:se.allowNull(l),type:se.allowNull(c),accessList:se.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:r,topics:se.arrayOf(s),data:o,logIndex:c,blockHash:s},e.receipt={to:se.allowNull(this.address,null),from:se.allowNull(this.address,null),contractAddress:se.allowNull(r,null),transactionIndex:c,root:se.allowNull(a),gasUsed:n,logsBloom:se.allowNull(o),blockHash:s,transactionHash:s,logs:se.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:se.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:se.allowNull(n),status:se.allowNull(c),type:u},e.block={hash:se.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:se.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:se.allowNull(r),extraData:o,transactions:se.allowNull(se.arrayOf(s)),baseFeePerGas:se.allowNull(n)},e.blockWithTransactions=pt(e.block),e.blockWithTransactions.transactions=se.allowNull(se.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:se.allowNull(i,void 0),toBlock:se.allowNull(i,void 0),blockHash:se.allowNull(s,void 0),address:se.allowNull(r,void 0),topics:se.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:se.allowNull(c),blockHash:se.allowNull(s),transactionIndex:c,removed:se.allowNull(this.boolean.bind(this)),address:r,data:se.allowFalsish(o,"0x"),topics:se.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return ji(e||[])}number(e){return e==="0x"?0:te.from(e).toNumber()}type(e){return e==="0x"||e==null?0:te.from(e).toNumber()}bigNumber(e){return te.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ve(e))?e.toLowerCase():Ja.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return ct(e)}callAddress(e){if(!Ve(e,32))return null;const r=ct(It(e,12));return r===_b?null:r}contractAddress(e){return vu(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ve(e))return Ma(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Un(n)!==32?Ja.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=te.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Ve(e))throw new Error("invalid uint256");return dt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=se.check(r,e);return i._difficulty=n==null?null:te.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return se.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&te.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=se.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Ve(n)&&(n=te.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Ve(n)&&(n=te.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return Rm(e)}receiptLog(e){return se.check(this.formats.receiptLog,e)}receipt(e){const r=se.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=te.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Ja.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Ja.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Ja.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return se.check(this.formats.filter,e)}filterLog(e){return se.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const o=e[i](r[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=r[i],o}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function g1(t){return t&&typeof t.isCommunityResource=="function"}function td(t){return g1(t)&&t.isCommunityResource()}let b1=!1;function Qa(){b1||(b1=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var qe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Je=new H(nr),t7=10;function m1(t){return t==null?"null":(Un(t)!==32&&Je.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function v1(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[m1(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return m1(e)}).join("&")}function r7(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function ws(t){if(typeof t=="string"){if(t=t.toLowerCase(),Un(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+v1(t);if(eE.isForkEvent(t))throw Je.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+v1(t.topics||[])}throw new Error("invalid event - "+t)}function Ya(){return new Date().getTime()}function y1(t){return new Promise(e=>{setTimeout(e,t)})}const n7=["block","network","pending","poll"];class i7{constructor(e,r,n){J(this,"tag",e),J(this,"listener",r),J(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=r7(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||n7.indexOf(this.tag)>=0}}const o7={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function rd(t){return dt(te.from(t).toHexString(),32)}function x1(t){return fs.encode(ht([t,It(hi(hi(t)),0,4)]))}const w1=new RegExp("^(ipfs)://(.*)$","i"),_1=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),w1,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Ju(t,e){try{return Ni(Za(t,e))}catch{}return null}function Za(t,e){if(t==="0x")return null;const r=te.from(It(t,e,e+32)).toNumber(),n=te.from(It(t,r,r+32)).toNumber();return It(t,r+32,r+32+n)}function nd(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Je.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function E1(t){const e=ee(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function s7(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function S1(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=ee(t[n]);e[n]=E1(r),e.push(E1(i.length)),e.push(s7(i)),r+=32+Math.ceil(i.length/32)*32}return dr(e)}class id{constructor(e,r,n,i){J(this,"provider",e),J(this,"name",n),J(this,"address",e.formatter.address(r)),J(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>te.from(e).eq(1)).catch(e=>{if(e.code===H.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return qe(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:dr([e,Fa(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=dr(["0x9061b923",S1([Wb(this.name),n.data])]));try{let o=yield this.provider.call(n);return ee(o).length%32===4&&Je.throwError("resolver threw error",H.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=Za(o,0)),o}catch(o){if(o.code===H.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,r){return qe(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Za(n,0):null})}_getAddress(e,r){const n=o7[String(e)];if(n==null&&Je.throwError(`unsupported coin type: ${e}`,H.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=ee(r);if(n.p2pkh!=null){const o=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return x1(ht([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){const o=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return x1(ht([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){const o=i[1];let s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){const a=p1.toWords(i.slice(2));return a.unshift(s),p1.encode(n.prefix,a)}}return null}getAddress(e){return qe(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===dh?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===H.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",rd(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Je.throwError("invalid or unsupported coin data",H.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return qe(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<_1.length;n++){const i=r.match(_1[n]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:nd(r)};case"erc721":case"erc1155":{const s=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const u=yield this.provider.formatter.address(c[0]),l=dt(te.from(c[1]).toHexString(),32);if(o==="erc721"){const R=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:dr(["0x6352211e",l])}));if(a!==R)return null;e.push({type:"owner",content:R})}else if(o==="erc1155"){const R=te.from(yield this.provider.call({to:u,data:dr(["0x00fdd58e",dt(a,32),l])}));if(R.isZero())return null;e.push({type:"balance",content:R.toString()})}const p={to:this.provider.formatter.address(c[0]),data:dr([s,l])};let m=Ju(yield this.provider.call(p),0);if(m==null)return null;e.push({type:"metadata-url-base",content:m}),o==="erc1155"&&(m=m.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:m})),m.match(/^ipfs:/i)&&(m=nd(m)),e.push({type:"metadata-url",content:m});const x=yield ys(m);if(!x)return null;e.push({type:"metadata",content:JSON.stringify(x)});let _=x.image;if(typeof _!="string")return null;if(!_.match(/^(https:\/\/|data:)/i)){if(_.match(w1)==null)return null;e.push({type:"url-ipfs",content:_}),_=nd(_)}return e.push({type:"url",content:_}),{linkage:e,url:_}}}}}catch{}return null})}getContentHash(){return qe(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+fs.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+fs.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const s={"=":"","+":"-","/":"_"},a=xh("0x"+o[1]).replace(/[=+\/]/g,c=>s[c]);return"sia://"+a}return Je.throwError("invalid or unsupported content hash data",H.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return qe(this,void 0,void 0,function*(){let r=Rt(e);r=ht([rd(64),rd(r.length),r]),r.length%32!==0&&(r=ht([r,dt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",re(r));return n==null||n==="0x"?null:Ni(n)})}}let od=null,a7=1;class Qu extends wo{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),J(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=zt(new.target,"getNetwork")(e);r?(J(this,"_network",r),this.emit("network",r,null)):Je.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return qe(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Je.throwError("no network detected",H.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:J(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ko(()=>this._ready().then(e=>e,e=>{if(!(e.code===H.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return od==null&&(od=new se),od}static getNetwork(e){return Zh(e??"homestead")}ccipReadFetch(e,r,n){return qe(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),o=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const c=n[a],u=c.replace("{sender}",i).replace("{data}",o),l=c.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),p=yield ys({url:u,errorPassThrough:!0},l,(x,_)=>(x.status=_.statusCode,x));if(p.data)return p.data;const m=p.message||"unknown error";if(p.status>=400&&p.status<500)return Je.throwError(`response not found during CCIP fetch: ${m}`,H.errors.SERVER_ERROR,{url:c,errorMessage:m});s.push(m)}return Je.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,H.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return qe(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(Ya()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Ya(),n=At({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;const s=Ya();return i=te.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return qe(this,void 0,void 0,function*(){const e=a7++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Je.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Je.makeError("network block skew detected",H.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;const s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);const a=this.getLogs(o).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(o,u)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return qe(this,void 0,void 0,function*(){return Je.throwError("provider does not support network detection",H.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return qe(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield y1(0),this._network;const n=Je.makeError("underlying network changed",H.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Ya();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Ya(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return qe(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return qe(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=r?o:new Promise((s,a)=>{const c=[];let u=!1;const l=function(){return u?!0:(u=!0,c.forEach(m=>{m()}),!1)},p=m=>{m.confirmations<r||l()||s(m)};if(this.on(e,p),c.push(()=>{this.removeListener(e,p)}),i){let m=i.startBlock,x=null;const _=R=>qe(this,void 0,void 0,function*(){u||(yield y1(1e3),this.getTransactionCount(i.from).then(y=>qe(this,void 0,void 0,function*(){if(!u){if(y<=i.nonce)m=R;else{{const C=yield this.getTransaction(e);if(C&&C.blockNumber!=null)return}for(x==null&&(x=m-3,x<i.startBlock&&(x=i.startBlock));x<=R;){if(u)return;const C=yield this.getBlockWithTransactions(x);for(let T=0;T<C.transactions.length;T++){const P=C.transactions[T];if(P.hash===e)return;if(P.from===i.from&&P.nonce===i.nonce){if(u)return;const D=yield this.waitForTransaction(P.hash,r);if(l())return;let j="replaced";P.data===i.data&&P.to===i.to&&P.value.eq(i.value)?j="repriced":P.data==="0x"&&P.from===P.to&&P.value.isZero()&&(j="cancelled"),a(Je.makeError("transaction was replaced",H.errors.TRANSACTION_REPLACED,{cancelled:j==="replaced"||j==="cancelled",reason:j,replacement:this._wrapTransaction(P),hash:e,receipt:D}));return}}x++}}u||this.once("block",_)}}),y=>{u||this.once("block",_)}))});if(u)return;this.once("block",_),c.push(()=>{this.removeListener("block",_)})}if(typeof n=="number"&&n>0){const m=setTimeout(()=>{l()||a(Je.makeError("timeout exceeded",H.errors.TIMEOUT,{timeout:n}))},n);m.unref&&m.unref(),c.push(()=>{clearTimeout(m)})}})})}getBlockNumber(){return qe(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return te.from(e)}catch(r){return Je.throwError("bad result from backend",H.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield At({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return te.from(i)}catch(o){return Je.throwError("bad result from backend",H.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(e,r){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield At({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return te.from(i).toNumber()}catch(o){return Je.throwError("bad result from backend",H.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(e,r){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield At({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return re(i)}catch(o){return Je.throwError("bad result from backend",H.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(e,r,n){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield At({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>Ma(s))}),o=yield this.perform("getStorageAt",i);try{return re(o)}catch(s){return Je.throwError("bad result from backend",H.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&Un(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Je.throwError("Transaction hash mismatch from Provider.sendTransaction.",H.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(o,s)=>qe(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,o,s,a);return c==null&&o===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Je.throwError("transaction failed",H.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(o=>re(o)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(e){return qe(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?te.from(o):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?re(o):null))}),this.formatter.transactionRequest(yield At(n))})}_getFilter(e){return qe(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield At(r))})}_call(e,r,n){return qe(this,void 0,void 0,function*(){n>=t7&&Je.throwError("CCIP read exceeded maximum redirections",H.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,o=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&Un(o)%32===4)try{const s=It(o,4),a=It(s,0,32);te.from(a).eq(i)||Je.throwError("CCIP Read sender did not match",H.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const c=[],u=te.from(It(s,32,64)).toNumber(),l=te.from(It(s,u,u+32)).toNumber(),p=It(s,u+32);for(let C=0;C<l;C++){const T=Ju(p,C*32);T==null&&Je.throwError("CCIP Read contained corrupt URL string",H.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),c.push(T)}const m=Za(s,64);te.from(It(s,100,128)).isZero()||Je.throwError("CCIP Read callback selector included junk",H.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const x=It(s,96,100),_=Za(s,128),R=yield this.ccipReadFetch(e,m,c);R==null&&Je.throwError("CCIP Read disabled or provided no URLs",H.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const y={to:i,data:dr([x,S1([R,_])])};return this._call(y,r,n+1)}catch(s){if(s.code===H.errors.SERVER_ERROR)throw s}try{return re(o)}catch(s){return Je.throwError("bad result from backend",H.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:o,error:s})}})}call(e,r){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield At({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield At({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return te.from(n)}catch(i){return Je.throwError("bad result from backend",H.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return qe(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Je.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Je.throwError("ENS name not configured",H.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return qe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Ve(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Ve(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Je.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ko(()=>qe(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let c=0;c<o.transactions.length;c++){const u=o.transactions[c];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let l=s-u.blockNumber+1;l<=0&&(l=1),u.confirmations=l}}const a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return qe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ko(()=>qe(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return qe(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ko(()=>qe(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return qe(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield At({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),se.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return qe(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return qe(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Je.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return qe(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new id(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return qe(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Je.throwError("network does not support ENS",H.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Fa(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return qe(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Ve(e))throw n}typeof e!="string"&&Je.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return qe(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Ju(yield this.call({to:n,data:"0x691f3431"+Fa(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return qe(this,void 0,void 0,function*(){let r=null;if(Ve(e)){const o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;r=new id(this,s,o);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==H.errors.CALL_EXCEPTION)throw a}try{const a=Ju(yield this.call({to:s,data:"0x691f3431"+Fa(o).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==H.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Je.throwError(e+" not implemented",H.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new i7(ws(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],o=ws(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=ws(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=ws(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,o=ws(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=ws(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var pi=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Ot=new H(nr),c7=["call","estimateGas"];function Xa(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Ve(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Xa(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Xa(JSON.parse(t),e)}catch{}return null}function A1(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const o=Xa(e,!0);if(o)return o.data;Ot.throwError("missing revert data in call exception; Transaction reverted without a reason string",H.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let o=Xa(e.body,!1);o==null&&(o=Xa(e,!1)),o&&Ot.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",H.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===H.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit/i)&&Ot.throwError("insufficient funds for intrinsic transaction cost",H.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Ot.throwError("nonce has already been used",H.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Ot.throwError("replacement fee too low",H.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Ot.throwError("legacy pre-eip-155 transactions not supported",H.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),c7.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Ot.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",H.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function C1(t){return new Promise(function(e){setTimeout(e,t)})}function u7(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function ec(t){return t&&t.toLowerCase()}const sd={};class ad extends Bi{constructor(e,r,n){if(super(),e!==sd)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");J(this,"provider",r),n==null&&(n=0),typeof n=="string"?(J(this,"_address",this.provider.formatter.address(n)),J(this,"_index",null)):typeof n=="number"?(J(this,"_index",n),J(this,"_address",null)):Ot.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Ot.throwError("cannot alter JSON-RPC Signer connection",H.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new l7(sd,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Ot.throwError("unknown account #"+this._index,H.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=pt(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=pt(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>pi(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Ot.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),At({tx:At(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Ot.throwArgumentError("from address mismatch","transaction",e):n.from=i;const o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Ot.throwError("user rejected transaction",H.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),A1("sendTransaction",s,o)))})}signTransaction(e){return Ot.throwError("signing transactions is unsupported",H.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return pi(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ko(()=>pi(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return pi(this,void 0,void 0,function*(){const r=typeof e=="string"?Rt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[re(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Ot.throwError("user rejected signing",H.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return pi(this,void 0,void 0,function*(){const r=typeof e=="string"?Rt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),re(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Ot.throwError("user rejected signing",H.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return pi(this,void 0,void 0,function*(){const i=yield Vt.resolveNames(e,r,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(Vt.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Ot.throwError("user rejected signing",H.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return pi(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class l7 extends ad{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const f7={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class qi extends Qu{constructor(e,r){let n=r;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(n),e||(e=zt(this.constructor,"defaultUrl")()),typeof e=="string"?J(this,"connection",Object.freeze({url:e})):J(this,"connection",Object.freeze(pt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return pi(this,void 0,void 0,function*(){yield C1(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=zt(this.constructor,"getNetwork");try{return r(te.from(e).toNumber())}catch(n){return Ot.throwError("could not detect network",H.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Ot.throwError("could not detect network",H.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new ad(sd,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:gr(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const o=ys(this.connection,JSON.stringify(n),u7).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ec(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ec(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ec(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ec(r.address),dt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":{const n=zt(this.constructor,"hexlifyTransaction");return["eth_call",[n(r.transaction,{from:!0}),r.blockTag]]}case"estimateGas":{const n=zt(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(r.transaction,{from:!0})]]}case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ec(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return pi(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&te.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(r=pt(r),r.transaction=pt(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Ot.throwError(e+" not implemented",H.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return A1(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(o){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),s.then(function(){return C1(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=pt(f7);if(r)for(const o in r)r[o]&&(n[o]=!0);ah(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;const s=Ma(te.from(e[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=re(e[o]))}),e.accessList&&(i.accessList=ji(e.accessList)),i}}let tc=null;try{if(tc=WebSocket,tc==null)throw new Error("inject please")}catch{const e=new H(nr);tc=function(){e.throwError("WebSockets not supported in this environment",H.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var cd=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Yu=new H(nr);let h7=1;class rc extends qi{constructor(e,r){r==="any"&&Yu.throwError("WebSocketProvider does not support 'any' network yet",H.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?J(this,"_websocket",new tc(this.connection.url)):J(this,"_websocket",e),J(this,"_requests",{}),J(this,"_subs",{}),J(this,"_subIds",{}),J(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const o=i.data,s=JSON.parse(o);if(s.id!=null){const a=String(s.id),c=this._requests[a];if(delete this._requests[a],s.result!==void 0)c.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:s.result,provider:this});else{let u=null;s.error?(u=new Error(s.error.message||"unknown error"),J(u,"code",s.error.code||null),J(u,"response",o)):u=new Error("unknown error"),c.callback(u,void 0),this.emit("debug",{action:"response",error:u,request:JSON.parse(c.payload),provider:this})}}else if(s.method==="eth_subscription"){const a=this._subs[s.params.subscription];a&&a.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Yu.throwError("cannot reset events block on WebSocketProvider",H.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Yu.throwError("cannot set polling interval on WebSocketProvider",H.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return cd(this,void 0,void 0,function*(){return null})}set polling(e){!e||Yu.throwError("cannot set polling on WebSocketProvider",H.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=h7++;return new Promise((i,o)=>{function s(c,u){return c?o(c):i(u)}const a=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:s,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return cd(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const o=yield i;this._subs[o]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=te.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(o=>{!o||this.emit(i,o)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];!n||(delete this._subIds[r],n.then(i=>{!this._subs[i]||(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return cd(this,void 0,void 0,function*(){this.websocket.readyState===tc.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var d7=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const nc=new H(nr);class Zu extends qi{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return d7(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||nc.throwError("no network detected",H.errors.UNKNOWN_ERROR,{}),this._network==null&&(J(this,"_network",r),this.emit("network",r,null))),r})}}class gi extends Zu{constructor(e,r){nc.checkAbstract(new.target,gi),e=zt(new.target,"getNetwork")(e),r=zt(new.target,"getApiKey")(r);const n=zt(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?J(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{J(this,i,r[i])})}_startPending(){nc.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return nc.throwError("API provider does not support signing",H.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return nc.throwError("not implemented; sub-classes must override getUrl",H.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const k1=new H(nr),Xu="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class ud extends rc{constructor(e,r){const n=new el(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),J(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===Xu}}class el extends gi{static getWebSocketProvider(e,r){return new ud(e,r)}static getApiKey(e){return e==null?Xu:(e&&typeof e!="string"&&k1.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":n="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":n="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.alchemyapi.io/v2/";break;case"kovan":n="eth-kovan.alchemyapi.io/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":n="arb-rinkeby.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":n="opt-kovan.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:k1.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(i,o)=>(r===Xu&&Qa(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Xu}}const p7=new H(nr),tl="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function g7(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return p7.throwArgumentError("unsupported network","name",t)}class M1 extends gi{isCommunityResource(){return this.apiKey===tl}static getApiKey(e){return e??tl}static getUrl(e,r){r==null&&(r=tl);const n={allowGzip:!0,url:"https://"+g7(e.name)+r,throttleCallback:(i,o)=>(r.apiKey===tl&&Qa(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var b7=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const I1=new H(nr);class R1 extends gi{static getApiKey(e){return e!=null&&I1.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:I1.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return b7(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var rl=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Hi=new H(nr);function T1(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Ma(re(n)):r==="accessList"?n="["+ji(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=re(n),e[r]=n)}return e}function m7(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function P1(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function N1(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function ld(t,e,r){if(t==="call"&&e.code===H.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let o=i.data;if(o&&(o="0x"+o.replace(/^.*0x/i,"")),Ve(o))return o;Hi.throwError("missing revert data in call exception",H.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===H.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Hi.throwError("insufficient funds for intrinsic transaction cost",H.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Hi.throwError("nonce has already been used",H.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&Hi.throwError("replacement fee too low",H.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&Hi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",H.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class O1 extends Qu{constructor(e,r){super(e),J(this,"baseUrl",this.getBaseUrl()),J(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-kovan":return"https://api-kovan-optimistic.etherscan.io"}return Hi.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((o,s)=>{const a=r[s];return a!=null&&(o+=`&${s}=${a}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return rl(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,r),o=n?this.getPostData(e,r):null,s=e==="proxy"?P1:m7;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(l,p)=>(this.isCommunityResource()&&Qa(),Promise.resolve(!0))};let c=null;o&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(o).map(l=>`${l}=${o[l]}`).join("&"));const u=yield ys(a,c,s||P1);return this.emit("debug",{action:"response",request:i,response:gr(u),provider:this}),u})}detectNetwork(){return rl(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return rl(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(i=>ld("sendTransaction",i,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=T1(r.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(o){return ld("call",o,r.transaction)}}case"estimateGas":{const i=T1(r.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(o){return ld("estimateGas",o,r.transaction)}}case"getLogs":{const i={action:"getLogs"};if(r.filter.fromBlock&&(i.fromBlock=N1(r.filter.fromBlock)),r.filter.toBlock&&(i.toBlock=N1(r.filter.toBlock)),r.filter.address&&(i.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&Hi.throwError("unsupported topic count",H.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const a=r.filter.topics[0];(typeof a!="string"||a.length!==66)&&Hi.throwError("unsupported topic format",H.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const o=yield this.fetch("logs",i);let s={};for(let a=0;a<o.length;a++){const c=o[a];if(c.blockHash==null){if(s[c.blockNumber]==null){const u=yield this.getBlock(c.blockNumber);u&&(s[c.blockNumber]=u.hash)}c.blockHash=s[c.blockNumber]}}return o}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return rl(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(s=>{["contractAddress","to"].forEach(function(c){s[c]==""&&delete s[c]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const a=this.formatter.transactionResponse(s);return s.timeStamp&&(a.timestamp=parseInt(s.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var nl=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Mo=new H(nr);function il(){return new Date().getTime()}function B1(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Mo.throwArgumentError("provider mismatch","networks",t):e=n}return e}function L1(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function _s(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(te.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>_s(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=_s(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let v7=1;function D1(t){let e=null,r=null,n=new Promise(s=>{e=function(){r&&(clearTimeout(r),r=null),s()},r=setTimeout(e,t)});const i=s=>(n=n.then(s),n);function o(){return n}return{cancel:e,getPromise:o,wait:i}}const y7=[H.errors.CALL_EXCEPTION,H.errors.INSUFFICIENT_FUNDS,H.errors.NONCE_EXPIRED,H.errors.REPLACEMENT_UNDERPRICED,H.errors.UNPREDICTABLE_GAS_LIMIT],x7=["address","args","errorArgs","errorSignature","method","transaction"];function ol(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function w7(t,e){return function(r){const n={};r.forEach(o=>{const s=t(o.result);n[s]||(n[s]={count:0,result:o.result}),n[s].count++});const i=Object.keys(n);for(let o=0;o<i.length;o++){const s=n[i[o]];if(s.count>=e)return s.result}}}function _7(t,e,r){let n=_s;switch(e){case"getBlockNumber":return function(i){const o=i.map(a=>a.result);let s=L1(i.map(a=>a.result),2);if(s!=null)return s=Math.ceil(s),o.indexOf(s+1)>=0&&s++,s>=t._highestBlockNumber&&(t._highestBlockNumber=s),t._highestBlockNumber};case"getGasPrice":return function(i){const o=i.map(s=>s.result);return o.sort(),o[Math.floor(o.length/2)]};case"getEtherPrice":return function(i){return L1(i.map(o=>o.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=pt(i),i.confirmations=-1,_s(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=pt(i),i.transactions=i.transactions.map(o=>(o=pt(o),o.confirmations=-1,o)),_s(i))}:n=function(i){return i==null?null:_s(i)};break;default:throw new Error("unknown method: "+e)}return w7(n,t.quorum)}function ic(t,e){return nl(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:ko(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function E7(t,e,r,n){return nl(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Ve(n.blockTag)&&(i=yield ic(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Ve(n.blockTag)&&(i=yield ic(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Ve(n.blockTag)&&(i=yield ic(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Ve(n.blockTag)&&(i=yield ic(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let o=n.filter;return(o.fromBlock&&Ve(o.fromBlock)||o.toBlock&&Ve(o.toBlock))&&(i=yield ic(t,e)),i.getLogs(o)}}return Mo.throwError("unknown method error",H.errors.UNKNOWN_ERROR,{method:r,params:n})})}class fd extends Qu{constructor(e,r){e.length===0&&Mo.throwArgumentError("missing providers","providers",e);const n=e.map((s,a)=>{if(wo.isProvider(s)){const l=td(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:l,priority:1})}const c=pt(s);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=td(s)?2e3:750),c.weight==null&&(c.weight=1);const u=c.weight;return(u%1||u>512||u<1)&&Mo.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,u),Object.freeze(c)}),i=n.reduce((s,a)=>s+a.weight,0);r==null?r=i/2:r>i&&Mo.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let o=B1(n.map(s=>s.provider.network));o==null&&(o=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(s,a)},0)})),super(o),J(this,"providerConfigs",Object.freeze(n)),J(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return nl(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return B1(e)})}perform(e,r){return nl(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(u=>u.provider.sendTransaction(r.signedTransaction).then(l=>l.hash,l=>l)));for(let u=0;u<c.length;u++){const l=c[u];if(typeof l=="string")return l}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=_7(this,e,r),i=Vm(this.providerConfigs.map(pt));i.sort((c,u)=>c.priority-u.priority);const o=this._highestBlockNumber;let s=0,a=!0;for(;;){const c=il();let u=i.filter(x=>x.runner&&c-x.start<x.stallTimeout).reduce((x,_)=>x+_.weight,0);for(;u<this.quorum&&s<i.length;){const x=i[s++],_=v7++;x.start=il(),x.staller=D1(x.stallTimeout),x.staller.wait(()=>{x.staller=null}),x.runner=E7(x,o,e,r).then(R=>{x.done=!0,x.result=R,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:_,backend:ol(x,il()),request:{method:e,params:gr(r)},provider:this})},R=>{x.done=!0,x.error=R,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:_,backend:ol(x,il()),request:{method:e,params:gr(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:_,backend:ol(x,null),request:{method:e,params:gr(r)},provider:this}),u+=x.weight}const l=[];i.forEach(x=>{x.done||!x.runner||(l.push(x.runner),x.staller&&l.push(x.staller.getPromise()))}),l.length&&(yield Promise.race(l));const p=i.filter(x=>x.done&&x.error==null);if(p.length>=this.quorum){const x=n(p);if(x!==void 0)return i.forEach(_=>{_.staller&&_.staller.cancel(),_.cancelled=!0}),x;a||(yield D1(100).getPromise()),a=!1}const m=i.reduce((x,_)=>{if(!_.done||_.error==null)return x;const R=_.error.code;return y7.indexOf(R)>=0&&(x[R]||(x[R]={error:_.error,weight:0}),x[R].weight+=_.weight),x},{});if(Object.keys(m).forEach(x=>{const _=m[x];if(_.weight<this.quorum)return;i.forEach(C=>{C.staller&&C.staller.cancel(),C.cancelled=!0});const R=_.error,y={};x7.forEach(C=>{R[C]!=null&&(y[C]=R[C])}),Mo.throwError(R.reason||R.message,x,y)}),i.filter(x=>!x.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Mo.throwError("failed to meet quorum",H.errors.SERVER_ERROR,{method:e,params:r,results:i.map(c=>ol(c)),provider:this})})}}const F1=null,sl=new H(nr),oc="84842078b09946638c03157f83405213";class hd extends rc{constructor(e,r){const n=new al(e,r),i=n.connection;i.password&&sl.throwError("INFURA WebSocket project secrets unsupported",H.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,e),J(this,"apiKey",n.projectId),J(this,"projectId",n.projectId),J(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===oc}}class al extends gi{static getWebSocketProvider(e,r){return new hd(e,r)}static getApiKey(e){const r={apiKey:oc,projectId:oc,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(sl.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),sl.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"ropsten":n="ropsten.infura.io";break;case"rinkeby":n="rinkeby.infura.io";break;case"kovan":n="kovan.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-kovan":n="optimism-kovan.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":n="arbitrum-rinkeby.infura.io";break;default:sl.throwError("unsupported network",H.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(o,s)=>(r.projectId===oc&&Qa(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===oc}}class S7 extends qi{send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},o=new Promise((s,a)=>{i.resolve=s,i.reject=a});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=s.map(c=>c.request);return this.emit("debug",{action:"requestBatch",request:gr(a),provider:this}),ys(this.connection,JSON.stringify(a)).then(c=>{this.emit("debug",{action:"response",request:a,response:c,provider:this}),s.forEach((u,l)=>{const p=c[l];if(p.error){const m=new Error(p.error.message);m.code=p.error.code,m.data=p.error.data,u.reject(m)}else u.resolve(p.result)})},c=>{this.emit("debug",{action:"response",error:c,request:a,provider:this}),s.forEach(u=>{u.reject(c)})})},10)),o}}const dd=new H(nr),A7="ETHERS_JS_SHARED";class U1 extends gi{static getApiKey(e){return e&&typeof e!="string"&&dd.throwArgumentError("invalid apiKey","apiKey",e),e||A7}static getUrl(e,r){dd.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:dd.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const j1=new H(nr),$1="62e1ad51b37b8e00394bda3b";class W1 extends gi{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=$1:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:j1.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:j1.throwError("unsupported network",H.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${r.applicationId}`,o={headers:{},url:i};return r.applicationSecretKey!=null&&(o.user="",o.password=r.applicationSecretKey),o}isCommunityResource(){return this.applicationId===$1}}const q1=new H(nr);let C7=1;function H1(t,e){const r="Web3LegacyFetcher";return function(n,i){const o={method:n,params:i,id:C7++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:r,request:gr(o),provider:this}),e(o,(c,u)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:o,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:u,provider:this}),u.error){const l=new Error(u.error.message);return l.code=u.error.code,l.data=u.error.data,a(l)}s(u.result)})})}}function k7(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:gr(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class Io extends qi{constructor(e,r){e==null&&q1.throwArgumentError("missing provider","provider",e);let n=null,i=null,o=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(n===""&&(n="eip-1193:"),i=k7(e)):e.sendAsync?i=H1(e,e.sendAsync.bind(e)):e.send?i=H1(e,e.send.bind(e)):q1.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),J(this,"jsonRpcFetchFunc",i),J(this,"provider",o)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const z1=new H(nr);function M7(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new qi(t);case"ws":case"wss":return new rc(t);default:z1.throwArgumentError("unsupported URL scheme","network",t)}}const r=Zh(t);return(!r||!r._defaultProvider)&&z1.throwError("unsupported getDefaultProvider network",H.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:fd,AlchemyProvider:el,AnkrProvider:M1,CloudflareProvider:R1,EtherscanProvider:O1,InfuraProvider:al,JsonRpcProvider:qi,NodesmithProvider:U1,PocketProvider:W1,Web3Provider:Io,IpcProvider:F1},e)}var I7=Object.freeze({__proto__:null,Provider:wo,BaseProvider:Qu,Resolver:id,UrlJsonRpcProvider:gi,FallbackProvider:fd,AlchemyProvider:el,AlchemyWebSocketProvider:ud,AnkrProvider:M1,CloudflareProvider:R1,EtherscanProvider:O1,InfuraProvider:al,InfuraWebSocketProvider:hd,JsonRpcProvider:qi,JsonRpcBatchProvider:S7,NodesmithProvider:U1,PocketProvider:W1,StaticJsonRpcProvider:Zu,Web3Provider:Io,WebSocketProvider:rc,IpcProvider:F1,JsonRpcSigner:ad,getDefaultProvider:M7,getNetwork:Zh,isCommunityResource:td,isCommunityResourcable:g1,showThrottleMessage:Qa,Formatter:se});const R7="solidity/5.7.0",T7=new RegExp("^bytes([0-9]+)$"),P7=new RegExp("^(u?int)([0-9]*)$"),N7=new RegExp("^(.*)\\[([0-9]*)\\]$"),O7="0000000000000000000000000000000000000000000000000000000000000000",Es=new H(R7);function V1(t,e,r){switch(t){case"address":return r?ka(e,32):ee(e);case"string":return Rt(e);case"bytes":return ee(e);case"bool":return e=e?"0x01":"0x00",r?ka(e,32):ee(e)}let n=t.match(P7);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&Es.throwArgumentError("invalid number type","type",t),r&&(i=256),e=te.from(e).toTwos(i),ka(e,i/8)}if(n=t.match(T7),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&Es.throwArgumentError("invalid bytes type","type",t),ee(e).byteLength!==i&&Es.throwArgumentError(`invalid value for ${t}`,"value",e),r?ee((e+O7).substring(0,66)):e}if(n=t.match(N7),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&Es.throwArgumentError(`invalid array length for ${t}`,"value",e);const s=[];return e.forEach(function(a){s.push(V1(i,a,!0))}),ht(s)}return Es.throwArgumentError("invalid type","type",t)}function pd(t,e){t.length!=e.length&&Es.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(V1(n,e[i]))}),re(ht(r))}function B7(t,e){return ut(pd(t,e))}function L7(t,e){return hi(pd(t,e))}var D7=Object.freeze({__proto__:null,pack:pd,keccak256:B7,sha256:L7});const F7="units/5.7.0",G1=new H(F7),K1=["wei","kwei","mwei","gwei","szabo","finney","ether"];function U7(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&G1.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const o=[];for(;r.length;)if(r.length<=3){o.unshift(r);break}else{const s=r.length-3;o.unshift(r.substring(s)),r=r.substring(0,s)}return n+o.join(",")+i}function J1(t,e){if(typeof e=="string"){const r=K1.indexOf(e);r!==-1&&(e=3*r)}return Na(t,e??18)}function Q1(t,e){if(typeof t!="string"&&G1.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=K1.indexOf(e);r!==-1&&(e=3*r)}return dn(t,e??18)}function j7(t){return J1(t,18)}function $7(t){return Q1(t,18)}var W7=Object.freeze({__proto__:null,commify:U7,formatUnits:J1,parseUnits:Q1,formatEther:j7,parseEther:$7});const q7="ethers/5.7.1";new H(q7);var Pt={},H7=Ye(Q5),z7=Ye(T6),V7=Ye(p5),G7=Ye(sS),K7=Ye(a6),J7=Ye(G5),Q7=Ye(wS),Y7=Ye(NS),Z7=Ye(_6),Y1=Ye(o6),Z1=Ye(lS),X7=Ye(D7),eA=Ye(SS),tA=Ye(g6),rA=Ye(S6),nA=Ye(W8),X1=Ye(l5),iA=Ye(Q8),oA=Ye(W7),ev=Ye(US),sA=Ye(GS);(function(t){var e=ae&&ae.__createBinding||(Object.create?function(g,A,v,f){f===void 0&&(f=v),Object.defineProperty(g,f,{enumerable:!0,get:function(){return A[v]}})}:function(g,A,v,f){f===void 0&&(f=v),g[f]=A[v]}),r=ae&&ae.__setModuleDefault||(Object.create?function(g,A){Object.defineProperty(g,"default",{enumerable:!0,value:A})}:function(g,A){g.default=A}),n=ae&&ae.__importStar||function(g){if(g&&g.__esModule)return g;var A={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&e(A,g,v);return r(A,g),A};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=H7;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var o=z7;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return o.isAddress}});var s=n(V7);t.base64=s;var a=G7;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=K7;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var u=J7;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return u._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return u.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return u.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return u.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return u.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return u.namehash}});var l=Q7;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return l.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return l.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return l.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return l.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return l.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return l.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}});var p=Y7;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return p.getJsonWalletAddress}});var m=Z7;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return m.keccak256}});var x=Y1;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return x.Logger}});var _=Z1;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return _.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return _.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return _.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return _.sha512}});var R=X7;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return R.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return R.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return R.sha256}});var y=eA;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return y.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return y.shuffled}});var C=tA;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return C.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return C.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return C.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return C.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return C.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return C.shallowCopy}});var T=n(rA);t.RLP=T;var P=nA;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return P.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return P.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return P.SigningKey}});var D=X1;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return D.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return D.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return D.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return D._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return D.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return D.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return D.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return D.Utf8ErrorFuncs}});var j=iA;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return j.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return j.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return j.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return j.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return j.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return j.TransactionTypes}});var W=oA;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return W.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return W.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return W.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return W.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return W.parseUnits}});var V=ev;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return V.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return V.verifyTypedData}});var G=sA;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return G._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return G.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return G.poll}});var Q=Z1;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return Q.SupportedAlgorithm}});var F=X1;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return F.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return F.Utf8ErrorReason}})})(Pt);var tv={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function o(c,u,l,p,m){if(typeof l!="function")throw new TypeError("The listener must be a function");var x=new i(l,p||c,m),_=r?r+u:u;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],x]:c._events[_].push(x):(c._events[_]=x,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,p;if(this._eventsCount===0)return u;for(p in l=this._events)e.call(l,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,p=this._events[l];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,x=p.length,_=new Array(x);m<x;m++)_[m]=p[m].fn;return _},a.prototype.listenerCount=function(u){var l=r?r+u:u,p=this._events[l];return p?p.fn?1:p.length:0},a.prototype.emit=function(u,l,p,m,x,_){var R=r?r+u:u;if(!this._events[R])return!1;var y=this._events[R],C=arguments.length,T,P;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,l),!0;case 3:return y.fn.call(y.context,l,p),!0;case 4:return y.fn.call(y.context,l,p,m),!0;case 5:return y.fn.call(y.context,l,p,m,x),!0;case 6:return y.fn.call(y.context,l,p,m,x,_),!0}for(P=1,T=new Array(C-1);P<C;P++)T[P-1]=arguments[P];y.fn.apply(y.context,T)}else{var D=y.length,j;for(P=0;P<D;P++)switch(y[P].once&&this.removeListener(u,y[P].fn,void 0,!0),C){case 1:y[P].fn.call(y[P].context);break;case 2:y[P].fn.call(y[P].context,l);break;case 3:y[P].fn.call(y[P].context,l,p);break;case 4:y[P].fn.call(y[P].context,l,p,m);break;default:if(!T)for(j=1,T=new Array(C-1);j<C;j++)T[j-1]=arguments[j];y[P].fn.apply(y[P].context,T)}}return!0},a.prototype.on=function(u,l,p){return o(this,u,l,p,!1)},a.prototype.once=function(u,l,p){return o(this,u,l,p,!0)},a.prototype.removeListener=function(u,l,p,m){var x=r?r+u:u;if(!this._events[x])return this;if(!l)return s(this,x),this;var _=this._events[x];if(_.fn)_.fn===l&&(!m||_.once)&&(!p||_.context===p)&&s(this,x);else{for(var R=0,y=[],C=_.length;R<C;R++)(_[R].fn!==l||m&&!_[R].once||p&&_[R].context!==p)&&y.push(_[R]);y.length?this._events[x]=y.length===1?y[0]:y:s(this,x)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&s(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(tv);var gd=tv.exports;const Ss="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",aA="84842078b09946638c03157f83405213",Ft={mainnet:"https://eth-mainnet.alchemyapi.io/v2",ropsten:"https://eth-ropsten.alchemyapi.io/v2",rinkeby:"https://eth-rinkeby.alchemyapi.io/v2",goerli:"https://eth-goerli.alchemyapi.io/v2",kovan:"https://eth-kovan.alchemyapi.io/v2",optimism:"https://opt-mainnet.g.alchemy.com/v2",optimismKovan:"https://opt-kovan.g.alchemy.com/v2",optimismGoerli:"https://opt-goerli.g.alchemy.com/v2",polygon:"https://polygon-mainnet.g.alchemy.com/v2",polygonMumbai:"https://polygon-mumbai.g.alchemy.com/v2",arbitrum:"https://arb-mainnet.g.alchemy.com/v2",arbitrumRinkeby:"https://arb-rinkeby.g.alchemy.com/v2",arbitrumGoerli:"https://arb-goerli.g.alchemy.com/v2"},qr={mainnet:"https://mainnet.infura.io/v3",ropsten:"https://ropsten.infura.io/v3",rinkeby:"https://rinkeby.infura.io/v3",goerli:"https://goerli.infura.io/v3",kovan:"https://kovan.infura.io/v3",optimism:"https://optimism-mainnet.infura.io/v3",optimismKovan:"https://optimism-kovan.infura.io/v3",optimismGoerli:"https://optimism-goerli.infura.io/v3",polygon:"https://polygon-mainnet.infura.io/v3",polygonMumbai:"https://polygon-mumbai.infura.io/v3",arbitrum:"https://arbitrum-mainnet.infura.io/v3",arbitrumRinkeby:"https://arbitrum-rinkeby.infura.io/v3",arbitrumGoerli:"https://arbitrum-goerli.infura.io/v3"},ft={mainnet:"".concat(Ft.mainnet,"/").concat(Ss),ropsten:"".concat(Ft.ropsten,"/").concat(Ss),rinkeby:"".concat(Ft.rinkeby,"/").concat(Ss),goerli:"".concat(Ft.goerli,"/").concat(Ss),kovan:"".concat(Ft.kovan,"/").concat(Ss),sepolia:"https://rpc.sepolia.org",optimism:"https://mainnet.optimism.io",optimismKovan:"https://kovan.optimism.io",optimismGoerli:"https://goerli.optimism.io",polygon:"https://polygon-rpc.com",polygonMumbai:"https://matic-mumbai.chainstacklabs.com",arbitrum:"https://arb1.arbitrum.io/rpc",arbitrumRinkeby:"https://rinkeby.arbitrum.io/rpc",arbitrumGoerli:"https://goerli-rollup.arbitrum.io/rpc"},mt={mainnet:{name:"Etherscan",url:"https://etherscan.io"},ropsten:{name:"Etherscan",url:"https://ropsten.etherscan.io"},rinkeby:{name:"Etherscan",url:"https://rinkeby.etherscan.io"},goerli:{name:"Etherscan",url:"https://goerli.etherscan.io"},kovan:{name:"Etherscan",url:"https://kovan.etherscan.io"},sepolia:{name:"Etherscan",url:"https://sepolia.etherscan.io"},optimism:{name:"Etherscan",url:"https://optimistic.etherscan.io"},optimismKovan:{name:"Etherscan",url:"https://kovan-optimistic.etherscan.io"},polygon:{name:"PolygonScan",url:"https://polygonscan.com"},polygonMumbai:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"},arbitrum:{name:"Arbiscan",url:"https://arbiscan.io"},arbitrumRinkeby:{name:"Arbiscan",url:"https://testnet.arbiscan.io"}},Kt={mainnet:1,ropsten:3,rinkeby:4,goerli:5,kovan:42,sepolia:11155111,optimism:10,optimismKovan:69,optimismGoerli:420,polygon:137,polygonMumbai:80001,arbitrum:42161,arbitrumRinkeby:421611,arbitrumGoerli:421613,localhost:1337,hardhat:31337,foundry:31337},bd={id:Kt.mainnet,name:"Ethereum",network:"homestead",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.mainnet,default:ft.mainnet,infura:qr.mainnet,public:ft.mainnet},blockExplorers:{etherscan:mt.mainnet,default:mt.mainnet},ens:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}},rv={id:Kt.ropsten,name:"Ropsten",network:"ropsten",nativeCurrency:{name:"Ropsten Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.ropsten,default:ft.ropsten,infura:qr.ropsten,public:ft.ropsten},blockExplorers:{etherscan:mt.ropsten,default:mt.ropsten},ens:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:12063863},testnet:!0},nv={id:Kt.rinkeby,name:"Rinkeby",network:"rinkeby",nativeCurrency:{name:"Rinkeby Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.rinkeby,default:ft.rinkeby,infura:qr.rinkeby,public:ft.rinkeby},blockExplorers:{etherscan:mt.rinkeby,default:mt.rinkeby},ens:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10299530},testnet:!0},iv={id:Kt.goerli,name:"Goerli",network:"goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.goerli,default:ft.goerli,infura:qr.goerli,public:ft.goerli},blockExplorers:{etherscan:mt.goerli,default:mt.goerli},ens:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670},testnet:!0},ov={id:Kt.kovan,name:"Kovan",network:"kovan",nativeCurrency:{name:"Kovan Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.kovan,default:ft.kovan,infura:qr.kovan,public:ft.kovan},blockExplorers:{etherscan:mt.kovan,default:mt.kovan},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:30285908},testnet:!0},cA={id:Kt.sepolia,name:"Sepolia",network:"sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:ft.sepolia,public:ft.sepolia},blockExplorers:{etherscan:mt.sepolia,default:mt.sepolia},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},testnet:!0},uA={id:Kt.optimism,name:"Optimism",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.optimism,default:ft.optimism,infura:qr.optimism,public:ft.optimism},blockExplorers:{etherscan:mt.optimism,default:mt.optimism},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263}},lA={id:Kt.optimismKovan,name:"Optimism Kovan",network:"optimism-kovan",nativeCurrency:{name:"Kovan Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.optimismKovan,default:ft.optimismKovan,infura:qr.optimismKovan,public:ft.optimismKovan},blockExplorers:{etherscan:mt.optimismKovan,default:mt.optimismKovan},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1418387},testnet:!0},fA={id:Kt.optimismGoerli,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.optimismGoerli,default:ft.optimismGoerli,infura:qr.optimismGoerli,public:ft.optimismGoerli},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.com/optimism/goerli"}},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461},testnet:!0},hA={id:Kt.polygon,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:Ft.polygon,default:ft.polygon,infura:qr.polygon,public:ft.polygon},blockExplorers:{etherscan:mt.polygon,default:mt.polygon},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},dA={id:Kt.polygonMumbai,name:"Polygon Mumbai",network:"maticmum",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:Ft.polygonMumbai,default:ft.polygonMumbai,infura:qr.polygonMumbai,public:ft.polygonMumbai},blockExplorers:{etherscan:mt.polygonMumbai,default:mt.polygonMumbai},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25444704},testnet:!0},pA={id:Kt.arbitrum,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.arbitrum,default:ft.arbitrum,infura:qr.arbitrum,public:ft.arbitrum},blockExplorers:{arbitrum:{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io"},etherscan:mt.arbitrum,default:mt.arbitrum},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}},gA={id:Kt.arbitrumRinkeby,name:"Arbitrum Rinkeby",network:"arbitrum-rinkeby",nativeCurrency:{name:"Arbitrum Rinkeby Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.arbitrumRinkeby,default:ft.arbitrumRinkeby,infura:qr.arbitrumRinkeby,public:ft.arbitrumRinkeby},blockExplorers:{arbitrum:{name:"Arbitrum Explorer",url:"https://rinkeby-explorer.arbitrum.io"},etherscan:mt.arbitrumRinkeby,default:mt.arbitrumRinkeby},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10228837},testnet:!0},bA={id:Kt.arbitrumGoerli,name:"Arbitrum Goerli",network:"arbitrum-goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ft.arbitrumGoerli,default:ft.arbitrumGoerli,infura:qr.arbitrumGoerli,public:ft.arbitrumGoerli},blockExplorers:{default:{name:"Arbitrum Explorer",url:"https://goerli-rollup-explorer.arbitrum.io"}},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114},testnet:!0},mA={id:Kt.localhost,name:"Localhost",network:"localhost",rpcUrls:{default:"http://127.0.0.1:8545"}},vA={id:Kt.hardhat,name:"Hardhat",network:"hardhat",rpcUrls:{default:"http://127.0.0.1:8545"}},yA={id:Kt.foundry,name:"Foundry",network:"foundry",rpcUrls:{default:"http://127.0.0.1:8545"}},sv={mainnet:bd,ropsten:rv,rinkeby:nv,goerli:iv,kovan:ov,sepolia:cA,optimism:uA,optimismGoerli:fA,optimismKovan:lA,polygon:hA,polygonMumbai:dA,arbitrum:pA,arbitrumGoerli:bA,arbitrumRinkeby:gA,localhost:mA,hardhat:vA,foundry:yA},xA=[bd,rv,nv,iv,ov];function av(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sc(t,e){av(t,e),e.add(t)}function bi(t,e,r){av(t,e),e.set(t,r)}function ge(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wA(t,e){return e.get?e.get.call(t):e.value}function cv(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function Hr(t,e){var r=cv(t,e,"get");return wA(t,r)}function zi(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function _A(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function on(t,e,r){var n=cv(t,e,"set");return _A(t,n,r),r}class uv extends Error{constructor(e,r,n,i){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),ge(this,"code",void 0),ge(this,"data",void 0),ge(this,"internal",void 0),this.code=e,this.data=i,this.internal=n}}class lv extends uv{constructor(e,r,n,i){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n,i)}}class fv extends Error{constructor(){super(...arguments),ge(this,"name","AddChainError"),ge(this,"message","Error adding chain")}}class md extends Error{constructor(e){let{blockNumber:r,chain:n}=e;super('Chain "'.concat(n.name,'" does not support multicall').concat(r?" on block ".concat(r):"",".")),ge(this,"name","ChainDoesNotSupportMulticall")}}class vd extends Error{constructor(e){let{activeChain:r,targetChain:n}=e;super('Chain mismatch: Expected "'.concat(n,'", received "').concat(r,'".')),ge(this,"name","ChainMismatchError")}}class hv extends Error{constructor(){super(...arguments),ge(this,"name","ChainNotConfigured"),ge(this,"message","Chain not configured")}}class EA extends Error{constructor(){super(...arguments),ge(this,"name","ConnectorAlreadyConnectedError"),ge(this,"message","Connector already connected")}}class zr extends Error{constructor(){super(...arguments),ge(this,"name","ConnectorNotFoundError"),ge(this,"message","Connector not found")}}class SA extends Error{constructor(e){var r;let{addressOrName:n,chainId:i,functionName:o}=e;const{chains:s,network:a}=Vr(),c=s?.find(l=>{let{id:p}=l;return p===(i||a.chainId)}),u=c==null||(r=c.blockExplorers)===null||r===void 0?void 0:r.default;super(['Function "'.concat(o,'" on contract "').concat(n,'" does not exist.'),...u?["","".concat(u?.name,": ").concat(u?.url,"/address/").concat(n,"#readContract")]:[]].join(`
`)),ge(this,"name","ContractMethodDoesNotExistError")}}class dv extends Error{constructor(e){let{addressOrName:r,args:n,chainId:i,functionName:o}=e;super(["Contract read returned an empty response. This could be due to any of the following:",'- The contract does not have the function "'.concat(o,'",'),"- The parameters passed to the contract function may be invalid, or","- The address is not a contract.","","Config:",JSON.stringify({addressOrName:r,contractInterface:"...",functionName:o,chainId:i,args:n},null,2)].join(`
`)),ge(this,"name","ContractMethodNoResultError")}}class yd extends Error{constructor(e){let{addressOrName:r,args:n,chainId:i,functionName:o,errorMessage:s}=e;super(["Contract method reverted with an error.","","Config:",JSON.stringify({addressOrName:r,contractInterface:"...",functionName:o,chainId:i,args:n},null,2),"","Details: ".concat(s)].join(`
`)),ge(this,"name","ContractMethodRevertedError")}}class pv extends Error{constructor(e){let{addressOrName:r,args:n,chainId:i,functionName:o,errorMessage:s}=e;super(["Failed to decode contract function result.","","Config:",JSON.stringify({addressOrName:r,contractInterface:"...",functionName:o,chainId:i,args:n},null,2),"","Details: ".concat(s)].join(`
`)),ge(this,"name","ContractResultDecodeError")}}class gv extends Error{constructor(){super(...arguments),ge(this,"name","ProviderChainsNotFound"),ge(this,"message",["No chains were found on the wagmi provider. Some functions that require a chain may not work.","","It is recommended to add a list of chains to the provider in `createClient`.","","Example:","","```","import { getDefaultProvider } from 'ethers'","import { chain, createClient } from 'wagmi'","","createClient({","  provider: Object.assign(getDefaultProvider(), { chains: [chain.mainnet] })","})","```"].join(`
`))}}class bv extends uv{constructor(e){super(-32002,"Resource unavailable",e),ge(this,"name","ResourceUnavailable")}}class xd extends lv{constructor(e){super(4902,"Error switching chain",e),ge(this,"name","SwitchChainError")}}class AA extends Error{constructor(e){let{connector:r}=e;super('"'.concat(r.name,'" does not support programmatic chain switching.')),ge(this,"name","SwitchChainNotSupportedError")}}class wn extends lv{constructor(e){super(4001,"User rejected request",e),ge(this,"name","UserRejectedRequestError")}}function CA(t){var e,r;if(!t)return"Injected";const n=o=>{if(o.isBitKeep)return"BitKeep";if(o.isBraveWallet)return"Brave Wallet";if(o.isCoinbaseWallet)return"Coinbase Wallet";if(o.isExodus)return"Exodus";if(o.isFrame)return"Frame";if(o.isMathWallet)return"MathWallet";if(o.isOpera)return"Opera";if(o.isTally)return"Tally";if(o.isTokenPocket)return"TokenPocket";if(o.isTokenary)return"Tokenary";if(o.isTrust)return"Trust Wallet";if(o.isOneInchIOSWallet||o.isOneInchAndroidWallet)return"1inch Wallet";if(o.isMetaMask)return"MetaMask"};if((e=t.providers)!==null&&e!==void 0&&e.length){var i;const o=new Set;let s=1;for(const c of t.providers){let u=n(c);u||(u="Unknown Wallet #".concat(s),s+=1),o.add(u)}const a=[...o];return a.length?a:(i=a[0])!==null&&i!==void 0?i:"Injected"}return(r=n(t))!==null&&r!==void 0?r:"Injected"}function Ro(t){return typeof t=="string"?Number.parseInt(t,t.trim().substring(0,2)==="0x"?16:10):typeof t=="bigint"?Number(t):t}class wd extends gd{constructor(e){let{chains:r=xA,options:n}=e;super(),ge(this,"id",void 0),ge(this,"name",void 0),ge(this,"chains",void 0),ge(this,"options",void 0),ge(this,"ready",void 0),this.chains=r,this.options=n}getBlockExplorerUrls(e){var r;const{default:n,...i}=(r=e.blockExplorers)!==null&&r!==void 0?r:{};return n?[n.url,...Object.values(i).map(o=>o.url)]:[]}isChainUnsupported(e){return!this.chains.some(r=>r.id===e)}}var _d=new WeakMap,cl=new WeakMap;class Ed extends wd{constructor(){let{chains:e,options:r={shimDisconnect:!0}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super({chains:e,options:r}),ge(this,"id",void 0),ge(this,"name",void 0),ge(this,"ready",typeof window<"u"&&!!window.ethereum),bi(this,_d,{writable:!0,value:void 0}),bi(this,cl,{writable:!0,value:void 0}),ge(this,"shimDisconnectKey","injected.shimDisconnect"),ge(this,"onAccountsChanged",o=>{o.length===0?this.emit("disconnect"):this.emit("change",{account:Pt.getAddress(o[0])})}),ge(this,"onChainChanged",o=>{const s=Ro(o),a=this.isChainUnsupported(s);this.emit("change",{chain:{id:s,unsupported:a}})}),ge(this,"onDisconnect",()=>{var o,s,a;if((o=this.options)!==null&&o!==void 0&&o.shimChainChangedDisconnect&&Hr(this,cl)){on(this,cl,!1);return}this.emit("disconnect"),(s=this.options)!==null&&s!==void 0&&s.shimDisconnect&&((a=Jt().storage)===null||a===void 0||a.removeItem(this.shimDisconnectKey))});let n="Injected";const i=r.name;if(typeof i=="string")n=i;else if(typeof window<"u"){const o=CA(window.ethereum);i?n=i(o):n=typeof o=="string"?o:o[0]}this.id="injected",this.name=n}async connect(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var r,n;const i=await this.getProvider();if(!i)throw new zr;i.on&&(i.on("accountsChanged",this.onAccountsChanged),i.on("chainChanged",this.onChainChanged),i.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const o=await this.getAccount();let s=await this.getChainId(),a=this.isChainUnsupported(s);return e&&s!==e&&(s=(await this.switchChain(e)).id,a=this.isChainUnsupported(s)),(r=this.options)!==null&&r!==void 0&&r.shimDisconnect&&((n=Jt().storage)===null||n===void 0||n.setItem(this.shimDisconnectKey,!0)),{account:o,chain:{id:s,unsupported:a},provider:i}}catch(i){throw this.isUserRejectedRequestError(i)?new wn(i):i.code===-32002?new bv(i):i}}async disconnect(){var e,r;const n=await this.getProvider();!(n!=null&&n.removeListener)||(n.removeListener("accountsChanged",this.onAccountsChanged),n.removeListener("chainChanged",this.onChainChanged),n.removeListener("disconnect",this.onDisconnect),(e=this.options)!==null&&e!==void 0&&e.shimDisconnect&&((r=Jt().storage)===null||r===void 0||r.removeItem(this.shimDisconnectKey)))}async getAccount(){const e=await this.getProvider();if(!e)throw new zr;const r=await e.request({method:"eth_requestAccounts"});return Pt.getAddress(r[0])}async getChainId(){const e=await this.getProvider();if(!e)throw new zr;return await e.request({method:"eth_chainId"}).then(Ro)}async getProvider(){return typeof window<"u"&&!!window.ethereum&&on(this,_d,window.ethereum),Hr(this,_d)}async getSigner(){const[e,r]=await Promise.all([this.getProvider(),this.getAccount()]);return new Io(e).getSigner(r)}async isAuthorized(){try{var e,r;if((e=this.options)!==null&&e!==void 0&&e.shimDisconnect&&!((r=Jt().storage)!==null&&r!==void 0&&r.getItem(this.shimDisconnectKey)))return!1;const n=await this.getProvider();if(!n)throw new zr;return!!(await n.request({method:"eth_accounts"}))[0]}catch{return!1}}async switchChain(e){var r;(r=this.options)!==null&&r!==void 0&&r.shimChainChangedDisconnect&&on(this,cl,!0);const n=await this.getProvider();if(!n)throw new zr;const i=Pt.hexValue(e);try{var o;return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:i}]}),(o=this.chains.find(u=>u.id===e))!==null&&o!==void 0?o:{id:e,name:"Chain ".concat(i),network:"".concat(i),rpcUrls:{default:""}}}catch(u){var s,a;const l=this.chains.find(p=>p.id===e);if(!l)throw new hv;if(u.code===4902||(u==null||(s=u.data)===null||s===void 0||(a=s.originalError)===null||a===void 0?void 0:a.code)===4902)try{var c;return await n.request({method:"wallet_addEthereumChain",params:[{chainId:i,chainName:l.name,nativeCurrency:l.nativeCurrency,rpcUrls:[(c=l.rpcUrls.public)!==null&&c!==void 0?c:l.rpcUrls.default],blockExplorerUrls:this.getBlockExplorerUrls(l)}]}),l}catch(p){throw this.isUserRejectedRequestError(p)?new wn(u):new fv}throw this.isUserRejectedRequestError(u)?new wn(u):new xd(u)}}async watchAsset(e){let{address:r,decimals:n=18,image:i,symbol:o}=e;const s=await this.getProvider();if(!s)throw new zr;return await s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r,decimals:n,image:i,symbol:o}}})}isUserRejectedRequestError(e){return e.code===4001}}const kA={getItem:t=>"",setItem:(t,e)=>null,removeItem:t=>null};function MA(t){let{storage:e,key:r="wagmi"}=t;return{...e,getItem:function(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const o=e.getItem("".concat(r,".").concat(n));try{return o?JSON.parse(o):i}catch(s){return console.warn(s),i}},setItem:(n,i)=>{if(i===null)e.removeItem("".concat(r,".").concat(n));else try{e.setItem("".concat(r,".").concat(n),JSON.stringify(i))}catch(o){console.error(o)}},removeItem:n=>e.removeItem("".concat(r,".").concat(n))}}const mv="store";var ac=new WeakMap,ul=new WeakMap,vv=new WeakSet;class IA{constructor(e){let{autoConnect:r=!1,connectors:n=[new Ed],provider:i,storage:o=MA({storage:typeof window<"u"?window.localStorage:kA}),logger:s={warn:console.warn},webSocketProvider:a}=e;sc(this,vv),ge(this,"config",void 0),ge(this,"storage",void 0),ge(this,"store",void 0),bi(this,ac,{writable:!0,value:void 0}),bi(this,ul,{writable:!0,value:void 0});let c="disconnected",u;if(r)try{var l,p,m;const x=o.getItem(mv,""),_=(l=JSON.parse(x||"{}"))===null||l===void 0||(p=l.state)===null||p===void 0?void 0:p.data;c=_!=null&&_.account?"reconnecting":"connecting",u=_==null||(m=_.chain)===null||m===void 0?void 0:m.id}catch{}this.store=e6(Z4(X4(()=>({connectors:typeof n=="function"?n():n,provider:typeof i=="function"?i({chainId:u}):i,status:c,webSocketProvider:typeof a=="function"?a({chainId:u}):a}),{name:mv,getStorage:()=>o,partialize:x=>{var _,R;return{...r&&{data:{account:x==null||(_=x.data)===null||_===void 0?void 0:_.account,chain:x==null||(R=x.data)===null||R===void 0?void 0:R.chain}},chains:x?.chains}},version:1}))),this.config={autoConnect:r,connectors:n,logger:s,provider:i,storage:o,webSocketProvider:a},this.storage=o,on(this,ul,o?.getItem("wallet")),zi(this,vv,RA).call(this),r&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var e,r;return(e=this.data)===null||e===void 0||(r=e.chain)===null||r===void 0?void 0:r.id}get provider(){return this.store.getState().provider}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketProvider(){return this.store.getState().webSocketProvider}setState(e){const r=typeof e=="function"?e(this.store.getState()):e;this.store.setState(r,!0)}clearState(){this.setState(e=>({...e,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var e,r;this.connector&&await((e=(r=this.connector).disconnect)===null||e===void 0?void 0:e.call(r)),on(this,ac,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(Hr(this,ac))return;on(this,ac,!0),this.setState(n=>{var i;return{...n,status:(i=n.data)!==null&&i!==void 0&&i.account?"reconnecting":"connecting"}});const e=Hr(this,ul)?[...this.connectors].sort(n=>n.id===Hr(this,ul)?-1:1):this.connectors;let r=!1;for(const n of e){if(!n.ready||!n.isAuthorized||!await n.isAuthorized())continue;const o=await n.connect();this.setState(s=>({...s,connector:n,chains:n?.chains,data:o,status:"connected"})),r=!0;break}return r||this.setState(n=>({...n,data:void 0,status:"disconnected"})),on(this,ac,!1),this.data}setLastUsedConnector(){var e;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;(e=this.storage)===null||e===void 0||e.setItem("wallet",r)}}function RA(){const t=a=>{this.setState(c=>({...c,data:{...c.data,...a}}))},e=()=>{this.clearState()},r=a=>{this.setState(c=>({...c,error:a}))};this.store.subscribe(a=>{let{connector:c}=a;return c},(a,c)=>{var u,l,p,m,x,_;c==null||(u=c.off)===null||u===void 0||u.call(c,"change",t),c==null||(l=c.off)===null||l===void 0||l.call(c,"disconnect",e),c==null||(p=c.off)===null||p===void 0||p.call(c,"error",r),a&&((m=a.on)===null||m===void 0||m.call(a,"change",t),(x=a.on)===null||x===void 0||x.call(a,"disconnect",e),(_=a.on)===null||_===void 0||_.call(a,"error",r))});const{provider:n,webSocketProvider:i}=this.config,o=typeof n=="function",s=typeof i=="function";(o||s)&&this.store.subscribe(a=>{var c;let{data:u}=a;return u==null||(c=u.chain)===null||c===void 0?void 0:c.id},a=>{this.setState(c=>({...c,provider:o?n({chainId:a}):c.provider,webSocketProvider:s?i({chainId:a}):c.webSocketProvider}))})}let Sd;function TA(t){const e=new IA(t);return Sd=e,e}function Jt(){if(!Sd)throw new Error("No wagmi client found. Ensure you have set up a client: https://wagmi.sh/docs/client");return Sd}function Vr(){let{chainId:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=Jt();return t&&typeof e.config.provider=="function"?e.config.provider({chainId:t}):e.provider}var Ad={},PA=Ye(iS),NA=Ye(l6),OA=Ye(iE),BA=Ye(q6),yv=Ye(I7),LA=Ye(pS),ll={};Object.defineProperty(ll,"__esModule",{value:!0}),ll.version=void 0,ll.version="ethers/5.7.1",function(t){var e=ae&&ae.__createBinding||(Object.create?function(y,C,T,P){P===void 0&&(P=T),Object.defineProperty(y,P,{enumerable:!0,get:function(){return C[T]}})}:function(y,C,T,P){P===void 0&&(P=T),y[P]=C[T]}),r=ae&&ae.__setModuleDefault||(Object.create?function(y,C){Object.defineProperty(y,"default",{enumerable:!0,value:C})}:function(y,C){y.default=C}),n=ae&&ae.__importStar||function(y){if(y&&y.__esModule)return y;var C={};if(y!=null)for(var T in y)T!=="default"&&Object.prototype.hasOwnProperty.call(y,T)&&e(C,y,T);return r(C,y),C};Object.defineProperty(t,"__esModule",{value:!0}),t.Wordlist=t.version=t.wordlists=t.utils=t.logger=t.errors=t.constants=t.FixedNumber=t.BigNumber=t.ContractFactory=t.Contract=t.BaseContract=t.providers=t.getDefaultProvider=t.VoidSigner=t.Wallet=t.Signer=void 0;var i=PA;Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return i.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return i.Contract}}),Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return i.ContractFactory}});var o=NA;Object.defineProperty(t,"BigNumber",{enumerable:!0,get:function(){return o.BigNumber}}),Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return o.FixedNumber}});var s=OA;Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return s.Signer}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return s.VoidSigner}});var a=ev;Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return a.Wallet}});var c=n(BA);t.constants=c;var u=n(yv);t.providers=u;var l=yv;Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return l.getDefaultProvider}});var p=LA;Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return p.Wordlist}}),Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return p.wordlists}});var m=n(Pt);t.utils=m;var x=Y1;Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return x.ErrorCode}});var _=ll;Object.defineProperty(t,"version",{enumerable:!0,get:function(){return _.version}});var R=new x.Logger(_.version);t.logger=R}(Ad);function DA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}function FA(t,e){let{minQuorum:r=1,pollingInterval:n=4e3,targetQuorum:i=1,stallTimeout:o}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.length)throw new Error("must have at least one chain");if(i<r)throw new Error("quorum cannot be lower than minQuorum");let s=[];const a={},c={};for(const u of t){let l=!1;for(const p of e){const m=p(u);!m||(l=!0,s.some(x=>{let{id:_}=x;return _===u.id})||(s=[...s,m.chain]),a[u.id]=[...a[u.id]||[],m.provider],m.webSocketProvider&&(c[u.id]=[...c[u.id]||[],m.webSocketProvider]))}if(!l)throw new Error(['Could not find valid provider configuration for chain "'.concat(u.name,`".
`),"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/docs/providers/jsonRpc"].join(`
`))}return{chains:s,provider:u=>{var l;let{chainId:p}=u;const m=p&&s.some(_=>_.id===p)?p:(l=t[0])===null||l===void 0?void 0:l.id,x=a[m];if(!x||!x[0])throw new Error('No providers configured for chain "'.concat(m,'"'));return x.length===1?Object.assign(x[0](),{chains:s,pollingInterval:n}):Object.assign(xv(i,r,x,{stallTimeout:o}),{chains:s,pollingInterval:n})},webSocketProvider:u=>{var l,p;let{chainId:m}=u;const x=m&&s.some(R=>R.id===m)?m:(l=t[0])===null||l===void 0?void 0:l.id,_=c[x];if(!!_)return Object.assign(((p=_[0])===null||p===void 0?void 0:p.call(_))||{},{chains:s})}}}function xv(t,e,r,n){let{stallTimeout:i}=n;try{return new fd(r.map((s,a)=>{var c,u;const l=s();return{provider:l,priority:(c=l.priority)!==null&&c!==void 0?c:a,stallTimeout:(u=l.stallTimeout)!==null&&u!==void 0?u:i,weight:l.weight}}),t)}catch(s){var o;if(s!=null&&(o=s.message)!==null&&o!==void 0&&o.includes("quorum will always fail; larger than total weight")){if(t===e)throw s;return xv(t-1,e,r,{stallTimeout:i})}throw s}}function To(t){var e,r,n;(e=Jt())===null||e===void 0||(r=e.config.logger)===null||r===void 0||(n=r.warn)===null||n===void 0||n.call(r,t)}function UA(t){let{contractInterface:e,functionName:r}=t;const n=Ad.Contract.getInterface(e).format(Pt.FormatTypes.full);return(Array.isArray(n)?n:[n]).filter(o=>o.includes(r))}const wv=["event Approval(address indexed _owner, address indexed _spender, uint256 _value)","event Transfer(address indexed _from, address indexed _to, uint256 _value)","function allowance(address _owner, address _spender) public view returns (uint256 remaining)","function approve(address _spender, uint256 _value) public returns (bool success)","function balanceOf(address _owner) public view returns (uint256 balance)","function decimals() public view returns (uint8)","function name() public view returns (string)","function symbol() public view returns (string)","function totalSupply() public view returns (uint256)","function transfer(address _to, uint256 _value) public returns (bool success)","function transferFrom(address _from, address _to, uint256 _value) public returns (bool success)"],jA=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3[]",name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}];async function As(t){let{chainId:e,connector:r}=t;const n=Jt(),i=n.connector;if(r.id===i?.id)throw new EA;try{n.setState(s=>({...s,status:"connecting"}));const o=await r.connect({chainId:e});return n.setLastUsedConnector(r.id),n.setState(s=>({...s,connector:r,chains:r?.chains,data:o,status:"connected"})),n.storage.setItem("connected",!0),{...o,connector:r}}catch(o){throw n.setState(s=>({...s,status:s.connector?"connected":"disconnected"})),o}}async function $A(){const t=Jt();t.connector&&await t.connector.disconnect(),t.clearState(),t.storage.removeItem("connected")}function Cs(t){let{addressOrName:e,contractInterface:r,signerOrProvider:n}=t;return new Du(e,r,n)}async function WA(t){let{address:e,chainId:r,formatUnits:n="ether"}=t;const i={addressOrName:e,contractInterface:wv,chainId:r},[o,s,a,c]=await Ev({allowFailure:!1,contracts:[{...i,functionName:"decimals"},{...i,functionName:"name"},{...i,functionName:"symbol"},{...i,functionName:"totalSupply"}]});return{address:e,decimals:o,name:s,symbol:a,totalSupply:{formatted:Pt.formatUnits(c,n),value:c}}}async function _v(t){let{addressOrName:e,args:r,chainId:n,contractInterface:i,functionName:o,overrides:s,signer:a}=t;const c=a??await ks();if(!c)throw new zr;const u=Cs({addressOrName:e,contractInterface:i,signerOrProvider:c}),l=u.populateTransaction[o];if(!l)throw new SA({addressOrName:e,functionName:o});const p=UA({contractInterface:u.interface,functionName:o}),m=[...Array.isArray(r)?r:r?[r]:[],...s?[s]:[]],x=await l(...m),_=x.gasLimit||await c.estimateGas(x);return{addressOrName:e,args:r,...n?{chainId:n}:{},contractInterface:p,functionName:o,overrides:s,request:{...x,gasLimit:_},mode:"prepared"}}async function Cd(t){let{addressOrName:e,args:r,chainId:n,contractInterface:i,functionName:o,overrides:s}=t;const a=Vr({chainId:n}),c=Cs({addressOrName:e,contractInterface:i,signerOrProvider:a}),u=[...Array.isArray(r)?r:r?[r]:[],...s?[s]:[]],l=c[o];return l||To('"'.concat(o,'" is not in the interface for contract "').concat(e,'"')),await l?.(...u)}async function qA(t){let{allowFailure:e=!0,chainId:r,contracts:n,overrides:i}=t;const o=Vr({chainId:r});if(!o.chains)throw new gv;const s=o.chains.find(p=>p.id===r)||o.chains[0];if(!s)throw new gv;if(!(s!=null&&s.multicall))throw new md({chain:s});if(typeof i?.blockTag=="number"&&i?.blockTag<s.multicall.blockCreated)throw new md({blockNumber:i?.blockTag,chain:s});const a=Cs({addressOrName:s.multicall.address,contractInterface:jA,signerOrProvider:o}),u=[n.map(p=>{let{addressOrName:m,contractInterface:x,functionName:_,...R}=p;const{args:y}=R||{},C=Cs({addressOrName:m,contractInterface:x}),T=Array.isArray(y)?y:y?[y]:[];try{const P=C.interface.encodeFunctionData(_,T);return C[_]||To('"'.concat(_,'" is not in the interface for contract "').concat(m,'"')),{target:m,allowFailure:e,callData:P}}catch(P){if(!e)throw P;return{target:m,allowFailure:e,callData:"0x"}}}),...i?[i]:[]];return(await a.aggregate3(...u)).map((p,m)=>{let{returnData:x,success:_}=p;const{addressOrName:R,contractInterface:y,functionName:C,args:T}=n[m],P=Cs({addressOrName:R,contractInterface:y});if(!_){let D;try{P.interface.decodeFunctionResult(C,x)}catch(j){if(D=new yd({addressOrName:R,args:T,chainId:s.id,functionName:C,errorMessage:j.message}),!e)throw D;To(D.message)}return null}if(x==="0x"){const D=new dv({addressOrName:R,args:T,chainId:s.id,functionName:C});if(!e)throw D;return To(D.message),null}try{const D=P.interface.decodeFunctionResult(C,x);return Array.isArray(D)&&D.length===1?D[0]:D}catch(D){const j=new pv({addressOrName:R,args:T,chainId:s.id,functionName:C,errorMessage:D.message});if(!e)throw j;return To(j.message),null}})}async function Ev(t){let{allowFailure:e=!0,contracts:r,overrides:n}=t;try{const i=Vr(),o=r.reduce((a,c)=>{var u;const l=(u=c.chainId)!==null&&u!==void 0?u:i.network.chainId;return{...a,[l]:[...a[l]||[],c]}},{}),s=()=>Object.entries(o).map(a=>{let[c,u]=a;return qA({allowFailure:e,chainId:parseInt(c),contracts:u,overrides:n})});return e?(await Promise.allSettled(s())).map(a=>{if(a.status==="fulfilled")return a.value;if(a.reason instanceof md)throw To(a.reason.message),a.reason;return null}).flat():(await Promise.all(s())).flat()}catch(i){if(i instanceof pv||i instanceof dv||i instanceof yd)throw i;const o=()=>r.map(s=>Cd({...s,overrides:n}));return e?(await Promise.allSettled(o())).map((s,a)=>{if(s.status==="fulfilled")return s.value;const{addressOrName:c,functionName:u,chainId:l,args:p}=r[a],m=new yd({addressOrName:c,functionName:u,chainId:l??bd.id,args:p,errorMessage:s.reason});return To(m.message),null}):await Promise.all(o())}}async function HA(){let{chainId:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return await Vr({chainId:t}).getBlockNumber()}function zA(t,e){var r;let n;const i=c=>{if(n){var u;(u=n)===null||u===void 0||u.off("block",e)}c.on("block",e),n=c},o=Jt(),s=(r=o.webSocketProvider)!==null&&r!==void 0?r:o.provider;t.listen&&i(s);const a=o.subscribe(c=>{let{provider:u,webSocketProvider:l}=c;return{provider:u,webSocketProvider:l}},async c=>{let{provider:u,webSocketProvider:l}=c;const p=l??u;t.listen&&p&&i(p),e(await HA())},{equalityFn:DA});return()=>{a(),s?.off("block",e)}}function VA(t,e){const r=Jt(),n=async()=>e(await Cd(t)),i=t.listenToBlock?zA({listen:!0},n):void 0,o=r.subscribe(s=>{let{provider:a}=s;return a},n);return()=>{o(),i?.()}}async function GA(t){let{chainId:e,hash:r}=t;return await Vr({chainId:e}).getTransaction(r)}async function Sv(t){let{chainId:e,name:r}=t;const i=await Vr({chainId:e}).resolveName(r);try{return i?Pt.getAddress(i):null}catch{return null}}async function KA(t){let{addressOrName:e,chainId:r}=t;return await Vr({chainId:r}).getAvatar(e)}async function JA(t){let{address:e,chainId:r}=t;return await Vr({chainId:r}).lookupAddress(e)}async function QA(t){let{chainId:e,name:r}=t;return await Vr({chainId:e}).getResolver(r)}async function Av(t){let{chainId:e,request:r,signerOrProvider:n=Vr({chainId:e})}=t;const[i,o]=await Promise.all([Pt.isAddress(r.to)?Promise.resolve(r.to):Sv({name:r.to}),r.gasLimit?Promise.resolve(r.gasLimit):n.estimateGas(r)]);if(!i)throw new Error("Could not resolve ENS name");return{...e?{chainId:e}:{},request:{...r,gasLimit:o,to:i},mode:"prepared"}}async function Cv(t){let{chainId:e,mode:r,request:n}=t;const i=await ks();if(!i)throw new zr;if(r==="prepared"){if(!n.gasLimit)throw new Error("`gasLimit` is required");if(!n.to)throw new Error("`to` is required")}const{chain:o,chains:s}=fl(),a=o?.id;if(e&&e!==o?.id){var c,u,l,p;throw new vd({activeChain:(c=(u=s.find(_=>_.id===a))===null||u===void 0?void 0:u.name)!==null&&c!==void 0?c:"Chain ".concat(a),targetChain:(l=(p=s.find(_=>_.id===e))===null||p===void 0?void 0:p.name)!==null&&l!==void 0?l:"Chain ".concat(e)})}try{var m,x;const _=(m=(x=i).connectUnchecked)===null||m===void 0?void 0:m.call(x),{hash:R,wait:y}=await(_??i).sendTransaction(n);return{hash:R,wait:y}}catch(_){throw _.code===4001?new wn(_):_}}async function YA(t){let{chainId:e,confirmations:r,hash:n,timeout:i,wait:o}=t,s;if(n)s=Vr({chainId:e}).waitForTransaction(n,r,i);else if(o)s=o(r);else throw new Error("hash or wait is required");return await s}async function ZA(t){let{addressOrName:e,args:r,chainId:n,contractInterface:i,functionName:o,mode:s,overrides:a,request:c}=t;if(!await ks())throw new zr;const{chain:l,chains:p}=fl(),m=l?.id;if(n&&n!==m){var x,_,R,y;throw new vd({activeChain:(x=(_=p.find(P=>P.id===m))===null||_===void 0?void 0:_.name)!==null&&x!==void 0?x:"Chain ".concat(m),targetChain:(R=(y=p.find(P=>P.id===n))===null||y===void 0?void 0:y.name)!==null&&R!==void 0?R:"Chain ".concat(n)})}if(s==="prepared"&&!c)throw new Error("`request` is required");const C=s==="recklesslyUnprepared"?(await _v({addressOrName:e,args:r,contractInterface:i,functionName:o,overrides:a})).request:c;return await Cv({request:C,mode:"prepared"})}async function XA(t){var e,r,n,i,o;let{addressOrName:s,chainId:a,formatUnits:c,token:u}=t;const l=Jt(),p=Vr({chainId:a});if(u){const R={addressOrName:u,contractInterface:wv,chainId:a};let y;if(Pt.isAddress(s))y=s;else{const D=await p.resolveName(s);D||Ad.logger.throwError("ENS name not configured",Pt.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(s),")")}),y=D}const[C,T,P]=await Ev({allowFailure:!1,contracts:[{...R,functionName:"balanceOf",args:y},{...R,functionName:"decimals"},{...R,functionName:"symbol"}]});return{decimals:T,formatted:Pt.formatUnits(C??"0",c??T),symbol:P,value:C}}const m=[...l.provider.chains||[],...(e=l.chains)!==null&&e!==void 0?e:[]],x=await p.getBalance(s),_=m.find(R=>R.id===p.network.chainId);return{decimals:(r=_==null||(n=_.nativeCurrency)===null||n===void 0?void 0:n.decimals)!==null&&r!==void 0?r:18,formatted:Pt.formatUnits(x??"0",c??"ether"),symbol:(i=_==null||(o=_.nativeCurrency)===null||o===void 0?void 0:o.symbol)!==null&&i!==void 0?i:"ETH",value:x}}async function ks(){var t,e;return await((t=Jt().connector)===null||t===void 0||(e=t.getSigner)===null||e===void 0?void 0:e.call(t))||null}function fl(){var t,e,r,n,i;const o=Jt(),s=(t=o.data)===null||t===void 0||(e=t.chain)===null||e===void 0?void 0:e.id,a=(r=o.chains)!==null&&r!==void 0?r:[],c=(n=[...o.provider.chains||[],...a].find(u=>u.id===s))!==null&&n!==void 0?n:{id:s,name:"Chain ".concat(s),network:"".concat(s),rpcUrls:{default:""}};return{chain:s?{...c,...(i=o.data)===null||i===void 0?void 0:i.chain,id:s}:void 0,chains:a}}async function e9(t){try{const e=await ks();if(!e)throw new zr;return await e.signMessage(t.message)}catch(e){throw e.code===4001?new wn(e):e}}async function t9(t){let{domain:e,types:r,value:n}=t;const i=await ks();if(!i)throw new zr;const{chain:o,chains:s}=fl(),{chainId:a}=e;if(a){const m=Ro(a),x=o?.id;if(m!==o?.id){var c,u,l,p;throw new vd({activeChain:(c=(u=s.find(_=>_.id===x))===null||u===void 0?void 0:u.name)!==null&&c!==void 0?c:"Chain ".concat(x),targetChain:(l=(p=s.find(_=>_.id===m))===null||p===void 0?void 0:p.name)!==null&&l!==void 0?l:"Chain ".concat(m)})}}return await i._signTypedData(e,r,n)}async function r9(t){let{chainId:e}=t;const{connector:r}=Jt();if(!r)throw new zr;if(!r.switchChain)throw new AA({connector:r});return await r.switchChain(e)}const n9=Symbol(),kv=Object.getPrototypeOf,kd=new WeakMap,i9=t=>t&&(kd.has(t)?kd.get(t):kv(t)===Object.prototype||kv(t)===Array.prototype),o9=t=>i9(t)&&t[n9]||null,Mv=(t,e=!0)=>{kd.set(t,e)},Md=t=>typeof t=="object"&&t!==null,Id=new WeakSet,Iv=void 0!=="production"?Symbol("VERSION"):Symbol(),_n=void 0!=="production"?Symbol("LISTENERS"):Symbol(),Rd=void 0!=="production"?Symbol("SNAPSHOT"):Symbol(),s9=(t=Object.is,e=(l,p)=>new Proxy(l,p),r=l=>Md(l)&&!Id.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=void 0!=="production"?Symbol("PROMISE_RESULT"):Symbol(),i=void 0!=="production"?Symbol("PROMISE_ERROR"):Symbol(),o=new WeakMap,s=(l,p,m)=>{const x=o.get(m);if(x?.[0]===l)return x[1];const _=Array.isArray(p)?[]:Object.create(Object.getPrototypeOf(p));return Mv(_,!0),o.set(m,[l,_]),Reflect.ownKeys(p).forEach(R=>{const y=Reflect.get(p,R,m);if(Id.has(y))Mv(y,!1),_[R]=y;else if(y instanceof Promise)if(n in y)_[R]=y[n];else{const C=y[i]||y;Object.defineProperty(_,R,{get(){if(n in y)return y[n];throw C}})}else y?.[_n]?_[R]=y[Rd]:_[R]=y}),Object.freeze(_)},a=new WeakMap,c=[1],u=l=>{if(!Md(l))throw new Error("object required");const p=a.get(l);if(p)return p;let m=c[0];const x=new Set,_=(j,W=++c[0])=>{m!==W&&(m=W,x.forEach(V=>V(j,W)))},R=new Map,y=j=>{let W=R.get(j);return W||(W=(V,G)=>{const Q=[...V];Q[1]=[j,...Q[1]],_(Q,G)},R.set(j,W)),W},C=j=>{const W=R.get(j);return R.delete(j),W},T=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),D=e(T,{get(j,W,V){return W===Iv?m:W===_n?x:W===Rd?s(m,j,V):Reflect.get(j,W,V)},deleteProperty(j,W){const V=Reflect.get(j,W),G=V?.[_n];G&&G.delete(C(W));const Q=Reflect.deleteProperty(j,W);return Q&&_(["delete",[W],V]),Q},set(j,W,V,G){var Q;const F=Reflect.has(j,W),g=Reflect.get(j,W,G);if(F&&t(g,V))return!0;const A=g?.[_n];A&&A.delete(C(W)),Md(V)&&(V=o9(V)||V);let v;return(Q=Object.getOwnPropertyDescriptor(j,W))!=null&&Q.set?v=V:V instanceof Promise?v=V.then(f=>(v[n]=f,_(["resolve",[W],f]),f)).catch(f=>{v[i]=f,_(["reject",[W],f])}):V?.[_n]?(v=V,v[_n].add(y(W))):r(V)?(v=Vi(V),v[_n].add(y(W))):v=V,Reflect.set(j,W,v,G),_(["set",[W],V,g]),!0}});return a.set(l,D),Reflect.ownKeys(l).forEach(j=>{const W=Object.getOwnPropertyDescriptor(l,j);W.get||W.set?Object.defineProperty(T,j,W):D[j]=l[j]}),D})=>[u,Id,Iv,_n,Rd,t,e,r,n,i,o,s,a,c],[a9]=s9();function Vi(t={}){return a9(t)}function c9(t,e,r){void 0!=="production"&&!t?.[_n]&&console.warn("Please use proxy object");let n;const i=[],o=s=>{if(i.push(s),r){e(i.splice(0));return}n||(n=Promise.resolve().then(()=>{n=void 0,e(i.splice(0))}))};return t[_n].add(o),()=>{t[_n].delete(o)}}const Rv={connected:!1,chainSupported:!1,address:"",chainId:"",connector:""},mi=Vi(Rv),hl={state:mi,subscribe(t){return c9(mi,()=>t(mi))},setAccount(t){Object.assign(mi,t),mi.connected=!0},setAddress(t){mi.address=t},setChain(t,e){mi.chainId=t,mi.chainSupported=e},resetAccount(){Object.assign(mi,Rv)}};Vi({ethereum:void 0});function u9(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}Vi({configured:!1,projectId:"",theme:u9()?"dark":"light",accentColor:"default"}),Vi({open:!1}),Vi({search:"",page:1,wallets:{listings:[],total:0},previewWallets:[]}),Vi({open:!1,message:"",variant:"success"}),Vi({history:["ConnectWallet"],view:"ConnectWallet"});const Tv="WALLETCONNECT_DEEPLINK_CHOICE",l9={isCoinbaseExtension(){return window.coinbaseWalletExtension},isMobile(){return Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},formatNativeUrl(t,e,r){const n=t.replaceAll("/","").replaceAll(":","");return this.setWalletConnectDeepLink(n,r),`${n}://wc?uri=${e}`},formatUniversalUrl(t,e,r){let n=t;return t.endsWith("/")&&(n=t.slice(0,-1)),this.setWalletConnectDeepLink(n,r),`${n}/wc?uri=${e}`},async wait(t){return new Promise(e=>{setTimeout(e,t)})},openHref(t,e="_self"){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){localStorage.setItem(Tv,JSON.stringify({href:t,name:e}))},removeWalletConnectDeepLink(){localStorage.removeItem(Tv)}};var f9=Object.defineProperty,h9=Object.defineProperties,d9=Object.getOwnPropertyDescriptors,Pv=Object.getOwnPropertySymbols,p9=Object.prototype.hasOwnProperty,g9=Object.prototype.propertyIsEnumerable,Nv=(t,e,r)=>e in t?f9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,b9=(t,e)=>{for(var r in e||(e={}))p9.call(e,r)&&Nv(t,r,e[r]);if(Pv)for(var r of Pv(e))g9.call(e,r)&&Nv(t,r,e[r]);return t},m9=(t,e)=>h9(t,d9(e));const Td="eip155";function Pd(t){if(typeof t=="string"&&t.includes(":"))return Number(t.split(":")[1]);throw new Error("Invalid chainId, should be formated as namespace:id")}function Gr(t){return m9(b9({},t),{chainId:Pd(t.chainId)})}function Ov(){let{priority:t,stallTimeout:e,weight:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(n){return n.rpcUrls.default?{chain:n,provider:()=>{const i=new Zu(n.rpcUrls.default,{chainId:n.id,name:n.network});return Object.assign(i,{priority:t,stallTimeout:e,weight:r})}}:null}}var Nd=new WeakMap,cc=new WeakMap,Od=new WeakSet;class v9 extends wd{constructor(e){let{chains:r,options:n}=e;super({chains:r,options:{reloadOnDisconnect:!1,...n}}),sc(this,Od),ge(this,"id","coinbaseWallet"),ge(this,"name","Coinbase Wallet"),ge(this,"ready",!0),bi(this,Nd,{writable:!0,value:void 0}),bi(this,cc,{writable:!0,value:void 0}),ge(this,"onAccountsChanged",i=>{i.length===0?this.emit("disconnect"):this.emit("change",{account:Pt.getAddress(i[0])})}),ge(this,"onChainChanged",i=>{const o=Ro(i),s=this.isChainUnsupported(o);this.emit("change",{chain:{id:o,unsupported:s}})}),ge(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{const r=await this.getProvider();r.on("accountsChanged",this.onAccountsChanged),r.on("chainChanged",this.onChainChanged),r.on("disconnect",this.onDisconnect),this.emit("message",{type:"connecting"});const n=await r.enable(),i=Pt.getAddress(n[0]);let o=await this.getChainId(),s=this.isChainUnsupported(o);return e&&o!==e&&(o=(await this.switchChain(e)).id,s=this.isChainUnsupported(o)),{account:i,chain:{id:o,unsupported:s},provider:new Io(r)}}catch(r){throw/(user closed modal|accounts received is empty)/i.test(r.message)?new wn(r):r}}async disconnect(){if(!Hr(this,cc))return;const e=await this.getProvider();e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),e.disconnect(),e.close()}async getAccount(){const r=await(await this.getProvider()).request({method:"eth_accounts"});return Pt.getAddress(r[0])}async getChainId(){const e=await this.getProvider();return Ro(e.chainId)}async getProvider(){if(!Hr(this,cc)){const e=this.chains.find(o=>o.id===this.options.chainId)||this.chains[0],r=this.options.chainId||e?.id,n=this.options.jsonRpcUrl||e?.rpcUrls.default;let i=(await Promise.resolve().then(function(){return ij})).default;typeof i!="function"&&typeof i.default=="function"&&(i=i.default),on(this,Nd,new i(this.options)),on(this,cc,Hr(this,Nd).makeWeb3Provider(n,r))}return Hr(this,cc)}async getSigner(){const[e,r]=await Promise.all([this.getProvider(),this.getAccount()]);return new Io(e).getSigner(r)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}async switchChain(e){const r=await this.getProvider(),n=Pt.hexValue(e);try{var i;return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),(i=this.chains.find(s=>s.id===e))!==null&&i!==void 0?i:{id:e,name:"Chain ".concat(n),network:"".concat(n),rpcUrls:{default:""}}}catch(s){const a=this.chains.find(c=>c.id===e);if(!a)throw new hv;if(s.code===4902)try{var o;return await r.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[(o=a.rpcUrls.public)!==null&&o!==void 0?o:a.rpcUrls.default],blockExplorerUrls:this.getBlockExplorerUrls(a)}]}),a}catch(c){throw zi(this,Od,Bv).call(this,c)?new wn(c):new fv}throw zi(this,Od,Bv).call(this,s)?new wn(s):new xd(s)}}async watchAsset(e){let{address:r,decimals:n=18,image:i,symbol:o}=e;return await(await this.getProvider()).request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r,decimals:n,image:i,symbol:o}}})}}function Bv(t){return/(user rejected)/i.test(t.message)}var Bd=new WeakMap,Ld=new WeakMap,Dd=new WeakSet,Fd=new WeakSet;class y9 extends Ed{constructor(){let{chains:e,options:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={name:"MetaMask",shimDisconnect:!0,shimChainChangedDisconnect:!0,...r};super({chains:e,options:n}),sc(this,Fd),sc(this,Dd),ge(this,"id","metaMask"),ge(this,"ready",typeof window<"u"&&!!zi(this,Fd,Dv).call(this,window.ethereum)),bi(this,Bd,{writable:!0,value:void 0}),bi(this,Ld,{writable:!0,value:void 0}),on(this,Ld,n.UNSTABLE_shimOnConnectSelectAccount)}async connect(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var r,n,i,o;const s=await this.getProvider();if(!s)throw new zr;s.on&&(s.on("accountsChanged",this.onAccountsChanged),s.on("chainChanged",this.onChainChanged),s.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"}),Hr(this,Ld)&&(r=this.options)!==null&&r!==void 0&&r.shimDisconnect&&!((n=Jt().storage)!==null&&n!==void 0&&n.getItem(this.shimDisconnectKey))&&!!(await s.request({method:"eth_accounts"}).catch(()=>[]))[0]&&await s.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const a=await this.getAccount();let c=await this.getChainId(),u=this.isChainUnsupported(c);return e&&c!==e&&(c=(await this.switchChain(e)).id,u=this.isChainUnsupported(c)),(i=this.options)!==null&&i!==void 0&&i.shimDisconnect&&((o=Jt().storage)===null||o===void 0||o.setItem(this.shimDisconnectKey,!0)),{account:a,chain:{id:c,unsupported:u},provider:s}}catch(s){throw this.isUserRejectedRequestError(s)?new wn(s):s.code===-32002?new bv(s):s}}async getProvider(){return typeof window<"u"&&on(this,Bd,zi(this,Fd,Dv).call(this,window.ethereum)),Hr(this,Bd)}}function Lv(t){if(!!(t!=null&&t.isMetaMask)&&!(t.isBraveWallet&&!t._events&&!t._state)&&!t.isTokenPocket&&!t.isTokenary)return t}function Dv(t){return t!=null&&t.providers?t.providers.find(zi(this,Dd,Lv)):zi(this,Dd,Lv).call(this,t)}const x9=/(imtoken|metamask|rainbow)/i;var dl=new WeakMap,Fv=new WeakSet;class w9 extends wd{constructor(e){super(e),sc(this,Fv),ge(this,"id","walletConnect"),ge(this,"name","WalletConnect"),ge(this,"ready",!0),bi(this,dl,{writable:!0,value:void 0}),ge(this,"onAccountsChanged",r=>{r.length===0?this.emit("disconnect"):this.emit("change",{account:Pt.getAddress(r[0])})}),ge(this,"onChainChanged",r=>{const n=Ro(r),i=this.isChainUnsupported(n);this.emit("change",{chain:{id:n,unsupported:i}})}),ge(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var r,n,i;let o=e;if(!o){const m=Jt().lastUsedChainId;m&&!this.isChainUnsupported(m)&&(o=m)}const s=await this.getProvider({chainId:o,create:!0});s.on("accountsChanged",this.onAccountsChanged),s.on("chainChanged",this.onChainChanged),s.on("disconnect",this.onDisconnect),setTimeout(()=>this.emit("message",{type:"connecting"}),0);const a=await s.enable(),c=Pt.getAddress(a[0]),u=await this.getChainId(),l=this.isChainUnsupported(u),p=(r=(n=s.connector)===null||n===void 0||(i=n.peerMeta)===null||i===void 0?void 0:i.name)!==null&&r!==void 0?r:"";return x9.test(p)&&(this.switchChain=zi(this,Fv,_9)),{account:c,chain:{id:u,unsupported:l},provider:new Io(s)}}catch(o){throw/user closed modal/i.test(o.message)?new wn(o):o}}async disconnect(){const e=await this.getProvider();await e.disconnect(),e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),typeof localStorage<"u"&&localStorage.removeItem("walletconnect")}async getAccount(){const r=(await this.getProvider()).accounts;return Pt.getAddress(r[0])}async getChainId(){const e=await this.getProvider();return Ro(e.chainId)}async getProvider(){let{chainId:e,create:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Hr(this,dl)||e||r){var n,i;const o=(n=this.options)!==null&&n!==void 0&&n.infuraId?{}:this.chains.reduce((a,c)=>({...a,[c.id]:c.rpcUrls.default}),{}),s=(await Promise.resolve().then(function(){return cz})).default;on(this,dl,new s({...this.options,chainId:e,rpc:{...o,...(i=this.options)===null||i===void 0?void 0:i.rpc}}))}return Hr(this,dl)}async getSigner(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[r,n]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]);return new Io(r).getSigner(n)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}}async function _9(t){const e=await this.getProvider(),r=Pt.hexValue(t);try{var n;return await e.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),(n=this.chains.find(i=>i.id===t))!==null&&n!==void 0?n:{id:t,name:"Chain ".concat(r),network:"".concat(r),rpcUrls:{default:""}}}catch(i){const o=typeof i=="string"?i:i?.message;throw/user rejected request/i.test(o)?new wn(i):new xd(i)}}function E9(){let{apiKey:t=Ss,priority:e,stallTimeout:r,weight:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(i){return i.rpcUrls.alchemy?{chain:{...i,rpcUrls:{...i.rpcUrls,default:"".concat(i.rpcUrls.alchemy,"/").concat(t)}},provider:()=>{const o=new el(i.id,t);return Object.assign(o,{priority:e,stallTimeout:r,weight:n})},webSocketProvider:()=>new ud(i.id,t)}:null}}function S9(){let{apiKey:t=aA,priority:e,stallTimeout:r,weight:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(i){return i.rpcUrls.infura?{chain:{...i,rpcUrls:{...i.rpcUrls,default:"".concat(i.rpcUrls.infura,"/").concat(t)}},provider:()=>{const o=new al(i.id,t);return Object.assign(o,{priority:e,stallTimeout:r,weight:n})},webSocketProvider:()=>new hd(i.id,t)}:null}}function Uv(t){let{priority:e,rpc:r,stallTimeout:n,static:i=!0,weight:o}=t;return function(s){const a=r(s);return!a||a.http===""?null:{chain:{...s,rpcUrls:{...s.rpcUrls,default:a.http}},provider:()=>{var c;const u=i?Zu:qi,l=new u(a.http,{ensAddress:(c=s.ens)===null||c===void 0?void 0:c.address,chainId:s.id,name:s.network});return Object.assign(l,{priority:e,stallTimeout:n,weight:o})},...a.webSocket&&{webSocketProvider:()=>new rc(a.webSocket,s.id)}}}}const A9={id:43114,name:"Avalanche C-Chain",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:"https://api.avax.network/ext/bc/C/rpc"},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io"}},testnet:!1},C9={id:43113,name:"Avalanche FUJI C-Chain",network:"avalancheFuji",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:"https://api.avax-test.network/ext/bc/C/rpc"},blockExplorers:{default:{name:"SnowTrace Testnet",url:"https://testnet.snowtrace.io"}},testnet:!0},k9={id:56,name:"Binance Smart Chain",network:"binanceSmartChain",nativeCurrency:{decimals:18,name:"Binance",symbol:"BNB"},rpcUrls:{default:"https://bsc-dataseed.binance.org"},blockExplorers:{default:{name:"BSC Scan",url:"https://bscscan.com"}},testnet:!1},M9={id:97,name:"Binance Smart Chain Testnet",network:"binanceSmartChainTestnet",nativeCurrency:{decimals:18,name:"Binance",symbol:"BNB"},rpcUrls:{default:"https://data-seed-prebsc-1-s1.binance.org:8545"},blockExplorers:{default:{name:"BSC Scan testnet",url:"https://testnet.bscscan.com"}},testnet:!0},I9={id:250,name:"Fantom Opera",network:"fantomOpera",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:"https://rpc.ankr.com/fantom"},blockExplorers:{default:{name:"FTM Scan",url:"https://ftmscan.com"}},testnet:!1},R9={id:4002,name:"Fantom Testnet",network:"fantomTestnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:"https://rpc.testnet.fantom.network"},blockExplorers:{default:{name:"FTM Scan Testnet",url:"https://testnet.ftmscan.com"}},testnet:!0};var T9=Object.defineProperty,P9=Object.defineProperties,N9=Object.getOwnPropertyDescriptors,jv=Object.getOwnPropertySymbols,O9=Object.prototype.hasOwnProperty,B9=Object.prototype.propertyIsEnumerable,$v=(t,e,r)=>e in t?T9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L9=(t,e)=>{for(var r in e||(e={}))O9.call(e,r)&&$v(t,r,e[r]);if(jv)for(var r of jv(e))B9.call(e,r)&&$v(t,r,e[r]);return t},D9=(t,e)=>P9(t,N9(e));function F9({projectId:t}){return Uv({rpc:e=>({http:`https://rpc.walletconnect.com/v1/?chainId=${Td}:${e.id}&projectId=${t}`})})}const U9={alchemyProvider:E9,infuraProvider:S9,jsonRpcProvider:Uv,publicProvider:Ov,walletConnectProvider:F9},j9=D9(L9({},sv),{avalanche:A9,fantom:I9,binanceSmartChain:k9,avalancheFuji:C9,fantomTestnet:R9,binanceSmartChainTestnet:M9});function $9({appName:t,chains:e}){return[new w9({chains:e,options:{qrcode:!1}}),new Ed({chains:e,options:{shimDisconnect:!0}}),new v9({chains:e,options:{appName:t,headlessMode:!0}}),new y9({chains:e})]}typeof window<"u"&&!window.Buffer&&(window.Buffer=Zo.Buffer);let Wv;function Po(){return Wv}function W9(t){t.account&&hl.setAddress(t.account),t.chain&&hl.setChain(`${Td}:${t.chain.id}`,!t.chain.unsupported)}function q9(t){console.log(t)}function H9(t){console.log(t)}function z9(){var t,e,r,n,i,o;const s=(e=(t=Po())==null?void 0:t.data)==null?void 0:e.account,a=(n=(r=Po())==null?void 0:r.data)==null?void 0:n.chain,c=(i=Po())==null?void 0:i.connector,u=(o=Po())==null?void 0:o.provider;s&&a&&c&&u&&(c.on("change",W9),c.on("message",q9),c.on("error",H9),hl.setAccount({address:s,chainId:`${Td}:${a.id}`,chainSupported:!a.unsupported,connector:c.id}))}function V9(){var t,e;(e=(t=Po())==null?void 0:t.connector)==null||e.removeAllListeners(),hl.resetAccount()}function G9(t,e){if(t.status!==e.status){const{status:r}=t;r==="connected"&&z9(),r==="disconnected"&&V9()}}function K9(t){var e,r,n,i;const o=(e=t.chains)!=null?e:[sv.mainnet],s=(r=t.providers)!=null?r:[Ov()],a=(n=t.autoConnect)!=null?n:!0,{chains:c,provider:u}=FA(o,s);Wv=TA({autoConnect:a,connectors:$9({chains:c,appName:t.appName}),provider:u}),(i=Po())==null||i.subscribe(G9)}var J9=Object.defineProperty,pl=Object.getOwnPropertySymbols,qv=Object.prototype.hasOwnProperty,Hv=Object.prototype.propertyIsEnumerable,zv=(t,e,r)=>e in t?J9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Q9=(t,e)=>{for(var r in e||(e={}))qv.call(e,r)&&zv(t,r,e[r]);if(pl)for(var r of pl(e))Hv.call(e,r)&&zv(t,r,e[r]);return t},Y9=(t,e)=>{var r={};for(var n in t)qv.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&pl)for(var n of pl(t))e.indexOf(n)<0&&Hv.call(t,n)&&(r[n]=t[n]);return r};const Z9={createClient(t){return K9(t),this},getDefaultConnectorChainId(t){return t.chains[0].id},getConnectorById(t){var e;const r=(e=Po())==null?void 0:e.connectors.find(n=>n.id===t);if(!r)throw new Error(`Missing ${t} connector`);return r},async disconnect(){await $A(),l9.removeWalletConnectDeepLink()},async connectWalletConnect(t){const e=this.getConnectorById("walletConnect"),r=this.getDefaultConnectorChainId(e);async function n(){return new Promise(o=>{e.once("message",async({type:s})=>{if(s==="connecting"){const a=await e.getProvider();t(a.connector.uri),o()}})})}const[i]=await Promise.all([As({connector:e,chainId:r}),n()]);return i},async connectLinking(t){const e=this.getConnectorById("walletConnect"),r=this.getDefaultConnectorChainId(e);async function n(){return new Promise(o=>{e.once("message",async({type:s})=>{if(s==="connecting"){const a=(await e.getProvider()).connector.uri;t(encodeURIComponent(a)),o()}})})}const[i]=await Promise.all([As({connector:e,chainId:r}),n()]);return i},async connectCoinbaseMobile(t){const e=this.getConnectorById("coinbaseWallet"),r=this.getDefaultConnectorChainId(e);async function n(){return new Promise(o=>{e.once("message",async({type:s})=>{if(s==="connecting"){const a=await e.getProvider();t?.(a.qrUrl),o()}})})}const[i]=await Promise.all([As({connector:e,chainId:r}),n()]);return i},async connectCoinbaseExtension(){const t=this.getConnectorById("coinbaseWallet"),e=this.getDefaultConnectorChainId(t);return await As({connector:t,chainId:e})},async connectMetaMask(){const t=this.getConnectorById("metaMask"),e=this.getDefaultConnectorChainId(t);return await As({connector:t,chainId:e})},async connectInjected(){const t=this.getConnectorById("injected"),e=this.getDefaultConnectorChainId(t);return await As({connector:t,chainId:e})},async switchChain(t){return`eip155:${(await r9({chainId:Pd(t)})).id}`},async signTypedData({value:t,domain:e,types:r}){return await t9({value:t,domain:e,types:r})},async signMessage(t){return await e9({message:t})},async fetchBalance(t){return(await XA(Gr(t))).formatted},async fetchSigner(){return await ks()},getNetwork(){return fl()},getContract({addressOrName:t,contractInterface:e,signerOrProvider:r}){return Cs({addressOrName:t,contractInterface:e,signerOrProvider:r})},async getToken({address:t,chainId:e,formatUnits:r}){return await WA({address:t,chainId:Pd(e),formatUnits:r})},async readContract(t){return await Cd(Gr(t))},async writeContract(t){return await ZA(Gr(Q9({mode:"prepared"},t)))},async prepareWriteContract(t){return await _v(Gr(t))},watchReadContract(t){const e=t,{callback:r}=e,n=Y9(e,["callback"]);VA(Gr(n),r)},async fetchEnsAddress(t){const e=await Sv(Gr(t));return e?.toString()},async fetchEnsAvatar(t){const e=await KA(Gr(t));return e?.toString()},async fetchEnsName(t){const e=await JA(Gr(t));return e?.toString()},async fetchEnsResolver(t){return await QA(Gr(t))},async fetchTransaction(t){return await GA(Gr(t))},async prepareSendTransaction(t){return await Av(Gr(t))},async sendTransaction(t){const e=await Av(Gr(t));return await Cv({mode:"prepared",request:e.request})},async waitForTransaction(t){return await YA(Gr(t))}};var Ud={},uc={},gl={};Object.defineProperty(gl,"__esModule",{value:!0}),gl.walletLogo=void 0;const X9=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};gl.walletLogo=X9;var bl={};Object.defineProperty(bl,"__esModule",{value:!0}),bl.ScopedLocalStorage=void 0;class eC{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}bl.ScopedLocalStorage=eC;var Ms={},Is={};Object.defineProperty(Is,"__esModule",{value:!0});const tC=Lg.default;function Vv(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function rC(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class nC extends tC.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let s;if(r.length>0&&([s]=r),s instanceof Error)throw s;const a=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw a.context=s,a}const o=i[e];if(o===void 0)return!1;if(typeof o=="function")Vv(o,this,r);else{const s=o.length,a=rC(o);for(let c=0;c<s;c+=1)Vv(a[c],this,r)}return!0}}Is.default=nC;var lc={},Gi={},iC=fc;fc.default=fc,fc.stable=Jv,fc.stableStringify=Jv;var ml="[...]",Gv="[Circular]",No=[],Oo=[];function Kv(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function fc(t,e,r,n){typeof n>"u"&&(n=Kv()),jd(t,"",0,[],void 0,0,n);var i;try{Oo.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Qv(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;No.length!==0;){var o=No.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Rs(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),No.push([n,r,e,i])):Oo.push([e,r,t]):(n[r]=t,No.push([n,r,e]))}function jd(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Rs(Gv,t,e,i);return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){Rs(ml,t,e,i);return}if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit){Rs(ml,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)jd(t[a],a,a,n,t,o,s);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];jd(t[u],u,a,n,t,o,s)}}n.pop()}}function oC(t,e){return t<e?-1:t>e?1:0}function Jv(t,e,r,n){typeof n>"u"&&(n=Kv());var i=$d(t,"",0,[],void 0,0,n)||t,o;try{Oo.length===0?o=JSON.stringify(i,e,r):o=JSON.stringify(i,Qv(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;No.length!==0;){var s=No.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function $d(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Rs(Gv,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof s.depthLimit<"u"&&o>s.depthLimit){Rs(ml,t,e,i);return}if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit){Rs(ml,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)$d(t[a],a,a,n,t,o,s);else{var c={},u=Object.keys(t).sort(oC);for(a=0;a<u.length;a++){var l=u[a];$d(t[l],l,a,n,t,o,s),c[l]=t[l]}if(typeof i<"u")No.push([i,e,t]),i[e]=c;else return c}n.pop()}}function Qv(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Oo.length>0)for(var n=0;n<Oo.length;n++){var i=Oo[n];if(i[1]===e&&i[0]===r){r=i[2],Oo.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.EthereumProviderError=Gi.EthereumRpcError=void 0;const sC=iC;class Yv extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return sC.default(this.serialize(),uC,2)}}Gi.EthereumRpcError=Yv;class aC extends Yv{constructor(e,r,n){if(!cC(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Gi.EthereumProviderError=aC;function cC(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function uC(t,e){if(e!=="[Circular]")return e}var Wd={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.errorValues=Ki.errorCodes=void 0,Ki.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Ki.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ki,r=Gi,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:n,message:s(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function s(m,x=i){if(Number.isInteger(m)){const _=m.toString();if(p(e.errorValues,_))return e.errorValues[_].message;if(u(m))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return x}t.getMessageFromCode=s;function a(m){if(!Number.isInteger(m))return!1;const x=m.toString();return!!(e.errorValues[x]||u(m))}t.isValidCode=a;function c(m,{fallbackError:x=o,shouldIncludeStack:_=!1}={}){var R,y;if(!x||!Number.isInteger(x.code)||typeof x.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const C={};if(m&&typeof m=="object"&&!Array.isArray(m)&&p(m,"code")&&a(m.code)){const P=m;C.code=P.code,P.message&&typeof P.message=="string"?(C.message=P.message,p(P,"data")&&(C.data=P.data)):(C.message=s(C.code),C.data={originalError:l(m)})}else{C.code=x.code;const P=(R=m)===null||R===void 0?void 0:R.message;C.message=P&&typeof P=="string"?P:x.message,C.data={originalError:l(m)}}const T=(y=m)===null||y===void 0?void 0:y.stack;return _&&m&&T&&typeof T=="string"&&(C.stack=T),C}t.serializeError=c;function u(m){return m>=-32099&&m<=-32e3}function l(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function p(m,x){return Object.prototype.hasOwnProperty.call(m,x)}}(Wd);var vl={};Object.defineProperty(vl,"__esModule",{value:!0}),vl.ethErrors=void 0;const qd=Gi,Zv=Wd,ir=Ki;vl.ethErrors={rpc:{parse:t=>sn(ir.errorCodes.rpc.parse,t),invalidRequest:t=>sn(ir.errorCodes.rpc.invalidRequest,t),invalidParams:t=>sn(ir.errorCodes.rpc.invalidParams,t),methodNotFound:t=>sn(ir.errorCodes.rpc.methodNotFound,t),internal:t=>sn(ir.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return sn(e,t)},invalidInput:t=>sn(ir.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>sn(ir.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>sn(ir.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>sn(ir.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>sn(ir.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>sn(ir.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>hc(ir.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>hc(ir.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>hc(ir.errorCodes.provider.unsupportedMethod,t),disconnected:t=>hc(ir.errorCodes.provider.disconnected,t),chainDisconnected:t=>hc(ir.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new qd.EthereumProviderError(e,r,n)}}};function sn(t,e){const[r,n]=Xv(e);return new qd.EthereumRpcError(t,r||Zv.getMessageFromCode(t),n)}function hc(t,e){const[r,n]=Xv(e);return new qd.EthereumProviderError(t,r||Zv.getMessageFromCode(t),n)}function Xv(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Gi;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Wd;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=vl;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ki;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(lc);var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.EVENTS=void 0,Ts.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Ps={};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Hd=function(t,e){return Hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Hd(t,e)};function X(t,e){Hd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ns(t){return typeof t=="function"}var ey=!1,an={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}ey=t},get useDeprecatedSynchronousErrorHandling(){return ey}};function Os(t){setTimeout(function(){throw t},0)}var yl={closed:!0,next:function(t){},error:function(t){if(an.useDeprecatedSynchronousErrorHandling)throw t;Os(t)},complete:function(){}},mr=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function zd(t){return t!==null&&typeof t=="object"}var lC=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),dc=lC,_t=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Ns(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(p){e=p instanceof dc?ty(p.errors):[p]}}if(mr(s))for(var a=-1,u=s.length;++a<u;){var l=s[a];if(zd(l))try{l.unsubscribe()}catch(m){e=e||[],m instanceof dc?e=e.concat(ty(m.errors)):e.push(m)}}if(e)throw new dc(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var o=this._subscriptions;return o===null?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function ty(t){return t.reduce(function(e,r){return e.concat(r instanceof dc?r.errors:r)},[])}var xl=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),fe=function(t){X(e,t);function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=yl;break;case 1:if(!r){o.destination=yl;break}if(typeof r=="object"){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new ry(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new ry(o,r,n,i);break}return o}return e.prototype[xl]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(_t),ry=function(t){X(e,t);function e(r,n,i,o){var s=t.call(this)||this;s._parentSubscriber=r;var a,c=s;return Ns(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==yl&&(c=Object.create(n),Ns(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!an.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=an.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Os(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Os(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!an.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),an.useDeprecatedSynchronousErrorHandling)throw i;Os(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!an.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return an.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(Os(o),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(fe);function Vd(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof fe?t=n:t=null}return!0}function fC(t,e,r){if(t){if(t instanceof fe)return t;if(t[xl])return t[xl]()}return!t&&!e&&!r?new fe(yl):new fe(t,e,r)}var Bs=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ji(t){return t}function Gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ny(t)}function ny(t){return t.length===0?Ji:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var Ge=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=fC(e,r,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||an.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),an.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){an.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Vd(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=iy(r),new r(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Bs]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:ny(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=iy(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function iy(t){if(t||(t=an.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var hC=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Qi=hC,oy=function(t){X(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(_t),sy=function(t){X(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(fe),Ut=function(t){X(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[xl]=function(){return new sy(this)},e.prototype.lift=function(r){var n=new ay(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Qi;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(r)},e.prototype.error=function(r){if(this.closed)throw new Qi;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Qi;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Qi;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Qi;return this.hasError?(r.error(this.thrownError),_t.EMPTY):this.isStopped?(r.complete(),_t.EMPTY):(this.observers.push(r),new oy(this,r))},e.prototype.asObservable=function(){var r=new Ge;return r.source=this,r},e.create=function(r,n){return new ay(r,n)},e}(Ge),ay=function(t){X(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):_t.EMPTY},e}(Ut);function Kd(){return function(e){return e.lift(new dC(e))}}var dC=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new pC(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),pC=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(fe),cy=function(t){X(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new _t,r.add(this.source.subscribe(new bC(this.getSubject(),this))),r.closed&&(this._connection=null,r=_t.EMPTY)),r},e.prototype.refCount=function(){return Kd()(this)},e}(Ge),gC=function(){var t=cy.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),bC=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(sy);function mC(t,e,r,n){return function(i){return i.lift(new vC(t,e,r,n))}}var vC=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new yC(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),yC=function(t){X(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(r)}catch(u){this.error(u)}else s=r;if(!o){o=this.subjectSelector?this.subjectSelector():new Ut,i.set(n,o);var a=new Jd(n,o,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Jd(n,o))}catch(u){this.error(u);return}this.add(c.subscribe(new xC(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,o){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(fe),xC=function(t){X(e,t);function e(r,n,i){var o=t.call(this,n)||this;return o.key=r,o.group=n,o.parent=i,o}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(fe),Jd=function(t){X(e,t);function e(r,n,i){var o=t.call(this)||this;return o.key=r,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(r){var n=new _t,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new wC(o)),n.add(s.subscribe(r)),n},e}(Ge),wC=function(t){X(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(_t),uy=function(t){X(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qi;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Ut),_C=function(t){X(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(_t),pc=function(t){X(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o=void 0;try{this.work(r)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(_C),EC=function(t){X(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(pc),Qd=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),gc=function(t){X(e,t);function e(r,n){n===void 0&&(n=Qd.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Qd),SC=function(t){X(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(gc),ly=new SC(EC),fy=ly,Ls=new Ge(function(t){return t.complete()});function Ds(t){return t?AC(t):Ls}function AC(t){return new Ge(function(e){return t.schedule(function(){return e.complete()})})}function Kr(t){return t&&typeof t.schedule=="function"}var hy=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Yd(t,e){return new Ge(function(r){var n=new _t,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function bc(t,e){return e?Yd(t,e):new Ge(hy(t))}function wl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Kr(r)?(t.pop(),Yd(t,r)):bc(t)}function Zd(t,e){return e?new Ge(function(r){return e.schedule(CC,0,{error:t,subscriber:r})}):new Ge(function(r){return r.error(t)})}function CC(t){var e=t.error,r=t.subscriber;r.error(e)}var Xd;Xd||(Xd={});var vi=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return wl(this.value);case"E":return Zd(this.error);case"C":return Ds()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function kC(t,e){return e===void 0&&(e=0),function(n){return n.lift(new MC(t,e))}}var MC=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new dy(e,this.scheduler,this.delay))},t}(),dy=function(t){X(e,t);function e(r,n,i){i===void 0&&(i=0);var o=t.call(this,r)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new IC(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(vi.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(vi.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(vi.createComplete()),this.unsubscribe()},e}(fe),IC=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),e0=function(t){X(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=r<1?1:r,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new RC(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new Qi;if(this.isStopped||this.hasError?a=_t.EMPTY:(this.observers.push(r),a=new oy(this,r)),o&&r.add(r=new dy(r,o)),n)for(var c=0;c<s&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<s&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||fy).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(r-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(Ut),RC=function(){function t(e,r){this.time=e,this.value=r}return t}(),Fs=function(t){X(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),_t.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),_t.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ut),TC=1,PC=function(){return Promise.resolve()}(),t0={};function py(t){return t in t0?(delete t0[t],!0):!1}var gy={setImmediate:function(t){var e=TC++;return t0[e]=!0,PC.then(function(){return py(e)&&t()}),e},clearImmediate:function(t){py(t)}},NC=function(t){X(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=gy.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(gy.clearImmediate(n),r.scheduled=void 0)},e}(pc),OC=function(t){X(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(gc),by=new OC(NC),_l=by,my=new gc(pc),vr=my,BC=function(t){X(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(pc),LC=function(t){X(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++o<s&&(r=n.shift()));if(this.active=!1,i){for(;++o<s&&(r=n.shift());)r.unsubscribe();throw i}},e}(gc),vy=new LC(BC),DC=vy,FC=function(t){X(e,t);function e(r,n){r===void 0&&(r=yy),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(gc),yy=function(t){X(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(pc);function Xn(){}function UC(t){return!!t&&(t instanceof Ge||typeof t.lift=="function"&&typeof t.subscribe=="function")}var jC=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Us=jC,$C=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),mc=$C,WC=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),xy=WC;function cn(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new qC(t,e))}}var qC=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new HC(e,this.project,this.thisArg))},t}(),HC=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(fe);function wy(t,e,r){if(e)if(Kr(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return wy(t,r).apply(void 0,n).pipe(cn(function(o){return mr(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:t,scheduler:r};return new Ge(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(zC,0,l)}else{if(!s){s=new Fs;var u=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];s.next(p.length<=1?p[0]:p),s.complete()};try{t.apply(o,n.concat([u]))}catch(p){Vd(s)?s.error(p):console.warn(p)}}return s.subscribe(c)}})}}function zC(t){var e=this,r=t.args,n=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Fs;var u=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var m=l.length<=1?l[0]:l;e.add(a.schedule(VC,0,{value:m,subject:c}))};try{o.apply(s,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function VC(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function _y(t,e,r){if(e)if(Kr(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return _y(t,r).apply(void 0,n).pipe(cn(function(o){return mr(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new Ge(function(s){var a=o.context,c=o.subject;if(r)return r.schedule(GC,0,{params:o,subscriber:s,context:a});if(!c){c=o.subject=new Fs;var u=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var m=l.shift();if(m){c.error(m);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){Vd(c)?c.error(l):console.warn(l)}}return c.subscribe(s)})}}function GC(t){var e=this,r=t.params,n=t.subscriber,i=t.context,o=r.callbackFunc,s=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Fs;var u=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var m=l.shift();if(m)e.add(a.schedule(Ey,0,{err:m,subject:c}));else{var x=l.length<=1?l[0]:l;e.add(a.schedule(KC,0,{value:x,subject:c}))}};try{o.apply(i,s.concat([u]))}catch(l){this.add(a.schedule(Ey,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function KC(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Ey(t){var e=t.err,r=t.subject;r.error(e)}var Bo=function(t){X(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(fe),JC=function(t){X(e,t);function e(r,n,i){var o=t.call(this)||this;return o.parent=r,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(fe),QC=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Os),e}};function YC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yi=YC(),ZC=function(t){return function(e){var r=t[Yi]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},XC=function(t){return function(e){var r=t[Bs]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Sy=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Ay(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var vc=function(t){if(!!t&&typeof t[Bs]=="function")return XC(t);if(Sy(t))return hy(t);if(Ay(t))return QC(t);if(!!t&&typeof t[Yi]=="function")return ZC(t);var e=zd(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function yi(t,e,r,n,i){if(i===void 0&&(i=new JC(t,r,n)),!i.closed)return e instanceof Ge?e.subscribe(i):vc(e)(i)}var Cy={};function ek(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Kr(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&mr(t[0])&&(t=t[0]),bc(t,n).lift(new r0(r))}var r0=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new tk(e,this.resultSelector))},t}(),tk=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Cy),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=r[i];this.add(yi(this,o,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var o=this.values,s=o[i],a=this.toRespond?s===Cy?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Bo);function rk(t,e){return new Ge(function(r){var n=new _t;return n.add(e.schedule(function(){var i=t[Bs]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return r.next(o)}))},error:function(o){n.add(e.schedule(function(){return r.error(o)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function nk(t,e){return new Ge(function(r){var n=new _t;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function ik(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ge(function(r){var n=new _t,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Yi](),n.add(e.schedule(function(){if(!r.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(c){r.error(c);return}s?r.complete():(r.next(o),this.schedule())}}))})),n})}function ok(t){return t&&typeof t[Bs]=="function"}function sk(t){return t&&typeof t[Yi]=="function"}function ky(t,e){if(t!=null){if(ok(t))return rk(t,e);if(Ay(t))return nk(t,e);if(Sy(t))return Yd(t,e);if(sk(t)||typeof t=="string")return ik(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function xi(t,e){return e?ky(t,e):t instanceof Ge?t:new Ge(vc(t))}var Ct=function(t){X(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(fe),kt=function(t){X(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(fe);function Mt(t,e){if(!e.closed){if(t instanceof Ge)return t.subscribe(e);var r;try{r=vc(t)(e)}catch(n){e.error(n)}return r}}function Lo(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Lo(function(i,o){return xi(t(i,o)).pipe(cn(function(s,a){return e(i,s,o,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new ak(t,r))})}var ak=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new ck(e,this.project,this.concurrent))},t}(),ck=function(t){X(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Ct(this),i=this.destination;i.add(n);var o=Mt(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(kt),uk=Lo;function n0(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Lo(Ji,t)}function My(){return n0(1)}function yc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return My()(wl.apply(void 0,t))}function i0(t){return new Ge(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?xi(r):Ds();return n.subscribe(e)})}function lk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(mr(r))return El(r,null);if(zd(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return El(n.map(function(o){return r[o]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&mr(t[0])?t[0]:t,El(t,null).pipe(cn(function(o){return i.apply(void 0,o)}))}return El(t,null)}function El(t,e){return new Ge(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),o=0,s=0,a=function(u){var l=xi(t[u]),p=!1;r.add(l.subscribe({next:function(m){p||(p=!0,s++),i[u]=m},error:function(m){return r.error(m)},complete:function(){o++,(o===n||!p)&&(s===n&&r.next(e?e.reduce(function(m,x,_){return m[x]=i[_],m},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Iy(t,e,r,n){return Ns(r)&&(n=r,r=void 0),n?Iy(t,e,r).pipe(cn(function(i){return mr(i)?n.apply(void 0,i):n(i)})):new Ge(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}Ry(t,e,o,i,r)})}function Ry(t,e,r,n,i){var o;if(dk(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(hk(t)){var a=t;t.on(e,r),o=function(){return a.off(e,r)}}else if(fk(t)){var c=t;t.addListener(e,r),o=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)Ry(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(o)}function fk(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function hk(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function dk(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Ty(t,e,r){return r?Ty(t,e).pipe(cn(function(n){return mr(n)?r.apply(void 0,n):r(n)})):new Ge(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=t(i)}catch(s){n.error(s);return}if(!!Ns(e))return function(){return e(i,o)}})}function pk(t,e,r,n,i){var o,s;if(arguments.length==1){var a=t;s=a.initialState,e=a.condition,r=a.iterate,o=a.resultSelector||Ji,i=a.scheduler}else n===void 0||Kr(n)?(s=t,o=Ji,i=n):(s=t,o=n);return new Ge(function(c){var u=s;if(i)return i.schedule(gk,0,{subscriber:c,iterate:r,condition:e,resultSelector:o,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(m){c.error(m);return}if(!l){c.complete();break}}var p=void 0;try{p=o(u)}catch(m){c.error(m);return}if(c.next(p),c.closed)break;try{u=r(u)}catch(m){c.error(m);return}}while(!0)})}function gk(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){e.error(o);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function bk(t,e,r){return e===void 0&&(e=Ls),r===void 0&&(r=Ls),i0(function(){return t()?e:r})}function js(t){return!mr(t)&&t-parseFloat(t)+1>=0}function mk(t,e){return t===void 0&&(t=0),e===void 0&&(e=vr),(!js(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=vr),new Ge(function(r){return r.add(e.schedule(vk,t,{subscriber:r,counter:0,period:t})),r})}function vk(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Py(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Kr(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof Ge?t[0]:n0(r)(bc(t,n))}var Ny=new Ge(Xn);function yk(){return Ny}function o0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Ls;var r=t[0],n=t.slice(1);return t.length===1&&mr(r)?o0.apply(void 0,r):new Ge(function(i){var o=function(){return i.add(o0.apply(void 0,n).subscribe(i))};return xi(r).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}function xk(t,e){return e?new Ge(function(r){var n=Object.keys(t),i=new _t;return i.add(e.schedule(wk,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new Ge(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var o=n[i];t.hasOwnProperty(o)&&r.next([o,t[o]])}r.complete()})}function wk(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}function Oy(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Zi(t,e){return function(n){return n.lift(new _k(t,e))}}var _k=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Ek(e,this.predicate,this.thisArg))},t}(),Ek=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(fe);function Sk(t,e,r){return[Zi(e,r)(new Ge(vc(t))),Zi(Oy(e,r))(new Ge(vc(t)))]}function By(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(mr(t[0]))t=t[0];else return t[0];return bc(t,void 0).lift(new Ak)}var Ak=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ck(e))},t}(),Ck=function(t){X(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=r[i],s=yi(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(Bo);function kk(t,e,r){return t===void 0&&(t=0),new Ge(function(n){e===void 0&&(e=t,t=0);var i=0,o=t;if(r)return r.schedule(Mk,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}function Mk(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Ly(t,e,r){t===void 0&&(t=0);var n=-1;return js(e)?n=Number(e)<1&&1||Number(e):Kr(e)&&(r=e),Kr(r)||(r=vr),new Ge(function(i){var o=js(t)?t:+t-r.now();return r.schedule(Ik,o,{index:0,period:n,subscriber:i})})}function Ik(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Rk(t,e){return new Ge(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var o=i?xi(i):Ls,s=o.subscribe(r);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}function Dy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),bc(t,void 0).lift(new Fy(r))}var Fy=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Tk(e,this.resultSelector))},t}(),Tk=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(r){var n=this.iterators;mr(r)?n.push(new Nk(r)):typeof r[Yi]=="function"?n.push(new Pk(r[Yi]())):n.push(new Ok(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=r[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,o=0;o<n;o++){var s=r[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,c=[],o=0;o<n;o++){var s=r[o],u=s.next();if(s.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(fe),Pk=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Nk=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Yi]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Ok=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[Yi]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Mt(this.observable,new Ct(this))},e}(kt),Bk=Object.freeze({__proto__:null,Observable:Ge,ConnectableObservable:cy,GroupedObservable:Jd,observable:Bs,Subject:Ut,BehaviorSubject:uy,ReplaySubject:e0,AsyncSubject:Fs,asap:_l,asapScheduler:by,async:vr,asyncScheduler:my,queue:fy,queueScheduler:ly,animationFrame:DC,animationFrameScheduler:vy,VirtualTimeScheduler:FC,VirtualAction:yy,Scheduler:Qd,Subscription:_t,Subscriber:fe,Notification:vi,get NotificationKind(){return Xd},pipe:Gd,noop:Xn,identity:Ji,isObservable:UC,ArgumentOutOfRangeError:Us,EmptyError:mc,ObjectUnsubscribedError:Qi,UnsubscriptionError:dc,TimeoutError:xy,bindCallback:wy,bindNodeCallback:_y,combineLatest:ek,concat:yc,defer:i0,empty:Ds,forkJoin:lk,from:xi,fromEvent:Iy,fromEventPattern:Ty,generate:pk,iif:bk,interval:mk,merge:Py,never:yk,of:wl,onErrorResumeNext:o0,pairs:xk,partition:Sk,race:By,range:kk,throwError:Zd,timer:Ly,using:Rk,zip:Dy,scheduled:ky,EMPTY:Ls,NEVER:Ny,config:an}),$s=Ye(Bk);function Uy(t){return function(r){return r.lift(new Lk(t))}}var Lk=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Dk(e,this.durationSelector))},t}(),Dk=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(s){return this.destination.error(s)}var o=Mt(n,new Ct(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,o=r.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(kt);function Fk(t,e){return e===void 0&&(e=vr),Uy(function(){return Ly(t,e)})}function Uk(t){return function(r){return r.lift(new jk(t))}}var jk=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new $k(e,this.closingNotifier))},t}(),$k=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Mt(n,new Ct(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(kt);function Wk(t,e){return e===void 0&&(e=null),function(n){return n.lift(new qk(t,e))}}var qk=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=Hk:this.subscriberClass=zk}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),Hk=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(fe),zk=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(r){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var c=s.length;c--;){var u=s[c];u.push(r),u.length===i&&(s.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}t.prototype._complete.call(this)},e}(fe);function Vk(t){var e=arguments.length,r=vr;Kr(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new Gk(t,n,i,r))}}var Gk=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Jk(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Kk=function(){function t(){this.buffer=[]}return t}(),Jk=function(t){X(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=s.schedule(jy,n,u))}else{var l={subscriber:a,context:c},p={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(c.closeAction=s.schedule($y,n,l)),a.add(s.schedule(Qk,i,p))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(jy,i,o))}},e.prototype.openContext=function(){var r=new Kk;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(fe);function jy(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Qk(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule($y,r,{subscriber:n,context:o})),s.schedule(t,e))}function $y(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function Yk(t,e){return function(n){return n.lift(new Zk(t,e))}}var Zk=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Xk(e,this.openings,this.closingSelector))},t}(),Xk=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.closingSelector=i,o.contexts=[],o.add(yi(o,n)),o}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,o=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],o=new _t,s={buffer:i,subscription:o};n.push(s);var a=yi(this,r,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(Bo);function eM(t){return function(e){return e.lift(new tM(t))}}var tM=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new rM(e,this.closingSelector))},t}(),rM=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}r=new _t,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Mt(i,new Ct(this))),this.subscribing=!1},e}(kt);function nM(t){return function(r){var n=new iM(t),i=r.lift(n);return n.caught=i}}var iM=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new oM(e,this.selector,this.caught))},t}(),oM=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(s){t.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new Ct(this);this.add(i);var o=Mt(n,i);o!==i&&this.add(o)}},e}(kt);function sM(t){return function(e){return e.lift(new r0(t))}}function aM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&mr(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(xi([n].concat(t)),new r0(r))}}function cM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(yc.apply(void 0,[r].concat(t)))}}function Wy(t,e){return Lo(t,e,1)}function uM(t,e){return Wy(function(){return t},e)}function lM(t){return function(e){return e.lift(new fM(t,e))}}var fM=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new hM(e,this.predicate,this.source))},t}(),hM=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(fe);function dM(t){return function(e){return e.lift(new pM(t))}}var pM=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new gM(e,this.durationSelector))},t}(),gM=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Mt(n,new Ct(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(kt);function bM(t,e){return e===void 0&&(e=vr),function(r){return r.lift(new mM(t,e))}}var mM=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new vM(e,this.dueTime,this.scheduler))},t}(),vM=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(yM,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(fe);function yM(t){t.debouncedNext()}function xc(t){return t===void 0&&(t=null),function(e){return e.lift(new xM(t))}}var xM=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new wM(e,this.defaultValue))},t}(),wM=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(fe);function qy(t){return t instanceof Date&&!isNaN(+t)}function _M(t,e){e===void 0&&(e=vr);var r=qy(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new EM(n,e))}}var EM=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new SM(e,this.delay,this.scheduler))},t}(),SM=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(r){for(var n=r.source,i=n.queue,o=r.scheduler,s=r.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new AM(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(vi.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(vi.createComplete()),this.unsubscribe()},e}(fe),AM=function(){function t(e,r){this.time=e,this.notification=r}return t}();function CM(t,e){return e?function(r){return new MM(r,e).lift(new Hy(t))}:function(r){return r.lift(new Hy(t))}}var Hy=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new kM(e,this.delayDurationSelector))},t}(),kM=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,o,s){this.destination.next(r),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=yi(this,r,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Bo),MM=function(t){X(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new IM(r,this.source))},e}(Ge),IM=function(t){X(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(fe);function RM(){return function(e){return e.lift(new TM)}}var TM=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new PM(e))},t}(),PM=function(t){X(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(fe);function NM(t,e){return function(r){return r.lift(new OM(t,e))}}var OM=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new BM(e,this.keySelector,this.flushes))},t}(),BM=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=n,o.values=new Set,i&&o.add(Mt(i,new Ct(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(o){i.error(o);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(kt);function zy(t,e){return function(r){return r.lift(new LM(t,e))}}var LM=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new DM(e,this.compare,this.keySelector))},t}(),DM=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(r))},e}(fe);function FM(t,e){return zy(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Sl(t){return t===void 0&&(t=$M),function(e){return e.lift(new UM(t))}}var UM=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new jM(e,this.errorFactory))},t}(),jM=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(fe);function $M(){return new mc}function s0(t){return function(e){return t===0?Ds():e.lift(new WM(t))}}var WM=function(){function t(e){if(this.total=e,this.total<0)throw new Us}return t.prototype.call=function(e,r){return r.subscribe(new qM(e,this.total))},t}(),qM=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(fe);function HM(t,e){if(t<0)throw new Us;var r=arguments.length>=2;return function(n){return n.pipe(Zi(function(i,o){return o===t}),s0(1),r?xc(e):Sl(function(){return new Us}))}}function zM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return yc(r,wl.apply(void 0,t))}}function VM(t,e){return function(r){return r.lift(new GM(t,e,r))}}var GM=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new KM(e,this.predicate,this.thisArg,this.source))},t}(),KM=function(t){X(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(fe);function JM(){return function(t){return t.lift(new QM)}}var QM=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new YM(e))},t}(),YM=function(t){X(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Mt(r,new Ct(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(kt);function Vy(t,e){return e?function(r){return r.pipe(Vy(function(n,i){return xi(t(n,i)).pipe(cn(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new ZM(t))}}var ZM=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new XM(e,this.project))},t}(),XM=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Ct(this),i=this.destination;i.add(n);var o=Mt(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(kt);function eI(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new tI(t,e,r))}}var tI=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new rI(e,this.project,this.concurrent,this.scheduler))},t}(),rI=function(t){X(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(r){var n=r.subscriber,i=r.result,o=r.value,s=r.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var o=this.project,s=o(r,i);if(!this.scheduler)this.subscribeToProjection(s,r,i);else{var a={subscriber:this,result:s,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var o=this.destination;o.add(Mt(r,new Ct(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(kt);function nI(t){return function(e){return e.lift(new iI(t))}}var iI=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new oI(e,this.callback))},t}(),oI=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new _t(n)),i}return e}(fe);function sI(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Gy(t,r,!1,e))}}var Gy=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new aI(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),aI=function(t){X(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,r,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(fe);function cI(t,e){return function(r){return r.lift(new Gy(t,r,!0,e))}}function uI(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Zi(function(i,o){return t(i,o,n)}):Ji,s0(1),r?xc(e):Sl(function(){return new mc}))}}function lI(){return function(e){return e.lift(new fI)}}var fI=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new hI(e))},t}(),hI=function(t){X(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(fe);function dI(){return function(t){return t.lift(new pI)}}var pI=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new gI(e))},t}(),gI=function(t){X(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(fe);function Al(t){return function(r){return t===0?Ds():r.lift(new bI(t))}}var bI=function(){function t(e){if(this.total=e,this.total<0)throw new Us}return t.prototype.call=function(e,r){return r.subscribe(new mI(e,this.total))},t}(),mI=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(r);else{var s=o%i;n[s]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;r.next(o[a])}r.complete()},e}(fe);function vI(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Zi(function(i,o){return t(i,o,n)}):Ji,Al(1),r?xc(e):Sl(function(){return new mc}))}}function yI(t){return function(e){return e.lift(new xI(t))}}var xI=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new wI(e,this.value))},t}(),wI=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(fe);function _I(){return function(e){return e.lift(new EI)}}var EI=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new SI(e))},t}(),SI=function(t){X(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(vi.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(vi.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(vi.createComplete()),r.complete()},e}(fe);function Cl(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new AI(t,e,r))}}var AI=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new CI(e,this.accumulator,this.seed,this.hasSeed))},t}(),CI=function(t){X(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(fe);function kl(t,e){return arguments.length>=2?function(n){return Gd(Cl(t,e),Al(1),xc(e))(n)}:function(n){return Gd(Cl(function(i,o,s){return t(i,o,s+1)}),Al(1))(n)}}function kI(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return kl(e)}function MI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Py.apply(void 0,[r].concat(t)))}}function II(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Lo(function(){return t},e,r):(typeof e=="number"&&(r=e),Lo(function(){return t},r))}function RI(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new TI(t,e,r))}}var TI=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new PI(e,this.accumulator,this.seed,this.concurrent))},t}(),PI=function(t){X(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Ct(this),i=this.destination;i.add(n);var o=Mt(r,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(kt);function NI(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return kl(e)}function Do(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new OI(i,e));var o=Object.create(n,gC);return o.source=n,o.subjectFactory=i,o}}var OI=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(r.subscribe(i)),o},t}();function BI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&mr(t[0])&&(t=t[0]),function(r){return r.lift(new LI(t))}}var LI=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new DI(e,this.nextSources))},t}(),DI=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Ct(this),i=this.destination;i.add(n);var o=Mt(r,n);o!==n&&i.add(o)}else this.destination.complete()},e}(kt);function FI(){return function(t){return t.lift(new UI)}}var UI=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new jI(e))},t}(),jI=function(t){X(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(fe);function $I(t,e){return function(r){return[Zi(t,e)(r),Zi(Oy(t,e))(r)]}}function WI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return cn(qI(t,r))(n)}}function qI(t,e){var r=function(n){for(var i=n,o=0;o<e;o++){var s=i?.[t[o]];if(s!==void 0)i=s;else return}return i};return r}function HI(t){return t?Do(function(){return new Ut},t):Do(new Ut)}function zI(t){return function(e){return Do(new uy(t))(e)}}function VI(){return function(t){return Do(new Fs)(t)}}function GI(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,o=new e0(t,e,n);return function(s){return Do(function(){return o},i)(s)}}function KI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&mr(t[0])&&(t=t[0]),n.lift.call(By.apply(void 0,[n].concat(t)))}}function JI(t){return t===void 0&&(t=-1),function(e){return t===0?Ds():t<0?e.lift(new Ky(-1,e)):e.lift(new Ky(t-1,e))}}var Ky=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new QI(e,this.count,this.source))},t}(),QI=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(fe);function YI(t){return function(e){return e.lift(new ZI(t))}}var ZI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new XI(e,this.notifier,r))},t}(),XI=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Ut;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Mt(r,new Ct(this))},e}(kt);function eR(t){return t===void 0&&(t=-1),function(e){return e.lift(new tR(t,e))}}var tR=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new rR(e,this.count,this.source))},t}(),rR=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return t.prototype.error.call(this,r);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(fe);function nR(t){return function(e){return e.lift(new iR(t,e))}}var iR=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new oR(e,this.notifier,this.source))},t}(),oR=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Ut;try{var s=this.notifier;i=s(n)}catch(a){return t.prototype.error.call(this,a)}o=Mt(i,new Ct(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(kt);function sR(t){return function(e){return e.lift(new aR(t))}}var aR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new cR(e),i=r.subscribe(n);return i.add(Mt(this.notifier,new Ct(n))),i},t}(),cR=function(t){X(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(kt);function uR(t,e){return e===void 0&&(e=vr),function(r){return r.lift(new lR(t,e))}}var lR=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new fR(e,this.period,this.scheduler))},t}(),fR=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(hR,n,{subscriber:o,period:n})),o}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(fe);function hR(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function dR(t,e){return function(r){return r.lift(new pR(t,e))}}var pR=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new gR(e,this.compareTo,this.comparator))},t}(),gR=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new bR(r,o))),o}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,o=r.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),c=!1;try{c=o?o(s,a):s===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(fe),bR=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(fe);function mR(){return new Ut}function vR(){return function(t){return Kd()(Do(mR)(t))}}function yR(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(xR(n))}}function xR(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=t.refCount,s=t.scheduler,a,c=0,u,l=!1,p=!1;return function(x){c++;var _;!a||l?(l=!1,a=new e0(r,i,s),_=a.subscribe(this),u=x.subscribe({next:function(R){a.next(R)},error:function(R){l=!0,a.error(R)},complete:function(){p=!0,u=void 0,a.complete()}}),p&&(u=void 0)):_=a.subscribe(this),this.add(function(){c--,_.unsubscribe(),_=void 0,u&&!p&&o&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function wR(t){return function(e){return e.lift(new _R(t,e))}}var _R=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ER(e,this.predicate,this.source))},t}(),ER=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new mc)},e}(fe);function SR(t){return function(e){return e.lift(new AR(t))}}var AR=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new CR(e,this.total))},t}(),CR=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(fe);function kR(t){return function(e){return e.lift(new MR(t))}}var MR=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Us}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new fe(e)):r.subscribe(new IR(e,this._skipCount))},t}(),IR=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var o=i%n,s=this._ring,a=s[o];s[o]=r,this.destination.next(a)}},e}(fe);function RR(t){return function(e){return e.lift(new TR(t))}}var TR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new PR(e,this.notifier))},t}(),PR=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var o=new Ct(i);i.add(o),i.innerSubscription=o;var s=Mt(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(kt);function NR(t){return function(e){return e.lift(new OR(t))}}var OR=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new BR(e,this.predicate))},t}(),BR=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(fe);function LR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Kr(r)?(t.pop(),function(n){return yc(t,n,r)}):function(n){return yc(t,n)}}var DR=function(t){X(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=_l);var o=t.call(this)||this;return o.source=r,o.delayTime=n,o.scheduler=i,(!js(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=_l),o}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=_l),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(Ge);function FR(t,e){return e===void 0&&(e=0),function(n){return n.lift(new UR(t,e))}}var UR=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new DR(r,this.delay,this.scheduler).subscribe(e)},t}();function wc(t,e){return typeof e=="function"?function(r){return r.pipe(wc(function(n,i){return xi(t(n,i)).pipe(cn(function(o,s){return e(n,o,i,s)}))}))}:function(r){return r.lift(new jR(t))}}var jR=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new $R(e,this.project))},t}(),$R=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Ct(this),o=this.destination;o.add(i),this.innerSubscription=Mt(r,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(kt);function WR(){return wc(Ji)}function qR(t,e){return e?wc(function(){return t},e):wc(function(){return t})}function HR(t){return function(e){return e.lift(new zR(t))}}var zR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new VR(e),i=Mt(this.notifier,new Ct(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),VR=function(t){X(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(kt);function GR(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new KR(t,e))}}var KR=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new JR(e,this.predicate,this.inclusive))},t}(),JR=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(fe);function QR(t,e,r){return function(i){return i.lift(new YR(t,e,r))}}var YR=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new ZR(e,this.nextOrObserver,this.error,this.complete))},t}(),ZR=function(t){X(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s._tapNext=Xn,s._tapError=Xn,s._tapComplete=Xn,s._tapError=i||Xn,s._tapComplete=o||Xn,Ns(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||Xn,s._tapError=n.error||Xn,s._tapComplete=n.complete||Xn),s}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(fe),Jy={leading:!0,trailing:!1};function XR(t,e){return e===void 0&&(e=Jy),function(r){return r.lift(new eT(t,!!e.leading,!!e.trailing))}}var eT=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new tT(e,this.durationSelector,this.leading,this.trailing))},t}(),tT=function(t){X(e,t);function e(r,n,i,o){var s=t.call(this,r)||this;return s.destination=r,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Mt(n,new Ct(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(kt);function rT(t,e,r){return e===void 0&&(e=vr),r===void 0&&(r=Jy),function(n){return n.lift(new nT(t,e,r.leading,r.trailing))}}var nT=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new iT(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),iT=function(t){X(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(oT,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(fe);function oT(t){var e=t.subscriber;e.clearThrottle()}function sT(t){return t===void 0&&(t=vr),function(e){return i0(function(){return e.pipe(Cl(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),cn(function(r){var n=r.current,i=r.last,o=r.value;return new aT(o,n-i)}))})}}var aT=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Qy(t,e,r){return r===void 0&&(r=vr),function(n){var i=qy(t),o=i?+t-r.now():Math.abs(t);return n.lift(new cT(o,i,e,r))}}var cT=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new uT(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),uT=function(t){X(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Mt(n,new Ct(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(kt);function lT(t,e){return e===void 0&&(e=vr),Qy(t,Zd(new xy),e)}function fT(t){return t===void 0&&(t=vr),cn(function(e){return new hT(e,t.now())})}var hT=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function dT(t,e,r){return r===0?[e]:(t.push(e),t)}function pT(){return kl(dT,[])}function gT(t){return function(r){return r.lift(new bT(t))}}var bT=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new mT(e),i=r.subscribe(n);return i.closed||n.add(Mt(this.windowBoundaries,new Ct(n))),i},t}(),mT=function(t){X(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Ut,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Ut;n.next(i)},e}(kt);function vT(t,e){return e===void 0&&(e=0),function(n){return n.lift(new yT(t,e))}}var yT=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new xT(e,this.windowSize,this.startWindowEvery))},t}(),xT=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.destination=r,o.windowSize=n,o.startWindowEvery=i,o.windows=[new Ut],o.count=0,r.next(o.windows[0]),o}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,c=0;c<a&&!this.closed;c++)s[c].next(r);var u=this.count-o+1;if(u>=0&&u%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new Ut;s.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(fe);function wT(t){var e=vr,r=null,n=Number.POSITIVE_INFINITY;return Kr(arguments[3])&&(e=arguments[3]),Kr(arguments[2])?e=arguments[2]:js(arguments[2])&&(n=Number(arguments[2])),Kr(arguments[1])?e=arguments[1]:js(arguments[1])&&(r=Number(arguments[1])),function(o){return o.lift(new _T(t,r,n,e))}}var _T=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new ST(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),ET=function(t){X(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Ut),ST=function(t){X(e,t);function e(r,n,i,o,s){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(Yy,n,u)),a.add(s.schedule(CT,i,l))}else{var p={subscriber:a,window:c,windowTimeSpan:n};a.add(s.schedule(AT,n,p))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(r),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new ET;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(fe);function AT(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function CT(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:r,window:o,context:a};a.subscription=n.schedule(Yy,e,c),s.add(a.subscription),s.schedule(t,i)}function Yy(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function kT(t,e){return function(r){return r.lift(new MT(t,e))}}var MT=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new IT(e,this.openings,this.closingSelector))},t}(),IT=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=yi(o,n,n)),o}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(r),s.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.complete(),o.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,o,s){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(x){return this.error(x)}var u=new Ut,l=new _t,p={window:u,subscription:l};this.contexts.push(p);var m=yi(this,a,p);m.closed?this.closeWindow(this.contexts.length-1):(m.context=p,l.add(m)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],o=i.window,s=i.subscription;n.splice(r,1),o.complete(),s.unsubscribe()}},e}(Bo);function RT(t){return function(r){return r.lift(new TT(t))}}var TT=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new PT(e,this.closingSelector))},t}(),PT=function(t){X(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Ut;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=yi(this,o))},e}(Bo);function NT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new OT(i,n))}}var OT=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new BT(e,this.observables,this.project))},t}(),BT=function(t){X(e,t);function e(r,n,i){var o=t.call(this,r)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var c=n[a];o.add(yi(o,c,void 0,a))}return o}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Bo);function LT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Dy.apply(void 0,[n].concat(t)))}}function DT(t){return function(e){return e.lift(new Fy(t))}}var FT=Object.freeze({__proto__:null,audit:Uy,auditTime:Fk,buffer:Uk,bufferCount:Wk,bufferTime:Vk,bufferToggle:Yk,bufferWhen:eM,catchError:nM,combineAll:sM,combineLatest:aM,concat:cM,concatAll:My,concatMap:Wy,concatMapTo:uM,count:lM,debounce:dM,debounceTime:bM,defaultIfEmpty:xc,delay:_M,delayWhen:CM,dematerialize:RM,distinct:NM,distinctUntilChanged:zy,distinctUntilKeyChanged:FM,elementAt:HM,endWith:zM,every:VM,exhaust:JM,exhaustMap:Vy,expand:eI,filter:Zi,finalize:nI,find:sI,findIndex:cI,first:uI,groupBy:mC,ignoreElements:lI,isEmpty:dI,last:vI,map:cn,mapTo:yI,materialize:_I,max:kI,merge:MI,mergeAll:n0,mergeMap:Lo,flatMap:uk,mergeMapTo:II,mergeScan:RI,min:NI,multicast:Do,observeOn:kC,onErrorResumeNext:BI,pairwise:FI,partition:$I,pluck:WI,publish:HI,publishBehavior:zI,publishLast:VI,publishReplay:GI,race:KI,reduce:kl,repeat:JI,repeatWhen:YI,retry:eR,retryWhen:nR,refCount:Kd,sample:sR,sampleTime:uR,scan:Cl,sequenceEqual:dR,share:vR,shareReplay:yR,single:wR,skip:SR,skipLast:kR,skipUntil:RR,skipWhile:NR,startWith:LR,subscribeOn:FR,switchAll:WR,switchMap:wc,switchMapTo:qR,take:s0,takeLast:Al,takeUntil:HR,takeWhile:GR,tap:QR,throttle:XR,throttleTime:rT,throwIfEmpty:Sl,timeInterval:sT,timeout:lT,timeoutWith:Qy,timestamp:fT,toArray:pT,window:gT,windowCount:vT,windowTime:wT,windowToggle:kT,windowWhen:RT,withLatestFrom:NT,zip:LT,zipAll:DT}),Ml=Ye(FT),Zy={exports:{}},wi={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Aa.default,n=r.Buffer;function i(s,a){for(var c in s)a[c]=s[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(s,a,c){return n(s,a,c)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,c)},o.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=n(s);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(wi,wi.exports);var Xy=wi.exports.Buffer;function Il(t,e){this._block=Xy.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Il.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Xy.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var a=o%n,c=Math.min(i-s,n-a),u=0;u<c;u++)r[a+u]=t[s+u];o+=c,s+=c,o%n===0&&this._update(r)}return this._len+=i,this},Il.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},Il.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Ws=Il,UT=kr.exports,ex=Ws,jT=wi.exports.Buffer,$T=[1518500249,1859775393,-1894007588,-899497514],WT=new Array(80);function _c(){this.init(),this._w=WT,ex.call(this,64,56)}UT(_c,ex),_c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function qT(t){return t<<5|t>>>27}function HT(t){return t<<30|t>>>2}function zT(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}_c.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),l=qT(r)+zT(u,n,i,o)+s+e[c]+$T[u]|0;s=o,o=i,i=HT(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},_c.prototype._hash=function(){var t=jT.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var VT=_c,GT=kr.exports,tx=Ws,KT=wi.exports.Buffer,JT=[1518500249,1859775393,-1894007588,-899497514],QT=new Array(80);function Ec(){this.init(),this._w=QT,tx.call(this,64,56)}GT(Ec,tx),Ec.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function YT(t){return t<<1|t>>>31}function ZT(t){return t<<5|t>>>27}function XT(t){return t<<30|t>>>2}function eP(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Ec.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=YT(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),l=ZT(r)+eP(u,n,i,o)+s+e[c]+JT[u]|0;s=o,o=i,i=XT(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},Ec.prototype._hash=function(){var t=KT.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var tP=Ec,rP=kr.exports,rx=Ws,nP=wi.exports.Buffer,iP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],oP=new Array(64);function Sc(){this.init(),this._w=oP,rx.call(this,64,56)}rP(Sc,rx),Sc.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function sP(t,e,r){return r^t&(e^r)}function aP(t,e,r){return t&e|r&(t|e)}function cP(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function uP(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function lP(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function fP(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Sc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=fP(e[l-2])+e[l-7]+lP(e[l-15])+e[l-16]|0;for(var p=0;p<64;++p){var m=u+uP(s)+sP(s,a,c)+iP[p]+e[p]|0,x=cP(r)+aP(r,n,i)|0;u=c,c=a,a=s,s=o+m|0,o=i,i=n,n=r,r=m+x|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},Sc.prototype._hash=function(){var t=nP.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var nx=Sc,hP=kr.exports,dP=nx,pP=Ws,gP=wi.exports.Buffer,bP=new Array(64);function Rl(){this.init(),this._w=bP,pP.call(this,64,56)}hP(Rl,dP),Rl.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Rl.prototype._hash=function(){var t=gP.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var mP=Rl,vP=kr.exports,ix=Ws,yP=wi.exports.Buffer,ox=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],xP=new Array(160);function Ac(){this.init(),this._w=xP,ix.call(this,128,112)}vP(Ac,ix),Ac.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function sx(t,e,r){return r^t&(e^r)}function ax(t,e,r){return t&e|r&(t|e)}function cx(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function ux(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function wP(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function _P(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function EP(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function SP(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function jt(t,e){return t>>>0<e>>>0?1:0}Ac.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,l=this._al|0,p=this._bl|0,m=this._cl|0,x=this._dl|0,_=this._el|0,R=this._fl|0,y=this._gl|0,C=this._hl|0,T=0;T<32;T+=2)e[T]=t.readInt32BE(T*4),e[T+1]=t.readInt32BE(T*4+4);for(;T<160;T+=2){var P=e[T-30],D=e[T-15*2+1],j=wP(P,D),W=_P(D,P);P=e[T-2*2],D=e[T-2*2+1];var V=EP(P,D),G=SP(D,P),Q=e[T-7*2],F=e[T-7*2+1],g=e[T-16*2],A=e[T-16*2+1],v=W+F|0,f=j+Q+jt(v,W)|0;v=v+G|0,f=f+V+jt(v,G)|0,v=v+A|0,f=f+g+jt(v,A)|0,e[T]=f,e[T+1]=v}for(var h=0;h<160;h+=2){f=e[h],v=e[h+1];var w=ax(r,n,i),M=ax(l,p,m),S=cx(r,l),d=cx(l,r),I=ux(s,_),k=ux(_,s),b=ox[h],N=ox[h+1],q=sx(s,a,c),E=sx(_,R,y),O=C+k|0,U=u+I+jt(O,C)|0;O=O+E|0,U=U+q+jt(O,E)|0,O=O+N|0,U=U+b+jt(O,N)|0,O=O+v|0,U=U+f+jt(O,v)|0;var $=d+M|0,z=S+w+jt($,d)|0;u=c,C=y,c=a,y=R,a=s,R=_,_=x+O|0,s=o+U+jt(_,x)|0,o=i,x=m,i=n,m=p,n=r,p=l,l=O+$|0,r=U+z+jt(l,O)|0}this._al=this._al+l|0,this._bl=this._bl+p|0,this._cl=this._cl+m|0,this._dl=this._dl+x|0,this._el=this._el+_|0,this._fl=this._fl+R|0,this._gl=this._gl+y|0,this._hl=this._hl+C|0,this._ah=this._ah+r+jt(this._al,l)|0,this._bh=this._bh+n+jt(this._bl,p)|0,this._ch=this._ch+i+jt(this._cl,m)|0,this._dh=this._dh+o+jt(this._dl,x)|0,this._eh=this._eh+s+jt(this._el,_)|0,this._fh=this._fh+a+jt(this._fl,R)|0,this._gh=this._gh+c+jt(this._gl,y)|0,this._hh=this._hh+u+jt(this._hl,C)|0},Ac.prototype._hash=function(){var t=yP.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var lx=Ac,AP=kr.exports,CP=lx,kP=Ws,MP=wi.exports.Buffer,IP=new Array(160);function Tl(){this.init(),this._w=IP,kP.call(this,128,112)}AP(Tl,CP),Tl.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Tl.prototype._hash=function(){var t=MP.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var RP=Tl,Fo=Zy.exports=function(e){e=e.toLowerCase();var r=Fo[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Fo.sha=VT,Fo.sha1=tP,Fo.sha224=mP,Fo.sha256=nx,Fo.sha384=RP,Fo.sha512=lx;var ce={},TP=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},fx=typeof Symbol<"u"&&Symbol,PP=TP,NP=function(){return typeof fx!="function"||typeof Symbol!="function"||typeof fx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:PP()},OP="Function.prototype.bind called on incompatible ",a0=Array.prototype.slice,BP=Object.prototype.toString,LP="[object Function]",DP=function(e){var r=this;if(typeof r!="function"||BP.call(r)!==LP)throw new TypeError(OP+r);for(var n=a0.call(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,n.concat(a0.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(a0.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},FP=DP,c0=Function.prototype.bind||FP,UP=c0,jP=UP.call(Function.call,Object.prototype.hasOwnProperty),nt,qs=SyntaxError,hx=Function,Hs=TypeError,u0=function(t){try{return hx('"use strict"; return ('+t+").constructor;")()}catch{}},Uo=Object.getOwnPropertyDescriptor;if(Uo)try{Uo({},"")}catch{Uo=null}var l0=function(){throw new Hs},$P=Uo?function(){try{return arguments.callee,l0}catch{try{return Uo(arguments,"callee").get}catch{return l0}}}():l0,zs=NP(),Xi=Object.getPrototypeOf||function(t){return t.__proto__},Vs={},WP=typeof Uint8Array>"u"?nt:Xi(Uint8Array),Gs={"%AggregateError%":typeof AggregateError>"u"?nt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?nt:ArrayBuffer,"%ArrayIteratorPrototype%":zs?Xi([][Symbol.iterator]()):nt,"%AsyncFromSyncIteratorPrototype%":nt,"%AsyncFunction%":Vs,"%AsyncGenerator%":Vs,"%AsyncGeneratorFunction%":Vs,"%AsyncIteratorPrototype%":Vs,"%Atomics%":typeof Atomics>"u"?nt:Atomics,"%BigInt%":typeof BigInt>"u"?nt:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?nt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?nt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?nt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?nt:FinalizationRegistry,"%Function%":hx,"%GeneratorFunction%":Vs,"%Int8Array%":typeof Int8Array>"u"?nt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?nt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?nt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zs?Xi(Xi([][Symbol.iterator]())):nt,"%JSON%":typeof JSON=="object"?JSON:nt,"%Map%":typeof Map>"u"?nt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!zs?nt:Xi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?nt:Promise,"%Proxy%":typeof Proxy>"u"?nt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?nt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?nt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!zs?nt:Xi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?nt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zs?Xi(""[Symbol.iterator]()):nt,"%Symbol%":zs?Symbol:nt,"%SyntaxError%":qs,"%ThrowTypeError%":$P,"%TypedArray%":WP,"%TypeError%":Hs,"%Uint8Array%":typeof Uint8Array>"u"?nt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?nt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?nt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?nt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?nt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?nt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?nt:WeakSet},qP=function t(e){var r;if(e==="%AsyncFunction%")r=u0("async function () {}");else if(e==="%GeneratorFunction%")r=u0("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=u0("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Xi(i.prototype))}return Gs[e]=r,r},dx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Cc=c0,Pl=jP,HP=Cc.call(Function.call,Array.prototype.concat),zP=Cc.call(Function.apply,Array.prototype.splice),px=Cc.call(Function.call,String.prototype.replace),Nl=Cc.call(Function.call,String.prototype.slice),VP=Cc.call(Function.call,RegExp.prototype.exec),GP=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,KP=/\\(\\)?/g,JP=function(e){var r=Nl(e,0,1),n=Nl(e,-1);if(r==="%"&&n!=="%")throw new qs("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new qs("invalid intrinsic syntax, expected opening `%`");var i=[];return px(e,GP,function(o,s,a,c){i[i.length]=a?px(c,KP,"$1"):s||o}),i},QP=function(e,r){var n=e,i;if(Pl(dx,n)&&(i=dx[n],n="%"+i[0]+"%"),Pl(Gs,n)){var o=Gs[n];if(o===Vs&&(o=qP(n)),typeof o>"u"&&!r)throw new Hs("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new qs("intrinsic "+e+" does not exist!")},f0=function(e,r){if(typeof e!="string"||e.length===0)throw new Hs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Hs('"allowMissing" argument must be a boolean');if(VP(/^%?[^%]*%?$/,e)===null)throw new qs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=JP(e),i=n.length>0?n[0]:"",o=QP("%"+i+"%",r),s=o.name,a=o.value,c=!1,u=o.alias;u&&(i=u[0],zP(n,HP([0,1],u)));for(var l=1,p=!0;l<n.length;l+=1){var m=n[l],x=Nl(m,0,1),_=Nl(m,-1);if((x==='"'||x==="'"||x==="`"||_==='"'||_==="'"||_==="`")&&x!==_)throw new qs("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(c=!0),i+="."+m,s="%"+i+"%",Pl(Gs,s))a=Gs[s];else if(a!=null){if(!(m in a)){if(!r)throw new Hs("base intrinsic for "+e+" exists, but the property is not available.");return}if(Uo&&l+1>=n.length){var R=Uo(a,m);p=!!R,p&&"get"in R&&!("originalValue"in R.get)?a=R.get:a=a[m]}else p=Pl(a,m),a=a[m];p&&!c&&(Gs[s]=a)}}return a},gx={exports:{}};(function(t){var e=c0,r=f0,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(p){var m=o(e,i,arguments);if(s&&a){var x=s(m,"length");x.configurable&&a(m,"length",{value:1+c(0,p.length-(arguments.length-1))})}return m};var u=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(gx);var bx=f0,mx=gx.exports,YP=mx(bx("String.prototype.indexOf")),ZP=function(e,r){var n=bx(e,!!r);return typeof n=="function"&&YP(e,".prototype.")>-1?mx(n):n},XP=uu.default.inspect,h0=typeof Map=="function"&&Map.prototype,d0=Object.getOwnPropertyDescriptor&&h0?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ol=h0&&d0&&typeof d0.get=="function"?d0.get:null,eN=h0&&Map.prototype.forEach,p0=typeof Set=="function"&&Set.prototype,g0=Object.getOwnPropertyDescriptor&&p0?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Bl=p0&&g0&&typeof g0.get=="function"?g0.get:null,tN=p0&&Set.prototype.forEach,rN=typeof WeakMap=="function"&&WeakMap.prototype,kc=rN?WeakMap.prototype.has:null,nN=typeof WeakSet=="function"&&WeakSet.prototype,Mc=nN?WeakSet.prototype.has:null,iN=typeof WeakRef=="function"&&WeakRef.prototype,vx=iN?WeakRef.prototype.deref:null,oN=Boolean.prototype.valueOf,sN=Object.prototype.toString,aN=Function.prototype.toString,cN=String.prototype.match,b0=String.prototype.slice,eo=String.prototype.replace,uN=String.prototype.toUpperCase,yx=String.prototype.toLowerCase,xx=RegExp.prototype.test,wx=Array.prototype.concat,ei=Array.prototype.join,lN=Array.prototype.slice,_x=Math.floor,m0=typeof BigInt=="function"?BigInt.prototype.valueOf:null,v0=Object.getOwnPropertySymbols,y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="object",or=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ks?"object":"symbol")?Symbol.toStringTag:null,Ex=Object.prototype.propertyIsEnumerable,Sx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Ax(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||xx.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-_x(-t):_x(t);if(n!==t){var i=String(n),o=b0.call(e,i.length+1);return eo.call(i,r,"$&_")+"."+eo.call(eo.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return eo.call(e,r,"$&_")}var x0=XP,Cx=x0.custom,kx=Rx(Cx)?Cx:null,fN=function t(e,r,n,i){var o=r||{};if(to(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(to(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=to(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(to(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(to(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Px(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Ax(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Ax(e,u):u}var l=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return w0(e)?"[Array]":"[Object]";var p=IN(o,n);if(typeof i>"u")i=[];else if(Tx(i,e)>=0)return"[Circular]";function m(v,f,h){if(f&&(i=lN.call(i),i.push(f)),h){var w={depth:o.depth};return to(o,"quoteStyle")&&(w.quoteStyle=o.quoteStyle),t(v,w,n+1,i)}return t(v,o,n+1,i)}if(typeof e=="function"&&!Ix(e)){var x=xN(e),_=Ll(e,m);return"[Function"+(x?": "+x:" (anonymous)")+"]"+(_.length>0?" { "+ei.call(_,", ")+" }":"")}if(Rx(e)){var R=Ks?eo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):y0.call(e);return typeof e=="object"&&!Ks?Ic(R):R}if(CN(e)){for(var y="<"+yx.call(String(e.nodeName)),C=e.attributes||[],T=0;T<C.length;T++)y+=" "+C[T].name+"="+Mx(hN(C[T].value),"double",o);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+yx.call(String(e.nodeName))+">",y}if(w0(e)){if(e.length===0)return"[]";var P=Ll(e,m);return p&&!MN(P)?"["+E0(P,p)+"]":"[ "+ei.call(P,", ")+" ]"}if(pN(e)){var D=Ll(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!Ex.call(e,"cause")?"{ ["+String(e)+"] "+ei.call(wx.call("[cause]: "+m(e.cause),D),", ")+" }":D.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ei.call(D,", ")+" }"}if(typeof e=="object"&&s){if(kx&&typeof e[kx]=="function"&&x0)return x0(e,{depth:l-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(wN(e)){var j=[];return eN.call(e,function(v,f){j.push(m(f,e,!0)+" => "+m(v,e))}),Nx("Map",Ol.call(e),j,p)}if(SN(e)){var W=[];return tN.call(e,function(v){W.push(m(v,e))}),Nx("Set",Bl.call(e),W,p)}if(_N(e))return _0("WeakMap");if(AN(e))return _0("WeakSet");if(EN(e))return _0("WeakRef");if(bN(e))return Ic(m(Number(e)));if(vN(e))return Ic(m(m0.call(e)));if(mN(e))return Ic(oN.call(e));if(gN(e))return Ic(m(String(e)));if(!dN(e)&&!Ix(e)){var V=Ll(e,m),G=Sx?Sx(e)===Object.prototype:e instanceof Object||e.constructor===Object,Q=e instanceof Object?"":"null prototype",F=!G&&or&&Object(e)===e&&or in e?b0.call(ro(e),8,-1):Q?"Object":"",g=G||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",A=g+(F||Q?"["+ei.call(wx.call([],F||[],Q||[]),": ")+"] ":"");return V.length===0?A+"{}":p?A+"{"+E0(V,p)+"}":A+"{ "+ei.call(V,", ")+" }"}return String(e)};function Mx(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function hN(t){return eo.call(String(t),/"/g,"&quot;")}function w0(t){return ro(t)==="[object Array]"&&(!or||!(typeof t=="object"&&or in t))}function dN(t){return ro(t)==="[object Date]"&&(!or||!(typeof t=="object"&&or in t))}function Ix(t){return ro(t)==="[object RegExp]"&&(!or||!(typeof t=="object"&&or in t))}function pN(t){return ro(t)==="[object Error]"&&(!or||!(typeof t=="object"&&or in t))}function gN(t){return ro(t)==="[object String]"&&(!or||!(typeof t=="object"&&or in t))}function bN(t){return ro(t)==="[object Number]"&&(!or||!(typeof t=="object"&&or in t))}function mN(t){return ro(t)==="[object Boolean]"&&(!or||!(typeof t=="object"&&or in t))}function Rx(t){if(Ks)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!y0)return!1;try{return y0.call(t),!0}catch{}return!1}function vN(t){if(!t||typeof t!="object"||!m0)return!1;try{return m0.call(t),!0}catch{}return!1}var yN=Object.prototype.hasOwnProperty||function(t){return t in this};function to(t,e){return yN.call(t,e)}function ro(t){return sN.call(t)}function xN(t){if(t.name)return t.name;var e=cN.call(aN.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Tx(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function wN(t){if(!Ol||!t||typeof t!="object")return!1;try{Ol.call(t);try{Bl.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function _N(t){if(!kc||!t||typeof t!="object")return!1;try{kc.call(t,kc);try{Mc.call(t,Mc)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function EN(t){if(!vx||!t||typeof t!="object")return!1;try{return vx.call(t),!0}catch{}return!1}function SN(t){if(!Bl||!t||typeof t!="object")return!1;try{Bl.call(t);try{Ol.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function AN(t){if(!Mc||!t||typeof t!="object")return!1;try{Mc.call(t,Mc);try{kc.call(t,kc)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function CN(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Px(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Px(b0.call(t,0,e.maxStringLength),e)+n}var i=eo.call(eo.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,kN);return Mx(i,"single",e)}function kN(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+uN.call(e.toString(16))}function Ic(t){return"Object("+t+")"}function _0(t){return t+" { ? }"}function Nx(t,e,r,n){var i=n?E0(r,n):ei.call(r,", ");return t+" ("+e+") {"+i+"}"}function MN(t){for(var e=0;e<t.length;e++)if(Tx(t[e],`
`)>=0)return!1;return!0}function IN(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ei.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ei.call(Array(e+1),r)}}function E0(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ei.call(t,","+r)+`
`+e.prev}function Ll(t,e){var r=w0(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=to(t,i)?e(t[i],t):""}var o=typeof v0=="function"?v0(t):[],s;if(Ks){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var c in t)!to(t,c)||r&&String(Number(c))===c&&c<t.length||Ks&&s["$"+c]instanceof Symbol||(xx.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof v0=="function")for(var u=0;u<o.length;u++)Ex.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}var S0=f0,Js=ZP,RN=fN,TN=S0("%TypeError%"),Dl=S0("%WeakMap%",!0),Fl=S0("%Map%",!0),PN=Js("WeakMap.prototype.get",!0),NN=Js("WeakMap.prototype.set",!0),ON=Js("WeakMap.prototype.has",!0),BN=Js("Map.prototype.get",!0),LN=Js("Map.prototype.set",!0),DN=Js("Map.prototype.has",!0),A0=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},FN=function(t,e){var r=A0(t,e);return r&&r.value},UN=function(t,e,r){var n=A0(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},jN=function(t,e){return!!A0(t,e)},$N=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new TN("Side channel does not contain "+RN(o))},get:function(o){if(Dl&&o&&(typeof o=="object"||typeof o=="function")){if(e)return PN(e,o)}else if(Fl){if(r)return BN(r,o)}else if(n)return FN(n,o)},has:function(o){if(Dl&&o&&(typeof o=="object"||typeof o=="function")){if(e)return ON(e,o)}else if(Fl){if(r)return DN(r,o)}else if(n)return jN(n,o);return!1},set:function(o,s){Dl&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Dl),NN(e,o,s)):Fl?(r||(r=new Fl),LN(r,o,s)):(n||(n={key:{},next:null}),UN(n,o,s))}};return i},WN=String.prototype.replace,qN=/%20/g,C0={RFC1738:"RFC1738",RFC3986:"RFC3986"},k0={default:C0.RFC3986,formatters:{RFC1738:function(t){return WN.call(t,qN,"+")},RFC3986:function(t){return String(t)}},RFC1738:C0.RFC1738,RFC3986:C0.RFC3986},HN=k0,M0=Object.prototype.hasOwnProperty,jo=Array.isArray,ti=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),zN=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(jo(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},Ox=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},VN=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(jo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!M0.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return jo(e)&&!jo(r)&&(i=Ox(e,n)),jo(e)&&jo(r)?(r.forEach(function(o,s){if(M0.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return M0.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},GN=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},KN=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},JN=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<s.length;++c){var u=s.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===HN.RFC1738&&(u===40||u===41)){a+=s.charAt(c);continue}if(u<128){a=a+ti[u];continue}if(u<2048){a=a+(ti[192|u>>6]+ti[128|u&63]);continue}if(u<55296||u>=57344){a=a+(ti[224|u>>12]+ti[128|u>>6&63]+ti[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|s.charCodeAt(c)&1023),a+=ti[240|u>>18]+ti[128|u>>12&63]+ti[128|u>>6&63]+ti[128|u&63]}return a},QN=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:u}),n.push(l))}return zN(r),e},YN=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ZN=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},XN=function(e,r){return[].concat(e,r)},eO=function(e,r){if(jo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Bx={arrayToObject:Ox,assign:GN,combine:XN,compact:QN,decode:KN,encode:JN,isBuffer:ZN,isRegExp:YN,maybeMap:eO,merge:VN},Lx=$N,I0=Bx,Rc=k0,tO=Object.prototype.hasOwnProperty,Dx={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},_i=Array.isArray,rO=String.prototype.split,nO=Array.prototype.push,Fx=function(t,e){nO.apply(t,_i(e)?e:[e])},iO=Date.prototype.toISOString,Ux=Rc.default,Qt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:I0.encode,encodeValuesOnly:!1,format:Ux,formatter:Rc.formatters[Ux],indices:!1,serializeDate:function(e){return iO.call(e)},skipNulls:!1,strictNullHandling:!1},oO=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},R0={},sO=function t(e,r,n,i,o,s,a,c,u,l,p,m,x,_,R,y){for(var C=e,T=y,P=0,D=!1;(T=T.get(R0))!==void 0&&!D;){var j=T.get(e);if(P+=1,typeof j<"u"){if(j===P)throw new RangeError("Cyclic object value");D=!0}typeof T.get(R0)>"u"&&(P=0)}if(typeof c=="function"?C=c(r,C):C instanceof Date?C=p(C):n==="comma"&&_i(C)&&(C=I0.maybeMap(C,function(d){return d instanceof Date?p(d):d})),C===null){if(o)return a&&!_?a(r,Qt.encoder,R,"key",m):r;C=""}if(oO(C)||I0.isBuffer(C)){if(a){var W=_?r:a(r,Qt.encoder,R,"key",m);if(n==="comma"&&_){for(var V=rO.call(String(C),","),G="",Q=0;Q<V.length;++Q)G+=(Q===0?"":",")+x(a(V[Q],Qt.encoder,R,"value",m));return[x(W)+(i&&_i(C)&&V.length===1?"[]":"")+"="+G]}return[x(W)+"="+x(a(C,Qt.encoder,R,"value",m))]}return[x(r)+"="+x(String(C))]}var F=[];if(typeof C>"u")return F;var g;if(n==="comma"&&_i(C))g=[{value:C.length>0?C.join(",")||null:void 0}];else if(_i(c))g=c;else{var A=Object.keys(C);g=u?A.sort(u):A}for(var v=i&&_i(C)&&C.length===1?r+"[]":r,f=0;f<g.length;++f){var h=g[f],w=typeof h=="object"&&typeof h.value<"u"?h.value:C[h];if(!(s&&w===null)){var M=_i(C)?typeof n=="function"?n(v,h):v:v+(l?"."+h:"["+h+"]");y.set(e,P);var S=Lx();S.set(R0,y),Fx(F,t(w,M,n,i,o,s,a,c,u,l,p,m,x,_,R,S))}}return F},aO=function(e){if(!e)return Qt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Qt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Rc.default;if(typeof e.format<"u"){if(!tO.call(Rc.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Rc.formatters[n],o=Qt.filter;return(typeof e.filter=="function"||_i(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Qt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Qt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Qt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Qt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Qt.encode,encoder:typeof e.encoder=="function"?e.encoder:Qt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Qt.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Qt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Qt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Qt.strictNullHandling}},cO=function(t,e){var r=t,n=aO(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):_i(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Dx?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Dx[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=Lx(),p=0;p<i.length;++p){var m=i[p];n.skipNulls&&r[m]===null||Fx(s,sO(r[m],m,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var x=s.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),x.length>0?_+x:""},Qs=Bx,T0=Object.prototype.hasOwnProperty,uO=Array.isArray,$t={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Qs.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lO=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},jx=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},fO="utf8=%26%2310003%3B",hO="utf8=%E2%9C%93",dO=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,o),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<s.length;++c)s[c].indexOf("utf8=")===0&&(s[c]===hO?u="utf-8":s[c]===fO&&(u="iso-8859-1"),a=c,c=s.length);for(c=0;c<s.length;++c)if(c!==a){var l=s[c],p=l.indexOf("]="),m=p===-1?l.indexOf("="):p+1,x,_;m===-1?(x=r.decoder(l,$t.decoder,u,"key"),_=r.strictNullHandling?null:""):(x=r.decoder(l.slice(0,m),$t.decoder,u,"key"),_=Qs.maybeMap(jx(l.slice(m+1),r),function(R){return r.decoder(R,$t.decoder,u,"value")})),_&&r.interpretNumericEntities&&u==="iso-8859-1"&&(_=lO(_)),l.indexOf("[]=")>-1&&(_=uO(_)?[_]:_),T0.call(n,x)?n[x]=Qs.combine(n[x],_):n[x]=_}return n},pO=function(t,e,r,n){for(var i=n?e:jx(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?s={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(s=[],s[u]=i):c!=="__proto__"&&(s[c]=i)}i=s}return i},gO=function(e,r,n,i){if(!!e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&s.exec(o),u=c?o.slice(0,c.index):o,l=[];if(u){if(!n.plainObjects&&T0.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var p=0;n.depth>0&&(c=a.exec(o))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&T0.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+o.slice(c.index)+"]"),pO(l,r,n,i)}},bO=function(e){if(!e)return $t;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?$t.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?$t.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:$t.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:$t.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:$t.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$t.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:$t.comma,decoder:typeof e.decoder=="function"?e.decoder:$t.decoder,delimiter:typeof e.delimiter=="string"||Qs.isRegExp(e.delimiter)?e.delimiter:$t.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:$t.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:$t.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:$t.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:$t.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$t.strictNullHandling}},mO=function(t,e){var r=bO(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?dO(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],c=gO(a,n[a],r,typeof t=="string");i=Qs.merge(i,c,r)}return r.allowSparse===!0?i:Qs.compact(i)},vO=cO,yO=mO,xO=k0,wO={formats:xO,parse:yO,stringify:vO},Tc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Tc);var _O=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ce,"__esModule",{value:!0}),ce.isInIFrame=ce.createQrUrl=ce.getFavicon=ce.range=ce.isBigNumber=ce.ensureParsedJSONObject=ce.ensureBN=ce.ensureRegExpString=ce.ensureIntNumber=ce.ensureBuffer=ce.ensureAddressString=ce.ensureEvenLengthHexString=ce.ensureHexString=ce.isHexString=ce.prepend0x=ce.strip0x=ce.has0xPrefix=ce.hexStringFromIntNumber=ce.intNumberFromHexString=ce.bigIntStringFromBN=ce.hexStringFromBuffer=ce.hexStringToUint8Array=ce.uint8ArrayToHex=ce.randomBytesHex=void 0;const no=_O(es.exports),EO=wO,un=Tc,$x=/^[0-9]*$/,Wx=/^[a-f0-9]*$/;function SO(t){return qx(crypto.getRandomValues(new Uint8Array(t)))}ce.randomBytesHex=SO;function qx(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}ce.uint8ArrayToHex=qx;function AO(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}ce.hexStringToUint8Array=AO;function CO(t,e=!1){const r=t.toString("hex");return(0,un.HexString)(e?"0x"+r:r)}ce.hexStringFromBuffer=CO;function kO(t){return(0,un.BigIntString)(t.toString(10))}ce.bigIntStringFromBN=kO;function MO(t){return(0,un.IntNumber)(new no.default(Nc(t,!1),16).toNumber())}ce.intNumberFromHexString=MO;function IO(t){return(0,un.HexString)("0x"+new no.default(t).toString(16))}ce.hexStringFromIntNumber=IO;function P0(t){return t.startsWith("0x")||t.startsWith("0X")}ce.has0xPrefix=P0;function Ul(t){return P0(t)?t.slice(2):t}ce.strip0x=Ul;function Hx(t){return P0(t)?"0x"+t.slice(2):"0x"+t}ce.prepend0x=Hx;function Pc(t){if(typeof t!="string")return!1;const e=Ul(t).toLowerCase();return Wx.test(e)}ce.isHexString=Pc;function zx(t,e=!1){if(typeof t=="string"){const r=Ul(t).toLowerCase();if(Wx.test(r))return(0,un.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}ce.ensureHexString=zx;function Nc(t,e=!1){let r=zx(t,!1);return r.length%2===1&&(r=(0,un.HexString)("0"+r)),e?(0,un.HexString)("0x"+r):r}ce.ensureEvenLengthHexString=Nc;function RO(t){if(typeof t=="string"){const e=Ul(t).toLowerCase();if(Pc(e)&&e.length===40)return(0,un.AddressString)(Hx(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}ce.ensureAddressString=RO;function TO(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Pc(t)){const e=Nc(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}ce.ensureBuffer=TO;function Vx(t){if(typeof t=="number"&&Number.isInteger(t))return(0,un.IntNumber)(t);if(typeof t=="string"){if($x.test(t))return(0,un.IntNumber)(Number(t));if(Pc(t))return(0,un.IntNumber)(new no.default(Nc(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}ce.ensureIntNumber=Vx;function PO(t){if(t instanceof RegExp)return(0,un.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}ce.ensureRegExpString=PO;function NO(t){if(t!==null&&(no.default.isBN(t)||Gx(t)))return new no.default(t.toString(10),10);if(typeof t=="number")return new no.default(Vx(t));if(typeof t=="string"){if($x.test(t))return new no.default(t,10);if(Pc(t))return new no.default(Nc(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}ce.ensureBN=NO;function OO(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}ce.ensureParsedJSONObject=OO;function Gx(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}ce.isBigNumber=Gx;function BO(t,e){return Array.from({length:e-t},(r,n)=>t+n)}ce.range=BO;function LO(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}ce.getFavicon=LO;function DO(t,e,r,n,i,o){const s=n?"parent-id":"id",a=(0,EO.stringify)({[s]:t,secret:e,server:r,v:i,chainId:o});return`${r}/#/link?${a}`}ce.createQrUrl=DO;function FO(){try{return window.frameElement!==null}catch{return!1}}ce.isInIFrame=FO,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.Session=void 0;const UO=$s,Kx=Ml,Jx=Zy.exports,Qx=ce,N0="session:id",Yx="session:secret",Zx="session:linked";class O0{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Qx.randomBytesHex)(16),this._secret=n||(0,Qx.randomBytesHex)(32),this._key=new Jx.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(N0),n=e.getItem(Zx),i=e.getItem(Yx);return r&&i?new O0(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,UO.fromEvent)(window,"storage").pipe((0,Kx.filter)(e=>e.key===N0),(0,Kx.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new Jx.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(N0,this._id),this._storage.setItem(Yx,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Zx,this._linked?"1":"0")}}Ps.Session=O0;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.WalletSDKRelayAbstract=En.APP_VERSION_KEY=En.LOCAL_STORAGE_ADDRESSES_KEY=En.WALLET_USER_NAME_KEY=void 0;const Xx=lc;En.WALLET_USER_NAME_KEY="walletUsername",En.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",En.APP_VERSION_KEY="AppVersion";class jO{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Xx.ethErrors.rpc.parse({});const i=n,{error:o}=i;if(o)throw(0,Xx.serializeError)(o);return i})}}En.WalletSDKRelayAbstract=jO;var jl={exports:{}},B0={exports:{}};(function(t){t.exports=Q4.default})(B0);var L0,ew;function $O(){if(ew)return L0;ew=1;function t(m,x){var _=Object.keys(m);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(m);x&&(R=R.filter(function(y){return Object.getOwnPropertyDescriptor(m,y).enumerable})),_.push.apply(_,R)}return _}function e(m){for(var x=1;x<arguments.length;x++){var _=arguments[x]!=null?arguments[x]:{};x%2?t(Object(_),!0).forEach(function(R){r(m,R,_[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(_)):t(Object(_)).forEach(function(R){Object.defineProperty(m,R,Object.getOwnPropertyDescriptor(_,R))})}return m}function r(m,x,_){return x in m?Object.defineProperty(m,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[x]=_,m}function n(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function i(m,x){for(var _=0;_<x.length;_++){var R=x[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(m,R.key,R)}}function o(m,x,_){return x&&i(m.prototype,x),_&&i(m,_),m}var s=Aa.default,a=s.Buffer,c=uu.default,u=c.inspect,l=u&&u.custom||"inspect";function p(m,x,_){a.prototype.copy.call(m,x,_)}return L0=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return o(m,[{key:"push",value:function(_){var R={data:_,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(_){var R={data:_,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var R=this.head,y=""+R.data;R=R.next;)y+=_+R.data;return y}},{key:"concat",value:function(_){if(this.length===0)return a.alloc(0);for(var R=a.allocUnsafe(_>>>0),y=this.head,C=0;y;)p(y.data,R,C),C+=y.data.length,y=y.next;return R}},{key:"consume",value:function(_,R){var y;return _<this.head.data.length?(y=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?y=this.shift():y=R?this._getString(_):this._getBuffer(_),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var R=this.head,y=1,C=R.data;for(_-=C.length;R=R.next;){var T=R.data,P=_>T.length?T.length:_;if(P===T.length?C+=T:C+=T.slice(0,_),_-=P,_===0){P===T.length?(++y,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=T.slice(P));break}++y}return this.length-=y,C}},{key:"_getBuffer",value:function(_){var R=a.allocUnsafe(_),y=this.head,C=1;for(y.data.copy(R),_-=y.data.length;y=y.next;){var T=y.data,P=_>T.length?T.length:_;if(T.copy(R,R.length-_,0,P),_-=P,_===0){P===T.length?(++C,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=T.slice(P));break}++C}return this.length-=C,R}},{key:l,value:function(_,R){return u(this,e({},R,{depth:0,customInspect:!1}))}}]),m}(),L0}function WO(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(D0,this,t)):process.nextTick(D0,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick($l,r):(r._writableState.errorEmitted=!0,process.nextTick(tw,r,o)):process.nextTick(tw,r,o):e?(process.nextTick($l,r),e(o)):process.nextTick($l,r)}),this)}function tw(t,e){D0(t,e),$l(t)}function $l(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function qO(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function D0(t,e){t.emit("error",e)}function HO(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var rw={destroy:WO,undestroy:qO,errorOrDestroy:HO},io={};const nw={};function ln(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,c){super(n(s,a,c))}}i.prototype.name=r.name,i.prototype.code=t,nw[t]=i}function iw(t,e){if(Array.isArray(t)){const r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function zO(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function VO(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function GO(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ln("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),ln("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&zO(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(VO(t," argument"))i=`The ${t} ${n} ${iw(e,"type")}`;else{const o=GO(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${iw(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError),ln("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ln("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),ln("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ln("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),ln("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ln("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ln("ERR_STREAM_WRITE_AFTER_END","write after end"),ln("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ln("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),ln("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),io.codes=nw;var KO=io.codes.ERR_INVALID_OPT_VALUE;function JO(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function QO(t,e,r,n){var i=JO(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new KO(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var ow={getHighWaterMark:QO},F0,sw;function YO(){if(sw)return F0;sw=1,F0=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function o(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return o}function e(r){try{if(!ae.localStorage)return!1}catch{return!1}var n=ae.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return F0}var U0,aw;function cw(){if(aw)return U0;aw=1,U0=G;function t(O){var U=this;this.next=null,this.entry=null,this.finish=function(){E(U,O)}}var e;G.WritableState=W;var r={deprecate:YO()},n=B0.exports,i=Aa.default.Buffer,o=ae.Uint8Array||function(){};function s(O){return i.from(O)}function a(O){return i.isBuffer(O)||O instanceof o}var c=rw,u=ow,l=u.getHighWaterMark,p=io.codes,m=p.ERR_INVALID_ARG_TYPE,x=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,R=p.ERR_STREAM_CANNOT_PIPE,y=p.ERR_STREAM_DESTROYED,C=p.ERR_STREAM_NULL_VALUES,T=p.ERR_STREAM_WRITE_AFTER_END,P=p.ERR_UNKNOWN_ENCODING,D=c.errorOrDestroy;kr.exports(G,n);function j(){}function W(O,U,$){e=e||Ys(),O=O||{},typeof $!="boolean"&&($=U instanceof e),this.objectMode=!!O.objectMode,$&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=l(this,O,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=O.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){w(U,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}W.prototype.getBuffer=function(){for(var U=this.bufferedRequest,$=[];U;)$.push(U),U=U.next;return $},function(){try{Object.defineProperty(W.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var V;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(V=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(U){return V.call(this,U)?!0:this!==G?!1:U&&U._writableState instanceof W}})):V=function(U){return U instanceof this};function G(O){e=e||Ys();var U=this instanceof e;if(!U&&!V.call(G,this))return new G(O);this._writableState=new W(O,this,U),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),n.call(this)}G.prototype.pipe=function(){D(this,new R)};function Q(O,U){var $=new T;D(O,$),process.nextTick(U,$)}function F(O,U,$,z){var Z;return $===null?Z=new C:typeof $!="string"&&!U.objectMode&&(Z=new m("chunk",["string","Buffer"],$)),Z?(D(O,Z),process.nextTick(z,Z),!1):!0}G.prototype.write=function(O,U,$){var z=this._writableState,Z=!1,B=!z.objectMode&&a(O);return B&&!i.isBuffer(O)&&(O=s(O)),typeof U=="function"&&($=U,U=null),B?U="buffer":U||(U=z.defaultEncoding),typeof $!="function"&&($=j),z.ending?Q(this,$):(B||F(this,z,O,$))&&(z.pendingcb++,Z=A(this,z,B,O,U,$)),Z},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&d(this,O))},G.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new P(U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function g(O,U,$){return!O.objectMode&&O.decodeStrings!==!1&&typeof U=="string"&&(U=i.from(U,$)),U}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function A(O,U,$,z,Z,B){if(!$){var L=g(U,z,Z);z!==L&&($=!0,Z="buffer",z=L)}var Y=U.objectMode?1:z.length;U.length+=Y;var K=U.length<U.highWaterMark;if(K||(U.needDrain=!0),U.writing||U.corked){var ne=U.lastBufferedRequest;U.lastBufferedRequest={chunk:z,encoding:Z,isBuf:$,callback:B,next:null},ne?ne.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else v(O,U,!1,Y,z,Z,B);return K}function v(O,U,$,z,Z,B,L){U.writelen=z,U.writecb=L,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new y("write")):$?O._writev(Z,U.onwrite):O._write(Z,B,U.onwrite),U.sync=!1}function f(O,U,$,z,Z){--U.pendingcb,$?(process.nextTick(Z,z),process.nextTick(N,O,U),O._writableState.errorEmitted=!0,D(O,z)):(Z(z),O._writableState.errorEmitted=!0,D(O,z),N(O,U))}function h(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function w(O,U){var $=O._writableState,z=$.sync,Z=$.writecb;if(typeof Z!="function")throw new _;if(h($),U)f(O,$,z,U,Z);else{var B=I($)||O.destroyed;!B&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&d(O,$),z?process.nextTick(M,O,$,B,Z):M(O,$,B,Z)}}function M(O,U,$,z){$||S(O,U),U.pendingcb--,z(),N(O,U)}function S(O,U){U.length===0&&U.needDrain&&(U.needDrain=!1,O.emit("drain"))}function d(O,U){U.bufferProcessing=!0;var $=U.bufferedRequest;if(O._writev&&$&&$.next){var z=U.bufferedRequestCount,Z=new Array(z),B=U.corkedRequestsFree;B.entry=$;for(var L=0,Y=!0;$;)Z[L]=$,$.isBuf||(Y=!1),$=$.next,L+=1;Z.allBuffers=Y,v(O,U,!0,U.length,Z,"",B.finish),U.pendingcb++,U.lastBufferedRequest=null,B.next?(U.corkedRequestsFree=B.next,B.next=null):U.corkedRequestsFree=new t(U),U.bufferedRequestCount=0}else{for(;$;){var K=$.chunk,ne=$.encoding,ve=$.callback,ie=U.objectMode?1:K.length;if(v(O,U,!1,ie,K,ne,ve),$=$.next,U.bufferedRequestCount--,U.writing)break}$===null&&(U.lastBufferedRequest=null)}U.bufferedRequest=$,U.bufferProcessing=!1}G.prototype._write=function(O,U,$){$(new x("_write()"))},G.prototype._writev=null,G.prototype.end=function(O,U,$){var z=this._writableState;return typeof O=="function"?($=O,O=null,U=null):typeof U=="function"&&($=U,U=null),O!=null&&this.write(O,U),z.corked&&(z.corked=1,this.uncork()),z.ending||q(this,z,$),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function I(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function k(O,U){O._final(function($){U.pendingcb--,$&&D(O,$),U.prefinished=!0,O.emit("prefinish"),N(O,U)})}function b(O,U){!U.prefinished&&!U.finalCalled&&(typeof O._final=="function"&&!U.destroyed?(U.pendingcb++,U.finalCalled=!0,process.nextTick(k,O,U)):(U.prefinished=!0,O.emit("prefinish")))}function N(O,U){var $=I(U);if($&&(b(O,U),U.pendingcb===0&&(U.finished=!0,O.emit("finish"),U.autoDestroy))){var z=O._readableState;(!z||z.autoDestroy&&z.endEmitted)&&O.destroy()}return $}function q(O,U,$){U.ending=!0,N(O,U),$&&(U.finished?process.nextTick($):O.once("finish",$)),U.ended=!0,O.writable=!1}function E(O,U,$){var z=O.entry;for(O.entry=null;z;){var Z=z.callback;U.pendingcb--,Z($),z=z.next}U.corkedRequestsFree.next=O}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(U){!this._writableState||(this._writableState.destroyed=U)}}),G.prototype.destroy=c.destroy,G.prototype._undestroy=c.undestroy,G.prototype._destroy=function(O,U){U(O)},U0}var j0,uw;function Ys(){if(uw)return j0;uw=1;var t=Object.keys||function(u){var l=[];for(var p in u)l.push(p);return l};j0=s;var e=gw(),r=cw();kr.exports(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(u){if(!(this instanceof s))return new s(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),j0}var lw=io.codes.ERR_STREAM_PREMATURE_CLOSE;function ZO(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function XO(){}function eB(t){return t.setHeader&&typeof t.abort=="function"}function fw(t,e,r){if(typeof e=="function")return fw(t,null,e);e||(e={}),r=ZO(r||XO);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},l=function(_){r.call(t,_)},p=function(){var _;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(_=new lw),r.call(t,_);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(_=new lw),r.call(t,_)},m=function(){t.req.on("finish",a)};return eB(t)?(t.on("complete",a),t.on("abort",p),t.req?m():t.on("request",m)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",p)}}var $0=fw,W0,hw;function tB(){if(hw)return W0;hw=1;var t;function e(C,T,P){return T in C?Object.defineProperty(C,T,{value:P,enumerable:!0,configurable:!0,writable:!0}):C[T]=P,C}var r=$0,n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function l(C,T){return{value:C,done:T}}function p(C){var T=C[n];if(T!==null){var P=C[u].read();P!==null&&(C[a]=null,C[n]=null,C[i]=null,T(l(P,!1)))}}function m(C){process.nextTick(p,C)}function x(C,T){return function(P,D){C.then(function(){if(T[s]){P(l(void 0,!0));return}T[c](P,D)},D)}}var _=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var T=this,P=this[o];if(P!==null)return Promise.reject(P);if(this[s])return Promise.resolve(l(void 0,!0));if(this[u].destroyed)return new Promise(function(V,G){process.nextTick(function(){T[o]?G(T[o]):V(l(void 0,!0))})});var D=this[a],j;if(D)j=new Promise(x(D,this));else{var W=this[u].read();if(W!==null)return Promise.resolve(l(W,!1));j=new Promise(this[c])}return this[a]=j,j}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var T=this;return new Promise(function(P,D){T[u].destroy(null,function(j){if(j){D(j);return}P(l(void 0,!0))})})}),t),_),y=function(T){var P,D=Object.create(R,(P={},e(P,u,{value:T,writable:!0}),e(P,n,{value:null,writable:!0}),e(P,i,{value:null,writable:!0}),e(P,o,{value:null,writable:!0}),e(P,s,{value:T._readableState.endEmitted,writable:!0}),e(P,c,{value:function(W,V){var G=D[u].read();G?(D[a]=null,D[n]=null,D[i]=null,W(l(G,!1))):(D[n]=W,D[i]=V)},writable:!0}),P));return D[a]=null,r(T,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=D[i];W!==null&&(D[a]=null,D[n]=null,D[i]=null,W(j)),D[o]=j;return}var V=D[n];V!==null&&(D[a]=null,D[n]=null,D[i]=null,V(l(void 0,!0))),D[s]=!0}),T.on("readable",m.bind(null,D)),D};return W0=y,W0}var q0,dw;function rB(){if(dw)return q0;dw=1;function t(a,c,u,l,p,m,x){try{var _=a[m](x),R=_.value}catch(y){u(y);return}_.done?c(R):Promise.resolve(R).then(l,p)}function e(a){return function(){var c=this,u=arguments;return new Promise(function(l,p){var m=a.apply(c,u);function x(R){t(m,l,p,x,_,"next",R)}function _(R){t(m,l,p,x,_,"throw",R)}x(void 0)})}}function r(a,c){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);c&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(a,p).enumerable})),u.push.apply(u,l)}return u}function n(a){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?r(Object(u),!0).forEach(function(l){i(a,l,u[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):r(Object(u)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(u,l))})}return a}function i(a,c,u){return c in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,a}var o=io.codes.ERR_INVALID_ARG_TYPE;function s(a,c,u){var l;if(c&&typeof c.next=="function")l=c;else if(c&&c[Symbol.asyncIterator])l=c[Symbol.asyncIterator]();else if(c&&c[Symbol.iterator])l=c[Symbol.iterator]();else throw new o("iterable",["Iterable"],c);var p=new a(n({objectMode:!0},u)),m=!1;p._read=function(){m||(m=!0,x())};function x(){return _.apply(this,arguments)}function _(){return _=e(function*(){try{var R=yield l.next(),y=R.value,C=R.done;C?p.push(null):p.push(yield y)?x():m=!1}catch(T){p.destroy(T)}}),_.apply(this,arguments)}return p}return q0=s,q0}var H0,pw;function gw(){if(pw)return H0;pw=1,H0=Q;var t;Q.ReadableState=G,Lg.default.EventEmitter;var e=function(L,Y){return L.listeners(Y).length},r=B0.exports,n=Aa.default.Buffer,i=ae.Uint8Array||function(){};function o(B){return n.from(B)}function s(B){return n.isBuffer(B)||B instanceof i}var a=uu.default,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var u=$O(),l=rw,p=ow,m=p.getHighWaterMark,x=io.codes,_=x.ERR_INVALID_ARG_TYPE,R=x.ERR_STREAM_PUSH_AFTER_EOF,y=x.ERR_METHOD_NOT_IMPLEMENTED,C=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,T,P,D;kr.exports(Q,r);var j=l.errorOrDestroy,W=["error","close","destroy","pause","resume"];function V(B,L,Y){if(typeof B.prependListener=="function")return B.prependListener(L,Y);!B._events||!B._events[L]?B.on(L,Y):Array.isArray(B._events[L])?B._events[L].unshift(Y):B._events[L]=[Y,B._events[L]]}function G(B,L,Y){t=t||Ys(),B=B||{},typeof Y!="boolean"&&(Y=L instanceof t),this.objectMode=!!B.objectMode,Y&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=m(this,B,"readableHighWaterMark",Y),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(T||(T=Dg.default.StringDecoder),this.decoder=new T(B.encoding),this.encoding=B.encoding)}function Q(B){if(t=t||Ys(),!(this instanceof Q))return new Q(B);var L=this instanceof t;this._readableState=new G(B,this,L),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),r.call(this)}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){!this._readableState||(this._readableState.destroyed=L)}}),Q.prototype.destroy=l.destroy,Q.prototype._undestroy=l.undestroy,Q.prototype._destroy=function(B,L){L(B)},Q.prototype.push=function(B,L){var Y=this._readableState,K;return Y.objectMode?K=!0:typeof B=="string"&&(L=L||Y.defaultEncoding,L!==Y.encoding&&(B=n.from(B,L),L=""),K=!0),F(this,B,L,!1,K)},Q.prototype.unshift=function(B){return F(this,B,null,!0,!1)};function F(B,L,Y,K,ne){c("readableAddChunk",L);var ve=B._readableState;if(L===null)ve.reading=!1,w(B,ve);else{var ie;if(ne||(ie=A(ve,L)),ie)j(B,ie);else if(ve.objectMode||L&&L.length>0)if(typeof L!="string"&&!ve.objectMode&&Object.getPrototypeOf(L)!==n.prototype&&(L=o(L)),K)ve.endEmitted?j(B,new C):g(B,ve,L,!0);else if(ve.ended)j(B,new R);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!Y?(L=ve.decoder.write(L),ve.objectMode||L.length!==0?g(B,ve,L,!1):d(B,ve)):g(B,ve,L,!1)}else K||(ve.reading=!1,d(B,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function g(B,L,Y,K){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,B.emit("data",Y)):(L.length+=L.objectMode?1:Y.length,K?L.buffer.unshift(Y):L.buffer.push(Y),L.needReadable&&M(B)),d(B,L)}function A(B,L){var Y;return!s(L)&&typeof L!="string"&&L!==void 0&&!B.objectMode&&(Y=new _("chunk",["string","Buffer","Uint8Array"],L)),Y}Q.prototype.isPaused=function(){return this._readableState.flowing===!1},Q.prototype.setEncoding=function(B){T||(T=Dg.default.StringDecoder);var L=new T(B);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,K="";Y!==null;)K+=L.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var v=1073741824;function f(B){return B>=v?B=v:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function h(B,L){return B<=0||L.length===0&&L.ended?0:L.objectMode?1:B!==B?L.flowing&&L.length?L.buffer.head.data.length:L.length:(B>L.highWaterMark&&(L.highWaterMark=f(B)),B<=L.length?B:L.ended?L.length:(L.needReadable=!0,0))}Q.prototype.read=function(B){c("read",B),B=parseInt(B,10);var L=this._readableState,Y=B;if(B!==0&&(L.emittedReadable=!1),B===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return c("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?$(this):M(this),null;if(B=h(B,L),B===0&&L.ended)return L.length===0&&$(this),null;var K=L.needReadable;c("need readable",K),(L.length===0||L.length-B<L.highWaterMark)&&(K=!0,c("length less than watermark",K)),L.ended||L.reading?(K=!1,c("reading or ended",K)):K&&(c("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(B=h(Y,L)));var ne;return B>0?ne=U(B,L):ne=null,ne===null?(L.needReadable=L.length<=L.highWaterMark,B=0):(L.length-=B,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),Y!==B&&L.ended&&$(this)),ne!==null&&this.emit("data",ne),ne};function w(B,L){if(c("onEofChunk"),!L.ended){if(L.decoder){var Y=L.decoder.end();Y&&Y.length&&(L.buffer.push(Y),L.length+=L.objectMode?1:Y.length)}L.ended=!0,L.sync?M(B):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,S(B)))}}function M(B){var L=B._readableState;c("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(c("emitReadable",L.flowing),L.emittedReadable=!0,process.nextTick(S,B))}function S(B){var L=B._readableState;c("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(B.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,O(B)}function d(B,L){L.readingMore||(L.readingMore=!0,process.nextTick(I,B,L))}function I(B,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var Y=L.length;if(c("maybeReadMore read 0"),B.read(0),Y===L.length)break}L.readingMore=!1}Q.prototype._read=function(B){j(this,new y("_read()"))},Q.prototype.pipe=function(B,L){var Y=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=B;break;case 1:K.pipes=[K.pipes,B];break;default:K.pipes.push(B);break}K.pipesCount+=1,c("pipe count=%d opts=%j",K.pipesCount,L);var ne=(!L||L.end!==!1)&&B!==process.stdout&&B!==process.stderr,ve=ne?ue:he;K.endEmitted?process.nextTick(ve):Y.once("end",ve),B.on("unpipe",ie);function ie(le,Nt){c("onunpipe"),le===Y&&Nt&&Nt.hasUnpiped===!1&&(Nt.hasUnpiped=!0,me())}function ue(){c("onend"),B.end()}var Ht=k(Y);B.on("drain",Ht);var be=!1;function me(){c("cleanup"),B.removeListener("close",pe),B.removeListener("finish",Xt),B.removeListener("drain",Ht),B.removeListener("error",de),B.removeListener("unpipe",ie),Y.removeListener("end",ue),Y.removeListener("end",he),Y.removeListener("data",ar),be=!0,K.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&Ht()}Y.on("data",ar);function ar(le){c("ondata");var Nt=B.write(le);c("dest.write",Nt),Nt===!1&&((K.pipesCount===1&&K.pipes===B||K.pipesCount>1&&Z(K.pipes,B)!==-1)&&!be&&(c("false write response, pause",K.awaitDrain),K.awaitDrain++),Y.pause())}function de(le){c("onerror",le),he(),B.removeListener("error",de),e(B,"error")===0&&j(B,le)}V(B,"error",de);function pe(){B.removeListener("finish",Xt),he()}B.once("close",pe);function Xt(){c("onfinish"),B.removeListener("close",pe),he()}B.once("finish",Xt);function he(){c("unpipe"),Y.unpipe(B)}return B.emit("pipe",Y),K.flowing||(c("pipe resume"),Y.resume()),B};function k(B){return function(){var Y=B._readableState;c("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&e(B,"data")&&(Y.flowing=!0,O(B))}}Q.prototype.unpipe=function(B){var L=this._readableState,Y={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return B&&B!==L.pipes?this:(B||(B=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,B&&B.emit("unpipe",this,Y),this);if(!B){var K=L.pipes,ne=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var ve=0;ve<ne;ve++)K[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=Z(L.pipes,B);return ie===-1?this:(L.pipes.splice(ie,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),B.emit("unpipe",this,Y),this)},Q.prototype.on=function(B,L){var Y=r.prototype.on.call(this,B,L),K=this._readableState;return B==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):B==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,c("on readable",K.length,K.reading),K.length?M(this):K.reading||process.nextTick(N,this)),Y},Q.prototype.addListener=Q.prototype.on,Q.prototype.removeListener=function(B,L){var Y=r.prototype.removeListener.call(this,B,L);return B==="readable"&&process.nextTick(b,this),Y},Q.prototype.removeAllListeners=function(B){var L=r.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&process.nextTick(b,this),L};function b(B){var L=B._readableState;L.readableListening=B.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:B.listenerCount("data")>0&&B.resume()}function N(B){c("readable nexttick read 0"),B.read(0)}Q.prototype.resume=function(){var B=this._readableState;return B.flowing||(c("resume"),B.flowing=!B.readableListening,q(this,B)),B.paused=!1,this};function q(B,L){L.resumeScheduled||(L.resumeScheduled=!0,process.nextTick(E,B,L))}function E(B,L){c("resume",L.reading),L.reading||B.read(0),L.resumeScheduled=!1,B.emit("resume"),O(B),L.flowing&&!L.reading&&B.read(0)}Q.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(B){var L=B._readableState;for(c("flow",L.flowing);L.flowing&&B.read()!==null;);}Q.prototype.wrap=function(B){var L=this,Y=this._readableState,K=!1;B.on("end",function(){if(c("wrapped end"),Y.decoder&&!Y.ended){var ie=Y.decoder.end();ie&&ie.length&&L.push(ie)}L.push(null)}),B.on("data",function(ie){if(c("wrapped data"),Y.decoder&&(ie=Y.decoder.write(ie)),!(Y.objectMode&&ie==null)&&!(!Y.objectMode&&(!ie||!ie.length))){var ue=L.push(ie);ue||(K=!0,B.pause())}});for(var ne in B)this[ne]===void 0&&typeof B[ne]=="function"&&(this[ne]=function(ue){return function(){return B[ue].apply(B,arguments)}}(ne));for(var ve=0;ve<W.length;ve++)B.on(W[ve],this.emit.bind(this,W[ve]));return this._read=function(ie){c("wrapped _read",ie),K&&(K=!1,B.resume())},this},typeof Symbol=="function"&&(Q.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=tB()),P(this)}),Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),Q._fromList=U,Object.defineProperty(Q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function U(B,L){if(L.length===0)return null;var Y;return L.objectMode?Y=L.buffer.shift():!B||B>=L.length?(L.decoder?Y=L.buffer.join(""):L.buffer.length===1?Y=L.buffer.first():Y=L.buffer.concat(L.length),L.buffer.clear()):Y=L.buffer.consume(B,L.decoder),Y}function $(B){var L=B._readableState;c("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,process.nextTick(z,L,B))}function z(B,L){if(c("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,L.readable=!1,L.emit("end"),B.autoDestroy)){var Y=L._writableState;(!Y||Y.autoDestroy&&Y.finished)&&L.destroy()}}typeof Symbol=="function"&&(Q.from=function(B,L){return D===void 0&&(D=rB()),D(Q,B,L)});function Z(B,L){for(var Y=0,K=B.length;Y<K;Y++)if(B[Y]===L)return Y;return-1}return H0}var bw=Ei,Wl=io.codes,nB=Wl.ERR_METHOD_NOT_IMPLEMENTED,iB=Wl.ERR_MULTIPLE_CALLBACK,oB=Wl.ERR_TRANSFORM_ALREADY_TRANSFORMING,sB=Wl.ERR_TRANSFORM_WITH_LENGTH_0,ql=Ys();kr.exports(Ei,ql);function aB(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new iB);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ei(t){if(!(this instanceof Ei))return new Ei(t);ql.call(this,t),this._transformState={afterTransform:aB.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",cB)}function cB(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){mw(t,e,r)}):mw(this,null,null)}Ei.prototype.push=function(t,e){return this._transformState.needTransform=!1,ql.prototype.push.call(this,t,e)},Ei.prototype._transform=function(t,e,r){r(new nB("_transform()"))},Ei.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Ei.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},Ei.prototype._destroy=function(t,e){ql.prototype._destroy.call(this,t,function(r){e(r)})};function mw(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new sB;if(t._transformState.transforming)throw new oB;return t.push(null)}var uB=Oc,vw=bw;kr.exports(Oc,vw);function Oc(t){if(!(this instanceof Oc))return new Oc(t);vw.call(this,t)}Oc.prototype._transform=function(t,e,r){r(null,t)};var z0;function lB(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var yw=io.codes,fB=yw.ERR_MISSING_ARGS,hB=yw.ERR_STREAM_DESTROYED;function xw(t){if(t)throw t}function dB(t){return t.setHeader&&typeof t.abort=="function"}function pB(t,e,r,n){n=lB(n);var i=!1;t.on("close",function(){i=!0}),z0===void 0&&(z0=$0),z0(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,dB(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new hB("pipe"))}}}function ww(t){t()}function gB(t,e){return t.pipe(e)}function bB(t){return!t.length||typeof t[t.length-1]!="function"?xw:t.pop()}function mB(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=bB(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new fB("streams");var i,o=e.map(function(s,a){var c=a<e.length-1,u=a>0;return pB(s,c,u,function(l){i||(i=l),l&&o.forEach(ww),!c&&(o.forEach(ww),n(i))})});return e.reduce(gB)}var vB=mB;(function(t,e){e=t.exports=gw(),e.Stream=e,e.Readable=e,e.Writable=cw(),e.Duplex=Ys(),e.Transform=bw,e.PassThrough=uB,e.finished=$0,e.pipeline=vB})(jl,jl.exports);const{Transform:yB}=jl.exports;var xB=t=>class q4 extends yB{constructor(r,n,i,o,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new q4(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:wB}=jl.exports;var _B=t=>class H4 extends wB{constructor(r,n,i,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let o=null;try{this.update(r,n)}catch(s){o=s}i(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new H4(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const EB=xB,SB=_B;var AB=function(t){const e=EB(t),r=SB(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},_w={};const Ew=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];_w.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],p=t[9]^t[19]^t[29]^t[39]^t[49];let m=l^(i<<1|o>>>31),x=p^(o<<1|i>>>31);const _=t[0]^m,R=t[1]^x,y=t[10]^m,C=t[11]^x,T=t[20]^m,P=t[21]^x,D=t[30]^m,j=t[31]^x,W=t[40]^m,V=t[41]^x;m=r^(s<<1|a>>>31),x=n^(a<<1|s>>>31);const G=t[2]^m,Q=t[3]^x,F=t[12]^m,g=t[13]^x,A=t[22]^m,v=t[23]^x,f=t[32]^m,h=t[33]^x,w=t[42]^m,M=t[43]^x;m=i^(c<<1|u>>>31),x=o^(u<<1|c>>>31);const S=t[4]^m,d=t[5]^x,I=t[14]^m,k=t[15]^x,b=t[24]^m,N=t[25]^x,q=t[34]^m,E=t[35]^x,O=t[44]^m,U=t[45]^x;m=s^(l<<1|p>>>31),x=a^(p<<1|l>>>31);const $=t[6]^m,z=t[7]^x,Z=t[16]^m,B=t[17]^x,L=t[26]^m,Y=t[27]^x,K=t[36]^m,ne=t[37]^x,ve=t[46]^m,ie=t[47]^x;m=c^(r<<1|n>>>31),x=u^(n<<1|r>>>31);const ue=t[8]^m,Ht=t[9]^x,be=t[18]^m,me=t[19]^x,ar=t[28]^m,de=t[29]^x,pe=t[38]^m,Xt=t[39]^x,he=t[48]^m,le=t[49]^x,Nt=_,ye=R,xe=C<<4|y>>>28,Rr=y<<4|C>>>28,we=T<<3|P>>>29,_e=P<<3|T>>>29,Tr=j<<9|D>>>23,Ee=D<<9|j>>>23,Se=W<<18|V>>>14,Pr=V<<18|W>>>14,Ae=G<<1|Q>>>31,Ce=Q<<1|G>>>31,Nr=g<<12|F>>>20,ke=F<<12|g>>>20,Me=A<<10|v>>>22,Or=v<<10|A>>>22,Ie=h<<13|f>>>19,Re=f<<13|h>>>19,Br=w<<2|M>>>30,Te=M<<2|w>>>30,Pe=d<<30|S>>>2,Lr=S<<30|d>>>2,Ne=I<<6|k>>>26,Oe=k<<6|I>>>26,Dr=N<<11|b>>>21,Be=b<<11|N>>>21,Le=q<<15|E>>>17,Fr=E<<15|q>>>17,De=U<<29|O>>>3,Fe=O<<29|U>>>3,Ur=$<<28|z>>>4,Ue=z<<28|$>>>4,je=B<<23|Z>>>9,Er=Z<<23|B>>>9,ot=L<<25|Y>>>7,st=Y<<25|L>>>7,cr=K<<21|ne>>>11,ur=ne<<21|K>>>11,lr=ie<<24|ve>>>8,fr=ve<<24|ie>>>8,hr=ue<<27|Ht>>>5,In=Ht<<27|ue>>>5,Rn=be<<20|me>>>12,Tn=me<<20|be>>>12,Pn=de<<7|ar>>>25,Nn=ar<<7|de>>>25,On=pe<<8|Xt>>>24,Bn=Xt<<8|pe>>>24,Ln=he<<14|le>>>18,Dn=le<<14|he>>>18;t[0]=Nt^~Nr&Dr,t[1]=ye^~ke&Be,t[10]=Ur^~Rn&we,t[11]=Ue^~Tn&_e,t[20]=Ae^~Ne&ot,t[21]=Ce^~Oe&st,t[30]=hr^~xe&Me,t[31]=In^~Rr&Or,t[40]=Pe^~je&Pn,t[41]=Lr^~Er&Nn,t[2]=Nr^~Dr&cr,t[3]=ke^~Be&ur,t[12]=Rn^~we&Ie,t[13]=Tn^~_e&Re,t[22]=Ne^~ot&On,t[23]=Oe^~st&Bn,t[32]=xe^~Me&Le,t[33]=Rr^~Or&Fr,t[42]=je^~Pn&Tr,t[43]=Er^~Nn&Ee,t[4]=Dr^~cr&Ln,t[5]=Be^~ur&Dn,t[14]=we^~Ie&De,t[15]=_e^~Re&Fe,t[24]=ot^~On&Se,t[25]=st^~Bn&Pr,t[34]=Me^~Le&lr,t[35]=Or^~Fr&fr,t[44]=Pn^~Tr&Br,t[45]=Nn^~Ee&Te,t[6]=cr^~Ln&Nt,t[7]=ur^~Dn&ye,t[16]=Ie^~De&Ur,t[17]=Re^~Fe&Ue,t[26]=On^~Se&Ae,t[27]=Bn^~Pr&Ce,t[36]=Le^~lr&hr,t[37]=Fr^~fr&In,t[46]=Tr^~Br&Pe,t[47]=Ee^~Te&Lr,t[8]=Ln^~Nt&Nr,t[9]=Dn^~ye&ke,t[18]=De^~Ur&Rn,t[19]=Fe^~Ue&Tn,t[28]=Se^~Ae&Ne,t[29]=Pr^~Ce&Oe,t[38]=lr^~hr&xe,t[39]=fr^~In&Rr,t[48]=Br^~Pe&je,t[49]=Te^~Lr&Er,t[0]^=Ew[e*2],t[1]^=Ew[e*2+1]}};const Hl=_w;function Zs(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Zs.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},Zs.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Hl.p1600(this.state),this.count=0)},Zs.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&Hl.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Hl.p1600(this.state),this.count=0,this.squeezing=!0},Zs.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Hl.p1600(this.state),this.count=0);return e},Zs.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var CB=Zs,kB=AB(CB);const MB=kB,IB=es.exports;function Sw(t){return Buffer.allocUnsafe(t).fill(0)}function Aw(t,e,r){const n=Sw(e);return t=zl(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function RB(t,e){return Aw(t,e,!0)}function zl(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Cw(t)?t=Buffer.from(NB(kw(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(IB.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function TB(t){return t=zl(t),"0x"+t.toString("hex")}function PB(t,e){return t=zl(t),e||(e=256),MB("keccak"+e).update(t).digest()}function NB(t){return t.length%2?"0"+t:t}function Cw(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function kw(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Mw={zeros:Sw,setLength:Aw,setLengthRight:RB,isHexString:Cw,stripHexPrefix:kw,toBuffer:zl,bufferToHex:TB,keccak:PB};const $o=Mw,Wo=es.exports;function Iw(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Xs(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Rw(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Tw(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function qo(t){var e=typeof t;if(e==="string")return $o.isHexString(t)?new Wo($o.stripHexPrefix(t),16):new Wo(t,10);if(e==="number")return new Wo(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function ri(t,e){var r,n,i,o;if(t==="address")return ri("uint160",qo(e));if(t==="bool")return ri("uint8",e?1:0);if(t==="string")return ri("bytes",new Buffer(e,"utf8"));if(BB(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Tw(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)i.push(ri(t,e[o]));if(r==="dynamic"){var s=ri("uint256",e.length);i.unshift(s)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([ri("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,$o.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Xs(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return $o.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Xs(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=qo(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Xs(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=qo(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Rw(t),n=qo(e),n<0)throw new Error("Supplied ufixed is negative");return ri("uint256",n.mul(new Wo(2).pow(new Wo(r[1]))))}else if(t.startsWith("fixed"))return r=Rw(t),ri("int256",qo(e).mul(new Wo(2).pow(new Wo(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function OB(t){return t==="string"||t==="bytes"||Tw(t)==="dynamic"}function BB(t){return t.lastIndexOf("]")===t.length-1}function LB(t,e){var r=[],n=[],i=32*t.length;for(var o in t){var s=Iw(t[o]),a=e[o],c=ri(s,a);OB(s)?(r.push(ri("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Pw(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],o=0;o<t.length;o++){var s=Iw(t[o]),a=e[o];if(s==="bytes")i.push(a);else if(s==="string")i.push(new Buffer(a,"utf8"));else if(s==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(s==="address")i.push($o.setLength(a,20));else if(s.startsWith("bytes")){if(r=Xs(s),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push($o.setLengthRight(a,r))}else if(s.startsWith("uint")){if(r=Xs(s),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=qo(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(s.startsWith("int")){if(r=Xs(s),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=qo(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+s)}return Buffer.concat(i)}function DB(t,e){return $o.keccak(Pw(t,e))}var FB={rawEncode:LB,solidityPack:Pw,soliditySHA3:DB};const Sn=Mw,Bc=FB,Nw={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},V0={encodeData(t,e,r,n=!0){const i=["bytes32"],o=[this.hashType(t,r)];if(n){const s=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Sn.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Sn.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",Sn.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),p=u.map(m=>s(a,l,m));return["bytes32",Sn.keccak(Bc.rawEncode(p.map(([m])=>m),p.map(([,m])=>m)))]}return[c,u]};for(const a of r[t]){const[c,u]=s(a.name,a.type,e[a.name]);i.push(c),o.push(u)}}else for(const s of r[t]){let a=e[s.name];if(a!==void 0)if(s.type==="bytes")i.push("bytes32"),a=Sn.keccak(a),o.push(a);else if(s.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Sn.keccak(a),o.push(a);else if(r[s.type]!==void 0)i.push("bytes32"),a=Sn.keccak(this.encodeData(s.type,a,r,n)),o.push(a);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(s.type),o.push(a)}}return Bc.rawEncode(i,o)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:s,type:a})=>a+" "+s).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Sn.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Sn.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Nw.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Sn.keccak(Buffer.concat(n))}};var UB={TYPED_MESSAGE_SCHEMA:Nw,TypedDataUtils:V0,hashForSignTypedDataLegacy:function(t){return jB(t.data)},hashForSignTypedData_v3:function(t){return V0.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return V0.hash(t.data)}};function jB(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(o){return o.type==="bytes"?Sn.toBuffer(o.value):o.value}),n=t.map(function(o){return o.type}),i=t.map(function(o){if(!o.name)throw e;return o.type+" "+o.name});return Bc.soliditySHA3(["bytes32","bytes32"],[Bc.soliditySHA3(new Array(t.length).fill("string"),i),Bc.soliditySHA3(n,r)])}var ea={};Object.defineProperty(ea,"__esModule",{value:!0}),ea.filterFromParam=ea.FilterPolyfill=void 0;const ta=Tc,yr=ce,$B=5*60*1e3,Ho={jsonrpc:"2.0",id:0};class WB{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,ta.IntNumber)(1),this.provider=e}async newFilter(e){const r=Ow(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,yr.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,yr.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,yr.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,yr.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,yr.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Vl())}async getFilterLogs(e){const r=(0,yr.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Ho),{method:"eth_getLogs",params:[Bw(n)]})):Vl()}makeFilterId(){return(0,ta.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,o)=>{if(i)return n(i);if(Array.isArray(o)||o==null)return n(new Error(`unexpected response received: ${JSON.stringify(o)}`));r(o)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Vl();const i=await this.getCurrentBlockHeight(),o=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Gl();console.log(`Fetching logs from ${n} to ${o} for filter ${e}`);const s=await this.sendAsyncPromise(Object.assign(Object.assign({},Ho),{method:"eth_getLogs",params:[Bw(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:o}))]}));if(Array.isArray(s.result)){const a=s.result.map(u=>(0,yr.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,ta.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return s}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Vl();const n=await this.getCurrentBlockHeight();if(r>n)return Gl();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,yr.range)(r,n+1).map(s=>this.getBlockHashByNumber((0,ta.IntNumber)(s))))).filter(s=>!!s),o=(0,ta.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${o}`),this.cursors.set(e,o),Object.assign(Object.assign({},Ho),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Gl())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},$B);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Ho),{method:"eth_blockNumber",params:[]}));return(0,yr.intNumberFromHexString)((0,yr.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Ho),{method:"eth_getBlockByNumber",params:[(0,yr.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,yr.ensureHexString)(r.result.hash):null}}ea.FilterPolyfill=WB;function Ow(t){return{fromBlock:Lw(t.fromBlock),toBlock:Lw(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}ea.filterFromParam=Ow;function Bw(t){const e={fromBlock:Dw(t.fromBlock),toBlock:Dw(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Lw(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,ta.IntNumber)(0);if((0,yr.isHexString)(t))return(0,yr.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Dw(t){return t==="latest"?t:(0,yr.hexStringFromIntNumber)(t)}function Vl(){return Object.assign(Object.assign({},Ho),{error:{code:-32e3,message:"filter not found"}})}function Gl(){return Object.assign(Object.assign({},Ho),{result:[]})}var Fw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Fw);var Kl={};const Uw=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,o)=>{e.errorFirst?n.push(function(s,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];s?(c.unshift(s),o(c)):i(c)}else s?o(s):i(a)}):n.push(function(s){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(s)}),t.apply(this,n)})};var qB=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const o=s=>typeof s=="string"?i===s:s.test(i);return e.include?e.include.some(o):!e.exclude.some(o)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Uw(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const o=t[i];n[i]=typeof o=="function"&&r(i)?Uw(o,e):o}return n},HB=VB,zB=Object.prototype.hasOwnProperty;function VB(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)zB.call(r,n)&&(t[n]=r[n])}return t}var GB=KB;function KB(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const JB=HB,QB=GB();var YB=We;function We(t){const e=this;e.currentProvider=t}We.prototype.getBalance=Lc(2,"eth_getBalance"),We.prototype.getCode=Lc(2,"eth_getCode"),We.prototype.getTransactionCount=Lc(2,"eth_getTransactionCount"),We.prototype.getStorageAt=Lc(3,"eth_getStorageAt"),We.prototype.call=Lc(2,"eth_call"),We.prototype.protocolVersion=Qe("eth_protocolVersion"),We.prototype.syncing=Qe("eth_syncing"),We.prototype.coinbase=Qe("eth_coinbase"),We.prototype.mining=Qe("eth_mining"),We.prototype.hashrate=Qe("eth_hashrate"),We.prototype.gasPrice=Qe("eth_gasPrice"),We.prototype.accounts=Qe("eth_accounts"),We.prototype.blockNumber=Qe("eth_blockNumber"),We.prototype.getBlockTransactionCountByHash=Qe("eth_getBlockTransactionCountByHash"),We.prototype.getBlockTransactionCountByNumber=Qe("eth_getBlockTransactionCountByNumber"),We.prototype.getUncleCountByBlockHash=Qe("eth_getUncleCountByBlockHash"),We.prototype.getUncleCountByBlockNumber=Qe("eth_getUncleCountByBlockNumber"),We.prototype.sign=Qe("eth_sign"),We.prototype.sendTransaction=Qe("eth_sendTransaction"),We.prototype.sendRawTransaction=Qe("eth_sendRawTransaction"),We.prototype.estimateGas=Qe("eth_estimateGas"),We.prototype.getBlockByHash=Qe("eth_getBlockByHash"),We.prototype.getBlockByNumber=Qe("eth_getBlockByNumber"),We.prototype.getTransactionByHash=Qe("eth_getTransactionByHash"),We.prototype.getTransactionByBlockHashAndIndex=Qe("eth_getTransactionByBlockHashAndIndex"),We.prototype.getTransactionByBlockNumberAndIndex=Qe("eth_getTransactionByBlockNumberAndIndex"),We.prototype.getTransactionReceipt=Qe("eth_getTransactionReceipt"),We.prototype.getUncleByBlockHashAndIndex=Qe("eth_getUncleByBlockHashAndIndex"),We.prototype.getUncleByBlockNumberAndIndex=Qe("eth_getUncleByBlockNumberAndIndex"),We.prototype.getCompilers=Qe("eth_getCompilers"),We.prototype.compileLLL=Qe("eth_compileLLL"),We.prototype.compileSolidity=Qe("eth_compileSolidity"),We.prototype.compileSerpent=Qe("eth_compileSerpent"),We.prototype.newFilter=Qe("eth_newFilter"),We.prototype.newBlockFilter=Qe("eth_newBlockFilter"),We.prototype.newPendingTransactionFilter=Qe("eth_newPendingTransactionFilter"),We.prototype.uninstallFilter=Qe("eth_uninstallFilter"),We.prototype.getFilterChanges=Qe("eth_getFilterChanges"),We.prototype.getFilterLogs=Qe("eth_getFilterLogs"),We.prototype.getLogs=Qe("eth_getLogs"),We.prototype.getWork=Qe("eth_getWork"),We.prototype.submitWork=Qe("eth_submitWork"),We.prototype.submitHashrate=Qe("eth_submitHashrate"),We.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(ZB(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function Qe(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Lc(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function ZB(t){return JB({id:QB(),jsonrpc:"2.0",params:[]},t)}const XB=uu.default,jw=Y4.default;var G0=typeof Reflect=="object"?Reflect:null,eL=G0&&typeof G0.apply=="function"?G0.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},tL=K0;function K0(){jw.call(this)}XB.inherits(K0,jw),K0.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")$w(a,this,e);else for(var c=a.length,u=rL(a,c),r=0;r<c;++r)$w(u[r],this,e);return!0};function $w(t,e,r){try{eL(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function rL(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const nL=tL,iL=1e3,oL=(t,e)=>t+e,Ww=["sync","latest"];class sL extends nL{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*iL,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){!Ww.includes(e)||this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Ww.map(e=>this.listenerCount(e)).reduce(oL)}_newPotentialLatest(e){const r=this._currentBlock;r&&qw(e)<=qw(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var aL=sL;function qw(t){return Number.parseInt(t,16)}const cL=qB,uL=aL,lL=1e3;class fL extends uL{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*lL,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await Hw(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await Hw(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await cL(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}}var hL=fL;function Hw(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var J0={exports:{}},dL=function(e){return(r,n,i,o)=>{const s=e[r.method];return s===void 0?i():typeof s=="function"?s(r,n,i,o):(n.result=s,o())}};(function(t){t.exports=dL})(J0);var Q0={},Jl={},Dc={};Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.getUniqueId=void 0;const zw=4294967295;let Y0=Math.floor(Math.random()*zw);function pL(){return Y0=(Y0+1)%zw,Y0}Dc.getUniqueId=pL,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.createIdRemapMiddleware=void 0;const gL=Dc;function bL(){return(t,e,r,n)=>{const i=t.id,o=gL.getUniqueId();t.id=o,e.id=o,r(s=>{t.id=i,e.id=i,s()})}}Jl.createIdRemapMiddleware=bL;var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.createAsyncMiddleware=void 0;function mL(t){return async(e,r,n,i)=>{let o;const s=new Promise(l=>{o=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,o()}),await s};try{await t(e,r,u),c?(await s,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Ql.createAsyncMiddleware=mL;var Yl={};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.createScaffoldMiddleware=void 0;function vL(t){return(e,r,n,i)=>{const o=t[e.method];return o===void 0?n():typeof o=="function"?o(e,r,n,i):(r.result=o,i())}}Yl.createScaffoldMiddleware=vL;var Fc={},yL=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.JsonRpcEngine=void 0;const xL=yL(Is),fn=lc;class Si extends xL.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[o,s,a]=await Si._runAllMiddleware(e,r,this._middleware);return s?(await Si._runReturnHandlers(a),i(o)):n(async c=>{try{await Si._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(o){return i(o)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const s=new fn.EthereumRpcError(fn.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(s,{id:void 0,jsonrpc:"2.0",error:s})}if(typeof e.method!="string"){const s=new fn.EthereumRpcError(fn.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(s,{id:e.id,jsonrpc:"2.0",error:s})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let o=null;try{await this._processRequest(n,i)}catch(s){o=s}return o&&(delete i.result,i.error||(i.error=fn.serializeError(o))),r(o,i)}async _processRequest(e,r){const[n,i,o]=await Si._runAllMiddleware(e,r,this._middleware);if(Si._checkForCompletion(e,r,i),await Si._runReturnHandlers(o),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Si._runMiddleware(e,r,a,i),s)break;return[o,s,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(o=>{const s=c=>{const u=c||r.error;u&&(r.error=fn.serializeError(u)),o([u,!0])},a=c=>{r.error?s(r.error):(c&&(typeof c!="function"&&s(new fn.EthereumRpcError(fn.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Z0(e)}`,{request:e})),i.push(c)),o([null,!1]))};try{n(e,r,a,s)}catch(c){s(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(o=>o?i(o):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new fn.EthereumRpcError(fn.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Z0(e)}`,{request:e});if(!n)throw new fn.EthereumRpcError(fn.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Z0(e)}`,{request:e})}}Fc.JsonRpcEngine=Si;function Z0(t){return JSON.stringify(t,null,2)}var Zl={};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.mergeMiddleware=void 0;const wL=Fc;function _L(t){const e=new wL.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Zl.mergeMiddleware=_L,function(t){var e=ae&&ae.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=ae&&ae.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Jl,t),r(Ql,t),r(Yl,t),r(Dc,t),r(Fc,t),r(Zl,t)}(Q0);var Vw={},X0={},ep=function(t,e){return ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ep(t,e)};function EL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ep(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tp=function(){return tp=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},tp.apply(this,arguments)};function SL(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function AL(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function CL(t,e){return function(r,n){e(r,n,t)}}function kL(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ML(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function IL(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var rp=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function RL(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rp(e,t,r)}function np(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function TL(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Gw(arguments[e]));return t}function PL(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function NL(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Uc(t){return this instanceof Uc?(this.v=t,this):new Uc(t)}function OL(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){n[m]&&(i[m]=function(x){return new Promise(function(_,R){o.push([m,x,_,R])>1||a(m,x)})})}function a(m,x){try{c(n[m](x))}catch(_){p(o[0][3],_)}}function c(m){m.value instanceof Uc?Promise.resolve(m.value.v).then(u,l):p(o[0][2],m)}function u(m){a("next",m)}function l(m){a("throw",m)}function p(m,x){m(x),o.shift(),o.length&&a(o[0][0],o[0][1])}}function BL(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:Uc(t[i](s)),done:i==="return"}:o?o(s):s}:o}}function LL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof np=="function"?np(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}function DL(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var FL=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function UL(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rp(e,t,r);return FL(e,t),e}function jL(t){return t&&t.__esModule?t:{default:t}}function $L(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function WL(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function qL(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}var HL=Object.freeze({__proto__:null,__extends:EL,get __assign(){return tp},__rest:SL,__decorate:AL,__param:CL,__metadata:kL,__awaiter:ML,__generator:IL,__createBinding:rp,__exportStar:RL,__values:np,__read:Gw,__spread:TL,__spreadArrays:PL,__spreadArray:NL,__await:Uc,__asyncGenerator:OL,__asyncDelegator:BL,__asyncValues:LL,__makeTemplateObject:DL,__importStar:UL,__importDefault:jL,__classPrivateFieldGet:$L,__classPrivateFieldSet:WL,__classPrivateFieldIn:qL}),ip=Ye(HL),Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});var Kw=ip,zL=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Kw.__awaiter(this,void 0,void 0,function(){var r,n,i;return Kw.__generator(this,function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:r=o.sent(),n=r[0],i=r[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,o.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Xl.default=zL,Object.defineProperty(X0,"__esModule",{value:!0});var Jw=ip,VL=Xl,GL=function(){function t(){this._semaphore=new VL.default(1)}return t.prototype.acquire=function(){return Jw.__awaiter(this,void 0,void 0,function(){var e,r;return Jw.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();X0.default=GL;var ef={};Object.defineProperty(ef,"__esModule",{value:!0}),ef.withTimeout=void 0;var tf=ip;function KL(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,o){return tf.__awaiter(n,void 0,void 0,function(){var s,a,c;return tf.__generator(this,function(u){switch(u.label){case 0:return s=!1,setTimeout(function(){s=!0,o(r)},e),[4,t.acquire()];case 1:return a=u.sent(),s?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return tf.__awaiter(this,void 0,void 0,function(){var o,s;return tf.__generator(this,function(a){switch(a.label){case 0:o=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return s=a.sent(),Array.isArray(s)?(o=s[1],[4,i(s[0])]):[3,4];case 3:return[2,a.sent()];case 4:return o=s,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}ef.withTimeout=KL,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=X0;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Xl;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=ef;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})}(Vw);const Qw=(t,e,r,n)=>function(...i){const o=e.promiseModule;return new o((s,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),s(u)):s(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):s(l)}):i.push(s),Reflect.apply(t,this===r?n:this,i)})},Yw=new WeakMap;var JL=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(s,a)=>{let c=Yw.get(s);if(c||(c={},Yw.set(s,c)),a in c)return c[a];const u=_=>typeof _=="string"||typeof a=="symbol"?a===_:_.test(a),l=Reflect.getOwnPropertyDescriptor(s,a),p=l===void 0||l.writable||l.configurable,x=(e.include?e.include.some(u):!e.exclude.some(u))&&p;return c[a]=x,x},i=new WeakMap,o=new Proxy(t,{apply(s,a,c){const u=i.get(s);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?s:Qw(s,e,o,s);return i.set(s,l),Reflect.apply(l,a,c)},get(s,a){const c=s[a];if(!n(s,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Qw(c,e,o,s);return i.set(c,l),l}return c}});return o};const QL=Is.default;class YL extends QL{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var op=YL;const ZL=op;class XL extends ZL{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var eD=XL,jc={minBlockRef:tD,maxBlockRef:rD,sortBlockRefs:sp,bnToHex:nD,blockRefIsNumber:iD,hexToInt:rf,incrementHexInt:oD,intToHex:Zw,unsafeRandomBytes:sD};function tD(...t){return sp(t)[0]}function rD(...t){const e=sp(t);return e[e.length-1]}function sp(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:rf(e)-rf(r))}function nD(t){return"0x"+t.toString(16)}function iD(t){return t&&!["earliest","latest","pending"].includes(t)}function rf(t){return t==null?t:Number.parseInt(t,16)}function oD(t){if(t==null)return t;const e=rf(t);return Zw(e+1)}function Zw(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function sD(t){let e="0x";for(let r=0;r<t;r++)e+=Xw(),e+=Xw();return e}function Xw(){return Math.floor(Math.random()*16).toString(16)}const aD=YB,cD=JL,uD=eD,{bnToHex:hz,hexToInt:nf,incrementHexInt:lD,minBlockRef:fD,blockRefIsNumber:hD}=jc;class dD extends uD{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new aD(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=fD(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),o=await this._fetchLogs(i);this.addInitialResults(o)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=lD(e):i=r;const o=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(o)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await cD(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(nf(this.params.fromBlock)>=nf(e.blockNumber)||hD(this.params.toBlock)&&nf(this.params.toBlock)<=nf(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,o)=>{let s=e.topics[o];if(!s)return!1;s=s.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(s))})}}var pD=dD,ap=gD;async function gD({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=e2(e),o=e2(r)-n+1,s=Array(o).fill().map((c,u)=>n+u).map(bD);return await Promise.all(s.map(c=>mD(t,"eth_getBlockByNumber",[c,!1])))}function e2(t){return t==null?t:Number.parseInt(t,16)}function bD(t){if(t==null)return t;const e=t.toString(16);return"0x"+e}function mD(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(o,s)=>{if(o)return i(o);n(s.result)})})}const vD=op,yD=ap,{incrementHexInt:xD}=jc;class wD extends vD{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=xD(e),s=(await yD({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(s)}}var _D=wD;const ED=op,SD=ap,{incrementHexInt:AD}=jc;class CD extends ED{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=AD(e),i=await SD({provider:this.provider,fromBlock:n,toBlock:r}),o=[];for(const s of i)o.push(...s.transactions);this.addResults(o)}}var kD=CD;const MD=Vw.Mutex,{createAsyncMiddleware:ID}=Q0,RD=J0.exports,TD=pD,PD=_D,ND=kD,{intToHex:t2,hexToInt:cp}=jc;var OD=BD;function BD({blockTracker:t,provider:e}){let r=0,n={};const i=new MD,o=LD({mutex:i}),s=RD({eth_newFilter:o(up(c)),eth_newBlockFilter:o(up(u)),eth_newPendingTransactionFilter:o(up(l)),eth_uninstallFilter:o(of(x)),eth_getFilterChanges:o(of(p)),eth_getFilterLogs:o(of(m))}),a=async({oldBlock:T,newBlock:P})=>{if(n.length===0)return;const D=await i.acquire();try{await Promise.all(ra(n).map(async j=>{try{await j.update({oldBlock:T,newBlock:P})}catch(W){console.error(W)}}))}catch(j){console.error(j)}D()};return s.newLogFilter=c,s.newBlockFilter=u,s.newPendingTransactionFilter=l,s.uninstallFilter=x,s.getFilterChanges=p,s.getFilterLogs=m,s.destroy=()=>{y()},s;async function c(T){const P=new TD({provider:e,params:T});return await _(P),P}async function u(){const T=new PD({provider:e});return await _(T),T}async function l(){const T=new ND({provider:e});return await _(T),T}async function p(T){const P=cp(T),D=n[P];if(!D)throw new Error(`No filter for index "${P}"`);return D.getChangesAndClear()}async function m(T){const P=cp(T),D=n[P];if(!D)throw new Error(`No filter for index "${P}"`);return D.type==="log"?results=D.getAllResults():results=[],results}async function x(T){const P=cp(T),D=n[P],j=Boolean(D);return j&&await R(P),j}async function _(T){const P=ra(n).length,D=await t.getLatestBlock();await T.initialize({currentBlock:D}),r++,n[r]=T,T.id=r,T.idHex=t2(r);const j=ra(n).length;return C({prevFilterCount:P,newFilterCount:j}),r}async function R(T){const P=ra(n).length;delete n[T];const D=ra(n).length;C({prevFilterCount:P,newFilterCount:D})}async function y(){const T=ra(n).length;n={},C({prevFilterCount:T,newFilterCount:0})}function C({prevFilterCount:T,newFilterCount:P}){if(T===0&&P>0){t.on("sync",a);return}if(T>0&&P===0){t.removeListener("sync",a);return}}}function up(t){return of(async(...e)=>{const r=await t(...e);return t2(r.id)})}function of(t){return ID(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function LD({mutex:t}){return e=>async(r,n,i,o)=>{(await t.acquire())(),e(r,n,i,o)}}function ra(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const DD=Is.default,FD=J0.exports,{createAsyncMiddleware:r2}=Q0,UD=OD,{unsafeRandomBytes:jD,incrementHexInt:$D}=jc,WD=ap;var qD=HD;function HD({blockTracker:t,provider:e}){const r={},n=UD({blockTracker:t,provider:e});let i=!1;const o=new DD,s=FD({eth_subscribe:r2(a),eth_unsubscribe:r2(c)});return s.destroy=l,{events:o,middleware:s};async function a(p,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const x=p.params[0],_=jD(16);let R;switch(x){case"newHeads":R=y({subId:_});break;case"logs":const T=p.params[1],P=await n.newLogFilter(T);R=C({subId:_,filter:P});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${x}"`)}r[_]=R,m.result=_;return;function y({subId:T}){const P={type:x,destroy:async()=>{t.removeListener("sync",P.update)},update:async({oldBlock:D,newBlock:j})=>{const W=j,V=$D(D);(await WD({provider:e,fromBlock:V,toBlock:W})).map(zD).forEach(F=>{u(T,F)})}};return t.on("sync",P.update),P}function C({subId:T,filter:P}){return P.on("update",j=>u(T,j)),{type:x,destroy:async()=>await n.uninstallFilter(P.idHex)}}}async function c(p,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const x=p.params[0],_=r[x];if(!_){m.result=!1;return}delete r[x],await _.destroy(),m.result=!0}function u(p,m){o.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:p,result:m}})}function l(){o.removeAllListeners();for(const p in r)r[p].destroy(),delete r[p];i=!0}}function zD(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.SubscriptionManager=void 0;const VD=hL,GD=qD,n2=()=>{};class KD{constructor(e){const r=new VD({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=GD({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,n2,n2),r}destroy(){this.subscriptionMiddleware.destroy()}}Kl.SubscriptionManager=KD;var lp=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.CoinbaseWalletProvider=void 0;const JD=lp(Is),QD=lp(es.exports),sr=lc,fp=Ts,i2=Ps,o2=En,Ke=ce,hp=lp(UB),YD=ea,at=Fw,ZD=Kl,s2="DefaultChainId",a2="DefaultJsonRpcUrl",XD=[1,10,137,61,56,250,42161,100,43114,3,4,5,42,69,80001,97,4002,421611,43113];class eF extends JD.default{constructor(e){var r,n;super(),this._filterPolyfill=new YD.FilterPolyfill(this),this._subscriptionManager=new ZD.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),o=(0,Ke.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:o});const s=this._storage.getItem(o2.LOCAL_STORAGE_ADDRESSES_KEY);if(s){const a=s.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,Ke.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,Ke.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(a2))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(a2,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e,this.updateProviderInfo(e,r)}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(s2,r.toString(10)),((0,Ke.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,o,s){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,o,s?.toString()).promise).result}async addEthereumChain(e,r,n,i,o,s){var a,c;if((0,Ke.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const p=await u.addEthereumChain(e.toString(),r,o,n,i,s).promise;return((a=p.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=p.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){XD.includes(e)&&this.updateProviderInfo(this.jsonRpcUrl,e);const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw sr.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(fp.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?i2.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(at.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,o=Array.isArray(r)?r:r!==void 0?[r]:[],s={jsonrpc:"2.0",id:0,method:i,params:o};return this._sendRequestAsync(s).then(a=>a.result)}if(typeof r=="function"){const i=e,o=r;return this._sendAsync(i,o)}if(Array.isArray(e))return e.map(o=>this._sendRequest(o));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(o=>i(null,o)).catch(o=>i(o,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw sr.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw sr.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw sr.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,o=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:o})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,Ke.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,Ke.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(o2.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const o=this._handleAsynchronousFilterMethods(e);if(o!==void 0){o.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const s=this._handleSubscriptionMethods(e);if(s!==void 0){s.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case at.JSONRPCMethod.eth_accounts:return this._eth_accounts();case at.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case at.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case at.JSONRPCMethod.net_version:return this._net_version();case at.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case at.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case at.JSONRPCMethod.eth_sign:return this._eth_sign(n);case at.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case at.JSONRPCMethod.personal_sign:return this._personal_sign(n);case at.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case at.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case at.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case at.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case at.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case at.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case at.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case at.JSONRPCMethod.eth_signTypedData_v4:case at.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case at.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case at.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case at.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case at.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case at.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case at.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case at.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case at.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case at.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case at.JSONRPCMethod.eth_subscribe:case at.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,Ke.ensureAddressString)(e);return this._addresses.map(i=>(0,Ke.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(fp.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,Ke.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,Ke.ensureAddressString)(e.to):null,i=e.value!=null?(0,Ke.ensureBN)(e.value):new QD.default(0),o=e.data?(0,Ke.ensureBuffer)(e.data):Buffer.alloc(0),s=e.nonce!=null?(0,Ke.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,Ke.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,Ke.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,Ke.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,Ke.ensureBN)(e.gas):null,p=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:o,nonce:s,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:p}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw sr.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw sr.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const s=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;return{jsonrpc:"2.0",id:0,result:s.result}}catch(o){throw typeof o.message=="string"&&o.message.match(/(denied|rejected)/i)?sr.ethErrors.provider.userRejectedRequest("User denied message signature"):o}}async _ethereumAddressFromSignedMessage(e,r,n){const o=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;return{jsonrpc:"2.0",id:0,result:o.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,Ke.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(s2);if(!e)return(0,Ke.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,Ke.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(fp.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?i2.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?sr.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,Ke.ensureAddressString)(e[0]),n=(0,Ke.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,Ke.ensureBuffer)(e[0]),n=(0,Ke.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,Ke.ensureBuffer)(e[0]),n=(0,Ke.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,Ke.ensureBuffer)(e[0]),n=(0,Ke.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?sr.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,Ke.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?sr.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,Ke.ensureParsedJSONObject)(e[0]),n=(0,Ke.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=hp.default.hashForSignTypedDataLegacy({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,o)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,Ke.ensureAddressString)(e[0]),n=(0,Ke.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=hp.default.hashForSignTypedData_v3({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,Ke.ensureAddressString)(e[0]),n=(0,Ke.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=hp.default.hashForSignTypedData_v4({data:n}),o=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,o)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");const i=await this.genericRequest(r,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var r,n,i,o;const s=e[0];if(((r=s.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||s.chainName.trim()==="")throw sr.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!s.nativeCurrency)throw sr.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(s.chainId,16);return await this.addEthereumChain(a,(n=s.rpcUrls)!==null&&n!==void 0?n:[],(i=s.blockExplorerUrls)!==null&&i!==void 0?i:[],s.chainName,(o=s.iconUrls)!==null&&o!==void 0?o:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw sr.ethErrors.rpc.invalidParams({message:"Type is required"});if(r?.type!=="ERC20")throw sr.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!r?.options)throw sr.ethErrors.rpc.invalidParams({message:"Options are required"});if(!r?.options.address)throw sr.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:o,image:s,decimals:a}=r.options,c=await this.watchAsset(r.type,i,o,a,s,n);return{jsonrpc:"2.0",id:0,result:c}}_eth_uninstallFilter(e){const r=(0,Ke.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0],n=await this._filterPolyfill.newFilter(r);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const r=(0,Ke.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,Ke.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Ms.CoinbaseWalletProvider=eF;var sf={},af={},$c,He,c2,u2,Wc,l2,f2,cf={},h2=[],tF=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ai(t,e){for(var r in e)t[r]=e[r];return t}function d2(t){var e=t.parentNode;e&&e.removeChild(t)}function dp(t,e,r){var n,i,o,s={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?$c.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return qc(t,s,n,i,null)}function qc(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++c2};return i==null&&He.vnode!=null&&He.vnode(o),o}function rF(){return{current:null}}function na(t){return t.children}function Hc(t,e){this.props=t,this.context=e}function ia(t,e){if(e==null)return t.__?ia(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ia(t):null}function p2(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return p2(t)}}function pp(t){(!t.__d&&(t.__d=!0)&&Wc.push(t)&&!uf.__r++||l2!==He.debounceRendering)&&((l2=He.debounceRendering)||setTimeout)(uf)}function uf(){for(var t;uf.__r=Wc.length;)t=Wc.sort(function(e,r){return e.__v.__b-r.__v.__b}),Wc=[],t.some(function(e){var r,n,i,o,s,a;e.__d&&(s=(o=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=Ai({},o)).__v=o.__v+1,gp(a,o,i,r.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,n,s??ia(o),o.__h),_2(n,o),o.__e!=s&&p2(o)))})}function g2(t,e,r,n,i,o,s,a,c,u){var l,p,m,x,_,R,y,C=n&&n.__k||h2,T=C.length;for(r.__k=[],l=0;l<e.length;l++)if((x=r.__k[l]=(x=e[l])==null||typeof x=="boolean"?null:typeof x=="string"||typeof x=="number"||typeof x=="bigint"?qc(null,x,null,null,x):Array.isArray(x)?qc(na,{children:x},null,null,null):x.__b>0?qc(x.type,x.props,x.key,x.ref?x.ref:null,x.__v):x)!=null){if(x.__=r,x.__b=r.__b+1,(m=C[l])===null||m&&x.key==m.key&&x.type===m.type)C[l]=void 0;else for(p=0;p<T;p++){if((m=C[p])&&x.key==m.key&&x.type===m.type){C[p]=void 0;break}m=null}gp(t,x,m=m||cf,i,o,s,a,c,u),_=x.__e,(p=x.ref)&&m.ref!=p&&(y||(y=[]),m.ref&&y.push(m.ref,null,x),y.push(p,x.__c||_,x)),_!=null?(R==null&&(R=_),typeof x.type=="function"&&x.__k===m.__k?x.__d=c=b2(x,c,t):c=v2(t,x,m,C,_,c),typeof r.type=="function"&&(r.__d=c)):c&&m.__e==c&&c.parentNode!=t&&(c=ia(m))}for(r.__e=R,l=T;l--;)C[l]!=null&&(typeof r.type=="function"&&C[l].__e!=null&&C[l].__e==r.__d&&(r.__d=ia(n,l+1)),S2(C[l],C[l]));if(y)for(l=0;l<y.length;l++)E2(y[l],y[++l],y[++l])}function b2(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e=typeof n.type=="function"?b2(n,e,r):v2(r,n,n,i,n.__e,e));return e}function m2(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){m2(r,e)}):e.push(t)),e}function v2(t,e,r,n,i,o){var s,a,c;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,c=0;(a=a.nextSibling)&&c<n.length;c+=2)if(a==i)break e;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function nF(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||lf(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||lf(t,o,e[o],r[o],n)}function y2(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||tF.test(e)?r:r+"px"}function lf(t,e,r,n,i){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||y2(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||y2(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?w2:x2,o):t.removeEventListener(e,o?w2:x2,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function x2(t){this.l[t.type+!1](He.event?He.event(t):t)}function w2(t){this.l[t.type+!0](He.event?He.event(t):t)}function gp(t,e,r,n,i,o,s,a,c){var u,l,p,m,x,_,R,y,C,T,P,D,j,W=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,o=[a]),(u=He.__b)&&u(e);try{e:if(typeof W=="function"){if(y=e.props,C=(u=W.contextType)&&n[u.__c],T=u?C?C.props.value:u.__:n,r.__c?R=(l=e.__c=r.__c).__=l.__E:("prototype"in W&&W.prototype.render?e.__c=l=new W(y,T):(e.__c=l=new Hc(y,T),l.constructor=W,l.render=oF),C&&C.sub(l),l.props=y,l.state||(l.state={}),l.context=T,l.__n=n,p=l.__d=!0,l.__h=[]),l.__s==null&&(l.__s=l.state),W.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Ai({},l.__s)),Ai(l.__s,W.getDerivedStateFromProps(y,l.__s))),m=l.props,x=l.state,p)W.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(W.getDerivedStateFromProps==null&&y!==m&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,T),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,T)===!1||e.__v===r.__v){l.props=y,l.state=l.__s,e.__v!==r.__v&&(l.__d=!1),l.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(V){V&&(V.__=e)}),l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,T),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(m,x,_)})}if(l.context=T,l.props=y,l.__v=e,l.__P=t,P=He.__r,D=0,"prototype"in W&&W.prototype.render)l.state=l.__s,l.__d=!1,P&&P(e),u=l.render(l.props,l.state,l.context);else do l.__d=!1,P&&P(e),u=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++D<25);l.state=l.__s,l.getChildContext!=null&&(n=Ai(Ai({},n),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(_=l.getSnapshotBeforeUpdate(m,x)),j=u!=null&&u.type===na&&u.key==null?u.props.children:u,g2(t,Array.isArray(j)?j:[j],e,r,n,i,o,s,a,c),l.base=e.__e,e.__h=null,l.__h.length&&s.push(l),R&&(l.__E=l.__=null),l.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=iF(r.__e,e,r,n,i,o,s,c);(u=He.diffed)&&u(e)}catch(V){e.__v=null,(c||o!=null)&&(e.__e=a,e.__h=!!c,o[o.indexOf(a)]=null),He.__e(V,e,r)}}function _2(t,e){He.__c&&He.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){He.__e(n,r.__v)}})}function iF(t,e,r,n,i,o,s,a){var c,u,l,p=r.props,m=e.props,x=e.type,_=0;if(x==="svg"&&(i=!0),o!=null){for(;_<o.length;_++)if((c=o[_])&&"setAttribute"in c==!!x&&(x?c.localName===x:c.nodeType===3)){t=c,o[_]=null;break}}if(t==null){if(x===null)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,m.is&&m),o=null,a=!1}if(x===null)p===m||a&&t.data===m||(t.data=m);else{if(o=o&&$c.call(t.childNodes),u=(p=r.props||cf).dangerouslySetInnerHTML,l=m.dangerouslySetInnerHTML,!a){if(o!=null)for(p={},_=0;_<t.attributes.length;_++)p[t.attributes[_].name]=t.attributes[_].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(nF(t,m,p,i,a),l)e.__k=[];else if(_=e.props.children,g2(t,Array.isArray(_)?_:[_],e,r,n,i&&x!=="foreignObject",o,s,o?o[0]:r.__k&&ia(r,0),a),o!=null)for(_=o.length;_--;)o[_]!=null&&d2(o[_]);a||("value"in m&&(_=m.value)!==void 0&&(_!==t.value||x==="progress"&&!_||x==="option"&&_!==p.value)&&lf(t,"value",_,p.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==t.checked&&lf(t,"checked",_,p.checked,!1))}return t}function E2(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){He.__e(n,r)}}function S2(t,e,r){var n,i;if(He.unmount&&He.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||E2(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){He.__e(o,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&S2(n[i],e,typeof t.type!="function");r||t.__e==null||d2(t.__e),t.__=t.__e=t.__d=void 0}function oF(t,e,r){return this.constructor(t,r)}function A2(t,e,r){var n,i,o;He.__&&He.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],gp(e,t=(!n&&r||e).__k=dp(na,null,[t]),i||cf,cf,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?$c.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n),_2(o,t)}function C2(t,e){A2(t,e,C2)}function sF(t,e,r){var n,i,o,s=Ai({},t.props);for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?$c.call(arguments,2):r),qc(t.type,s,n||t.key,i||t.ref,null)}function aF(t,e){var r={__c:e="__cC"+f2++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(pp)},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}$c=h2.slice,He={__e:function(t,e,r,n){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(a){t=a}throw t}},c2=0,u2=function(t){return t!=null&&t.constructor===void 0},Hc.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ai({},this.state),typeof t=="function"&&(t=t(Ai({},r),this.props)),t&&Ai(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),pp(this))},Hc.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),pp(this))},Hc.prototype.render=na,Wc=[],uf.__r=0,f2=0;var cF=Object.freeze({__proto__:null,Component:Hc,Fragment:na,cloneElement:sF,createContext:aF,createElement:dp,createRef:rF,h:dp,hydrate:C2,get isValidElement(){return u2},get options(){return He},render:A2,toChildArray:m2}),zc=Ye(cF),ff={};function k2(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=k2(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function M2(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=k2(t))&&(n&&(n+=" "),n+=e);return n}var uF=Object.freeze({__proto__:null,clsx:M2,default:M2}),I2=Ye(uF),Ci,bt,bp,R2,oa=0,T2=[],hf=[],P2=He.__b,N2=He.__r,O2=He.diffed,B2=He.__c,L2=He.unmount;function zo(t,e){He.__h&&He.__h(bt,t,oa||e),oa=0;var r=bt.__H||(bt.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:hf}),r.__[t]}function D2(t){return oa=1,F2($2,t)}function F2(t,e,r){var n=zo(Ci++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):$2(void 0,e),function(o){var s=n.__N?n.__N[0]:n.__[0],a=n.t(s,o);s!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=bt,!bt.u)){bt.u=!0;var i=bt.shouldComponentUpdate;bt.shouldComponentUpdate=function(o,s,a){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(l){return l.__c});if(c.every(function(l){return!l.__N}))return!i||i.call(this,o,s,a);var u=!1;return c.forEach(function(l){if(l.__N){var p=l.__[0];l.__=l.__N,l.__N=void 0,p!==l.__[0]&&(u=!0)}}),!!u&&(!i||i.call(this,o,s,a))}}return n.__N||n.__}function lF(t,e){var r=zo(Ci++,3);!He.__s&&yp(r.__H,e)&&(r.__=t,r.i=e,bt.__H.__h.push(r))}function U2(t,e){var r=zo(Ci++,4);!He.__s&&yp(r.__H,e)&&(r.__=t,r.i=e,bt.__h.push(r))}function fF(t){return oa=5,mp(function(){return{current:t}},[])}function hF(t,e,r){oa=6,U2(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function mp(t,e){var r=zo(Ci++,7);return yp(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function dF(t,e){return oa=8,mp(function(){return t},e)}function pF(t){var e=bt.context[t.__c],r=zo(Ci++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(bt)),e.props.value):t.__}function gF(t,e){He.useDebugValue&&He.useDebugValue(e?e(t):t)}function bF(t){var e=zo(Ci++,10),r=D2();return e.__=t,bt.componentDidCatch||(bt.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function mF(){var t=zo(Ci++,11);return t.__||(t.__="P"+function(e){for(var r=0,n=e.length;n>0;)r=(r<<5)-r+e.charCodeAt(--n)|0;return r}(bt.__v.o)+Ci),t.__}function vF(){for(var t;t=T2.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(df),t.__H.__h.forEach(vp),t.__H.__h=[]}catch(e){t.__H.__h=[],He.__e(e,t.__v)}}He.__b=function(t){typeof t.type!="function"||t.o||t.type===na?t.o||(t.o=t.__&&t.__.o?t.__.o:""):t.o=(t.__&&t.__.o?t.__.o:"")+(t.__&&t.__.__k?t.__.__k.indexOf(t):0),bt=null,P2&&P2(t)},He.__r=function(t){N2&&N2(t),Ci=0;var e=(bt=t.__c).__H;e&&(bp===bt?(e.__h=[],bt.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=hf,r.__N=r.i=void 0})):(e.__h.forEach(df),e.__h.forEach(vp),e.__h=[])),bp=bt},He.diffed=function(t){O2&&O2(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(T2.push(e)!==1&&R2===He.requestAnimationFrame||((R2=He.requestAnimationFrame)||yF)(vF)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==hf&&(r.__=r.__V),r.i=void 0,r.__V=hf})),bp=bt=null},He.__c=function(t,e){e.some(function(r){try{r.__h.forEach(df),r.__h=r.__h.filter(function(n){return!n.__||vp(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],He.__e(n,r.__v)}}),B2&&B2(t,e)},He.unmount=function(t){L2&&L2(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{df(n)}catch(i){e=i}}),r.__H=void 0,e&&He.__e(e,r.__v))};var j2=typeof requestAnimationFrame=="function";function yF(t){var e,r=function(){clearTimeout(n),j2&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);j2&&(e=requestAnimationFrame(r))}function df(t){var e=bt,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),bt=e}function vp(t){var e=bt;t.__c=t.__(),bt=e}function yp(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function $2(t,e){return typeof e=="function"?e(t):e}var xF=Object.freeze({__proto__:null,useCallback:dF,useContext:pF,useDebugValue:gF,useEffect:lF,useErrorBoundary:bF,useId:mF,useImperativeHandle:hF,useLayoutEffect:U2,useMemo:mp,useReducer:F2,useRef:fF,useState:D2}),xp=Ye(xF),pf={};Object.defineProperty(pf,"__esModule",{value:!0}),pf.LIB_VERSION=void 0,pf.LIB_VERSION="3.5.2";var wp={};Object.defineProperty(wp,"__esModule",{value:!0}),wp.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var _p={};Object.defineProperty(_p,"__esModule",{value:!0}),_p.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var gf={};function W2(t){this.mode=Jr.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}W2.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function ni(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ni.prototype={addData:function(t){var e=new W2(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ni.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Et.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var s=o*i,a=0;a<this.modules[o].length;a++){var c=a*i,u=this.modules[o][a];u&&(n.beginFill(0,100),n.moveTo(c,s),n.lineTo(c+i,s),n.lineTo(c+i,s+i),n.lineTo(c,s+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Et.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[n+o][i+s]=!0:this.modules[n+o][i+s]=!1}},setupTypeNumber:function(t){for(var e=Et.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Et.getBCHTypeInfo(r),i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var a=0;a<2;a++)if(this.modules[n][s-a]==null){var c=!1;o<t.length&&(c=(t[o]>>>i&1)==1);var u=Et.getMask(e,n,s-a);u&&(c=!c),this.modules[n][s-a]=c,i--,i==-1&&(o++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}},ni.PAD0=236,ni.PAD1=17,ni.createData=function(t,e,r){for(var n=ii.getRSBlocks(t,e),i=new q2,o=0;o<r.length;o++){var s=r[o];i.put(s.mode,4),i.put(s.getLength(),Et.getLengthInBits(s.mode,t)),s.write(i)}for(var a=0,o=0;o<n.length;o++)a+=n[o].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(ni.PAD0,8),i.getLengthInBits()>=a*8));)i.put(ni.PAD1,8);return ni.createBytes(i,n)},ni.createBytes=function(t,e){for(var r=0,n=0,i=0,o=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),o[a]=new Array(c);for(var l=0;l<o[a].length;l++)o[a][l]=255&t.buffer[l+r];r+=c;var p=Et.getErrorCorrectPolynomial(u),m=new sa(o[a],p.getLength()-1),x=m.mod(p);s[a]=new Array(p.getLength()-1);for(var l=0;l<s[a].length;l++){var _=l+x.getLength()-s[a].length;s[a][l]=_>=0?x.get(_):0}}for(var R=0,l=0;l<e.length;l++)R+=e[l].totalCount;for(var y=new Array(R),C=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(y[C++]=o[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(y[C++]=s[a][l]);return y};for(var Jr={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},oo={L:1,M:0,Q:3,H:2},so={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Et={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Et.getBCHDigit(e)-Et.getBCHDigit(Et.G15)>=0;)e^=Et.G15<<Et.getBCHDigit(e)-Et.getBCHDigit(Et.G15);return(t<<10|e)^Et.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Et.getBCHDigit(e)-Et.getBCHDigit(Et.G18)>=0;)e^=Et.G18<<Et.getBCHDigit(e)-Et.getBCHDigit(Et.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Et.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case so.PATTERN000:return(e+r)%2==0;case so.PATTERN001:return e%2==0;case so.PATTERN010:return r%3==0;case so.PATTERN011:return(e+r)%3==0;case so.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case so.PATTERN101:return e*r%2+e*r%3==0;case so.PATTERN110:return(e*r%2+e*r%3)%2==0;case so.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new sa([1],0),r=0;r<t;r++)e=e.multiply(new sa([1,Wt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Jr.MODE_NUMBER:return 10;case Jr.MODE_ALPHA_NUM:return 9;case Jr.MODE_8BIT_BYTE:return 8;case Jr.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Jr.MODE_NUMBER:return 12;case Jr.MODE_ALPHA_NUM:return 11;case Jr.MODE_8BIT_BYTE:return 16;case Jr.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Jr.MODE_NUMBER:return 14;case Jr.MODE_ALPHA_NUM:return 13;case Jr.MODE_8BIT_BYTE:return 16;case Jr.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var o=0,s=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||s==t.isDark(n+a,i+c)&&o++;o>5&&(r+=3+o-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var p=Math.abs(100*l/e/e-50)/5;return r+=p*10,r}},Wt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Wt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Wt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},Yt=0;Yt<8;Yt++)Wt.EXP_TABLE[Yt]=1<<Yt;for(var Yt=8;Yt<256;Yt++)Wt.EXP_TABLE[Yt]=Wt.EXP_TABLE[Yt-4]^Wt.EXP_TABLE[Yt-5]^Wt.EXP_TABLE[Yt-6]^Wt.EXP_TABLE[Yt-8];for(var Yt=0;Yt<255;Yt++)Wt.LOG_TABLE[Wt.EXP_TABLE[Yt]]=Yt;function sa(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}sa.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Wt.gexp(Wt.glog(this.get(r))+Wt.glog(t.get(n)));return new sa(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Wt.glog(this.get(0))-Wt.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Wt.gexp(Wt.glog(t.get(n))+e);return new sa(r,0).mod(t)}};function ii(t,e){this.totalCount=t,this.dataCount=e}ii.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ii.getRSBlocks=function(t,e){var r=ii.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[o*3+0],a=r[o*3+1],c=r[o*3+2],u=0;u<s;u++)i.push(new ii(a,c));return i},ii.getRsBlockTable=function(t,e){switch(e){case oo.L:return ii.RS_BLOCK_TABLE[(t-1)*4+0];case oo.M:return ii.RS_BLOCK_TABLE[(t-1)*4+1];case oo.Q:return ii.RS_BLOCK_TABLE[(t-1)*4+2];case oo.H:return ii.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function q2(){this.buffer=[],this.length=0}q2.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ap=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function H2(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return oo.L;case"M":return oo.M;case"Q":return oo.Q;case"H":return oo.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),p=1,m=0,x=0,_=Ap.length;x<=_;x++){var R=Ap[x];if(!R)throw new Error("Content too long: expected "+m+" but got "+l);switch(u){case"L":m=R[0];break;case"M":m=R[1];break;case"Q":m=R[2];break;case"H":m=R[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=m)break;p++}if(p>Ap.length)throw new Error("Content too long");return p}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var o=this.options.content,s=n(o,this.options.ecl),a=r(this.options.ecl);this.qrcode=new ni(s,a),this.qrcode.addData(o),this.qrcode.make()}H2.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",o=n?`\r
`:"",s=e.width,a=e.height,c=r.length,u=s/(c+2*e.padding),l=a/(c+2*e.padding),p=typeof e.join<"u"?!!e.join:!1,m=typeof e.swap<"u"?!!e.swap:!1,x=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,_=typeof e.predefined<"u"?!!e.predefined:!1,R=_?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+o:"",y=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+o,C="",T="",P=0;P<c;P++)for(var D=0;D<c;D++){var j=r[D][P];if(j){var W=D*u+e.padding*u,V=P*l+e.padding*l;if(m){var G=W;W=V,V=G}if(p){var Q=u+W,F=l+V;W=Number.isInteger(W)?Number(W):W.toFixed(2),V=Number.isInteger(V)?Number(V):V.toFixed(2),Q=Number.isInteger(Q)?Number(Q):Q.toFixed(2),F=Number.isInteger(F)?Number(F):F.toFixed(2),T+="M"+W+","+V+" V"+F+" H"+Q+" V"+V+" H"+W+" Z "}else _?C+=i+'<use x="'+W.toString()+'" y="'+V.toString()+'" href="#qrmodule" />'+o:C+=i+'<rect x="'+W.toString()+'" y="'+V.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+o}}p&&(C=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+T+'" />');let g="";if(this.options.image!==void 0&&this.options.image.svg){const v=s*this.options.image.width/100,f=a*this.options.image.height/100,h=s/2-v/2,w=a/2-f/2;g+=`<svg x="${h}" y="${w}" width="${v}" height="${f}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,g+=this.options.image.svg+o,g+="</svg>"}var A="";switch(t.container){case"svg":x&&(A+='<?xml version="1.0" standalone="yes"?>'+o),A+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,A+=R+y+C,A+=g,A+="</svg>";break;case"svg-viewbox":x&&(A+='<?xml version="1.0" standalone="yes"?>'+o),A+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,A+=R+y+C,A+=g,A+="</svg>";break;case"g":A+='<g width="'+s+'" height="'+a+'">'+o,A+=R+y+C,A+=g,A+="</g>";break;default:A+=(R+y+C+g).replace(/^\s+/,"");break}return A};var wF=H2,_F=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gf,"__esModule",{value:!0}),gf.QRCode=void 0;const EF=zc,z2=xp,SF=_F(wF),AF=t=>{const[e,r]=(0,z2.useState)("");return(0,z2.useEffect)(()=>{var n,i;const o=new SF.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),s=Buffer.from(o.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${s}`)}),e?(0,EF.h)("img",{src:e,alt:"QR Code"}):null};gf.QRCode=AF;var bf={},Cp={};Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var CF=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bf,"__esModule",{value:!0}),bf.Spinner=void 0;const mf=zc,kF=CF(Cp),MF=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,mf.h)("div",{class:"-cbwsdk-spinner"},(0,mf.h)("style",null,kF.default),(0,mf.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,mf.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};bf.Spinner=MF;var kp={};Object.defineProperty(kp,"__esModule",{value:!0}),kp.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.dark{color:#fff;background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button.dark{background-color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.dark{background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark a{color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1);background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light>p{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark{background-color:rgba(20,21,25,.9)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::after{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::after{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.dark{color:#fff}';var aa=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ff,"__esModule",{value:!0}),ff.TryExtensionLinkDialog=void 0;const An=aa(I2),et=zc,Vc=xp,IF=ce,RF=pf,TF=aa(wp),PF=aa(_p),NF=aa(Ep),OF=aa(Sp),BF=gf,LF=bf,DF=aa(kp),FF=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Vc.useState)(!e),[o,s]=(0,Vc.useState)(!e);(0,Vc.useEffect)(()=>{const c=[window.setTimeout(()=>{s(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,et.h)("div",{class:(0,An.default)("-cbwsdk-extension-dialog-container",n&&"-cbwsdk-extension-dialog-container-hidden")},(0,et.h)("style",null,DF.default),(0,et.h)("div",{class:(0,An.default)("-cbwsdk-extension-dialog-backdrop",a,o&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,et.h)("div",{class:"-cbwsdk-extension-dialog"},(0,et.h)("div",{class:(0,An.default)("-cbwsdk-extension-dialog-box",o&&"-cbwsdk-extension-dialog-box-hidden")},(0,et.h)(UF,{darkMode:r,onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,et.h)(jF,{darkMode:r,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId}),t.onCancel&&(0,et.h)($F,{darkMode:r,onClick:t.onCancel}))))};ff.TryExtensionLinkDialog=FF;const UF=({darkMode:t,onInstallClick:e})=>{const[r,n]=(0,Vc.useState)(!1),i=(0,Vc.useCallback)(()=>{r?window.location.reload():(e(),n(!0))},[e,r]),o=t?"dark":"light";return(0,et.h)("div",{class:(0,An.default)("-cbwsdk-extension-dialog-box-top",o)},(0,et.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,et.h)("h2",{class:o},"Try the Coinbase Wallet extension"),r&&(0,et.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,et.h)("button",{type:"button",onClick:i},r?"Refresh":"Install")),(0,et.h)("div",{class:(0,An.default)("-cbwsdk-extension-dialog-box-top-info-region",o)},(0,et.h)(Mp,{darkMode:t,icon:PF.default,text:"Connect to crypto apps with one click"}),(0,et.h)(Mp,{darkMode:t,icon:NF.default,text:"Your private key is stored securely"}),(0,et.h)(Mp,{darkMode:t,icon:TF.default,text:"Works with Ethereum, Polygon, and more"})))},jF=t=>{const e=(0,IF.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),r=t.darkMode?"dark":"light";return(0,et.h)("div",{"data-testid":"scan-qr-box",class:(0,An.default)("-cbwsdk-extension-dialog-box-bottom",r)},(0,et.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,et.h)("h2",{class:r},"Or scan to connect"),(0,et.h)("body",{class:(0,An.default)("-cbwsdk-extension-dialog-box-bottom-description",r)},"Open"," ",(0,et.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,et.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,et.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,et.h)(BF.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:OF.default,width:34,height:34}})),(0,et.h)("input",{type:"hidden",name:"cbwsdk-version",value:RF.LIB_VERSION}),(0,et.h)("input",{type:"hidden",value:e}),!t.isConnected&&(0,et.h)("div",{"data-testid":"connecting-spinner",class:(0,An.default)("-cbwsdk-extension-dialog-box-bottom-qr-connecting",r)},(0,et.h)(LF.Spinner,{size:36,color:t.darkMode?"#FFF":"#000"}),(0,et.h)("p",null,"Connecting..."))))},Mp=t=>{const e=t.darkMode?"dark":"light";return(0,et.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,et.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,et.h)("img",{src:t.icon})),(0,et.h)("body",{class:(0,An.default)("-cbwsdk-extension-dialog-box-top-description-text",e)},t.text))},$F=t=>{const e=t.darkMode?"dark":"light";return(0,et.h)("button",{type:"button",class:(0,An.default)("-cbwsdk-extension-dialog-box-cancel",e),onClick:t.onClick},(0,et.h)("div",{class:(0,An.default)("-cbwsdk-extension-dialog-box-cancel-x",e)}))};Object.defineProperty(af,"__esModule",{value:!0}),af.LinkFlow=void 0;const Ip=zc,V2=$s,WF=ff;class qF{constructor(e){this.extensionUI$=new V2.BehaviorSubject({}),this.subscriptions=new V2.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Ip.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Ip.render)((0,Ip.h)(WF.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}af.LinkFlow=qF;var G2={},Rp={};Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",function(t){var e=ae&&ae.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(I2),n=zc,i=xp,o=e(Rp),s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class c{constructor(m){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=m.darkMode}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const x=this.nextItemKey++;return this.items.set(x,m),this.render(),()=>{this.items.delete(x),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,x])=>(0,n.h)(t.SnackbarInstance,Object.assign({},x,{key:m}))))),this.root)}}t.Snackbar=c;const u=p=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,o.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},p.children));t.SnackbarContainer=u;const l=({autoExpand:p,message:m,menuItems:x})=>{const[_,R]=(0,i.useState)(!0),[y,C]=(0,i.useState)(p??!1);(0,i.useEffect)(()=>{const P=[window.setTimeout(()=>{R(!1)},1),window.setTimeout(()=>{C(!0)},1e4)];return()=>{P.forEach(window.clearTimeout)}});const T=()=>{C(!y)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",_&&"-cbwsdk-snackbar-instance-hidden",y&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:T},(0,n.h)("img",{src:s,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,n.h)("div",{class:"-gear-container"},!y&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),x&&x.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},x.map((P,D)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",P.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:P.onClick,key:D},(0,n.h)("svg",{width:P.svgWidth,height:P.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":P.defaultFillRule,"clip-rule":P.defaultClipRule,d:P.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",P.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},P.info)))))};t.SnackbarInstance=l}(G2);var vf={},Tp={};Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var HF=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vf,"__esModule",{value:!0}),vf.injectCssReset=void 0;const zF=HF(Tp);function VF(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(zF.default)),document.documentElement.appendChild(t)}vf.injectCssReset=VF,Object.defineProperty(sf,"__esModule",{value:!0}),sf.WalletSDKUI=void 0;const GF=af,KF=G2,JF=vf;class QF{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new KF.Snackbar({darkMode:e.darkMode}),this.linkFlow=new GF.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,JF.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}sf.WalletSDKUI=QF;var yf={},xf={};Object.defineProperty(xf,"__esModule",{value:!0});var ca;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(ca||(ca={}));function K2(t,e,r){if(!r||typeof r.value!==ca.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:ca.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:ca.boolTrue,writable:ca.boolTrue}),n}}}xf.bind=K2,xf.default=K2;var wf={},hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.ClientMessagePublishEvent=hn.ClientMessageSetSessionConfig=hn.ClientMessageGetSessionConfig=hn.ClientMessageIsLinked=hn.ClientMessageHostSession=void 0;function YF(t){return Object.assign({type:"HostSession"},t)}hn.ClientMessageHostSession=YF;function ZF(t){return Object.assign({type:"IsLinked"},t)}hn.ClientMessageIsLinked=ZF;function XF(t){return Object.assign({type:"GetSessionConfig"},t)}hn.ClientMessageGetSessionConfig=XF;function eU(t){return Object.assign({type:"SetSessionConfig"},t)}hn.ClientMessageSetSessionConfig=eU;function tU(t){return Object.assign({type:"PublishEvent"},t)}hn.ClientMessagePublishEvent=tU;var J2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=$s,r=Ml;var n;(function(o){o[o.DISCONNECTED=0]="DISCONNECTED",o[o.CONNECTING=1]="CONNECTING",o[o.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(s,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=s.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(s=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){s.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),s.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{s.next(),s.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:s}=this;if(!!s){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{s.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(s=>{let a;try{a=JSON.parse(s)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(s){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(s)}clearWebSocket(){const{webSocket:s}=this;!s||(this.webSocket=null,s.onclose=null,s.onerror=null,s.onmessage=null,s.onopen=null)}}t.RxWebSocket=i})(J2);var _f={};Object.defineProperty(_f,"__esModule",{value:!0}),_f.isServerMessageFail=void 0;function rU(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}_f.isServerMessageFail=rU,Object.defineProperty(wf,"__esModule",{value:!0}),wf.WalletSDKConnection=void 0;const Cn=$s,rt=Ml,Gc=Ps,ua=Tc,Kc=hn,Jc=Ts,Ef=J2,Pp=_f,Q2=1e4,nU=6e4;class iU{constructor(e,r,n,i,o=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Cn.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,ua.IntNumber)(1),this.connectedSubject=new Cn.BehaviorSubject(!1),this.linkedSubject=new Cn.BehaviorSubject(!1),this.sessionConfigSubject=new Cn.ReplaySubject(1);const s=new Ef.RxWebSocket(n+"/rpc",o);this.ws=s,this.subscriptions.add(s.connectionState$.pipe((0,rt.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Jc.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Gc.Session.hash(e)})}),(0,rt.skip)(1),(0,rt.filter)(a=>a===Ef.ConnectionState.DISCONNECTED&&!this.destroyed),(0,rt.delay)(5e3),(0,rt.filter)(a=>!this.destroyed),(0,rt.flatMap)(a=>s.connect()),(0,rt.retry)()).subscribe()),this.subscriptions.add(s.connectionState$.pipe((0,rt.skip)(2),(0,rt.switchMap)(a=>(0,Cn.iif)(()=>a===Ef.ConnectionState.CONNECTED,this.authenticate().pipe((0,rt.tap)(c=>this.sendIsLinked()),(0,rt.tap)(c=>this.sendGetSessionConfig()),(0,rt.map)(c=>!0)),(0,Cn.of)(!1))),(0,rt.distinctUntilChanged)(),(0,rt.catchError)(a=>(0,Cn.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(s.connectionState$.pipe((0,rt.skip)(1),(0,rt.switchMap)(a=>(0,Cn.iif)(()=>a===Ef.ConnectionState.CONNECTED,(0,Cn.timer)(0,Q2)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(s.incomingData$.pipe((0,rt.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(s.incomingJSONData$.pipe((0,rt.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Jc.EVENTS.LINKED,{sessionIdHash:Gc.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(s.incomingJSONData$.pipe((0,rt.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Jc.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Gc.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Jc.EVENTS.STARTED_CONNECTING,{sessionIdHash:Gc.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Jc.EVENTS.DISCONNECTED,{sessionIdHash:Gc.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,rt.filter)(e=>e),(0,rt.take)(1),(0,rt.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,rt.filter)(e=>e),(0,rt.take)(1),(0,rt.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,rt.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,rt.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Kc.ClientMessageSetSessionConfig)({id:(0,ua.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,rt.flatMap)(i=>this.makeRequest(n)),(0,rt.map)(i=>{if((0,Pp.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Kc.ClientMessagePublishEvent)({id:(0,ua.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,rt.flatMap)(o=>this.makeRequest(i)),(0,rt.map)(o=>{if((0,Pp.isServerMessageFail)(o))throw new Error(o.error||"failed to publish event");return o.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Q2*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=nU){const n=e.id;try{this.sendData(e)}catch(i){return(0,Cn.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,rt.timeoutWith)(r,(0,Cn.throwError)(new Error(`request ${n} timed out`))),(0,rt.filter)(i=>i.id===n),(0,rt.take)(1))}authenticate(){const e=(0,Kc.ClientMessageHostSession)({id:(0,ua.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,rt.map)(r=>{if((0,Pp.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Kc.ClientMessageIsLinked)({id:(0,ua.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Kc.ClientMessageGetSessionConfig)({id:(0,ua.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}wf.WalletSDKConnection=iU;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.WalletUIError=void 0;class Qc extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}Sf.WalletUIError=Qc,Qc.UserRejectedRequest=new Qc("User rejected request"),Qc.SwitchEthereumChainUnsupportedChainId=new Qc("Unsupported chainId",4902);var la={};Object.defineProperty(la,"__esModule",{value:!0}),la.decrypt=la.encrypt=void 0;const oU=$s,Af=ce;async function sU(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Af.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),s=16,a=o.slice(o.byteLength-s),c=o.slice(0,o.byteLength-s),u=new Uint8Array(a),l=new Uint8Array(c),p=new Uint8Array([...r,...u,...l]);return(0,Af.uint8ArrayToHex)(p)}la.encrypt=sU;function aU(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new oU.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,Af.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,Af.hexStringToUint8Array)(t),o=i.slice(0,12),s=i.slice(12,28),a=i.slice(28),c=new Uint8Array([...a,...s]),u={name:"AES-GCM",iv:new Uint8Array(o)};try{const l=await window.crypto.subtle.decrypt(u,n,c),p=new TextDecoder;r.next(p.decode(l)),r.complete()}catch(l){r.error(l)}})()})}la.decrypt=aU;var Np={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Np);var Cf={},kf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(kf),Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.Web3RequestCanceledMessage=void 0;const cU=kf;function uU(t){return{type:cU.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Cf.Web3RequestCanceledMessage=uU;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.Web3RequestMessage=void 0;const lU=kf;function fU(t){return Object.assign({type:lU.RelayMessageType.WEB3_REQUEST},t)}Mf.Web3RequestMessage=fU;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.EthereumAddressFromSignedMessageResponse=vt.SubmitEthereumTransactionResponse=vt.SignEthereumTransactionResponse=vt.SignEthereumMessageResponse=vt.isRequestEthereumAccountsResponse=vt.SelectProviderResponse=vt.WatchAssetReponse=vt.RequestEthereumAccountsResponse=vt.SwitchEthereumChainResponse=vt.AddEthereumChainResponse=vt.ErrorResponse=void 0;const oi=Np;function hU(t,e,r){return{method:t,errorMessage:e,errorCode:r}}vt.ErrorResponse=hU;function dU(t){return{method:oi.Web3Method.addEthereumChain,result:t}}vt.AddEthereumChainResponse=dU;function pU(t){return{method:oi.Web3Method.switchEthereumChain,result:t}}vt.SwitchEthereumChainResponse=pU;function gU(t){return{method:oi.Web3Method.requestEthereumAccounts,result:t}}vt.RequestEthereumAccountsResponse=gU;function bU(t){return{method:oi.Web3Method.watchAsset,result:t}}vt.WatchAssetReponse=bU;function mU(t){return{method:oi.Web3Method.selectProvider,result:t}}vt.SelectProviderResponse=mU;function vU(t){return t&&t.method===oi.Web3Method.requestEthereumAccounts}vt.isRequestEthereumAccountsResponse=vU;function yU(t){return{method:oi.Web3Method.signEthereumMessage,result:t}}vt.SignEthereumMessageResponse=yU;function xU(t){return{method:oi.Web3Method.signEthereumTransaction,result:t}}vt.SignEthereumTransactionResponse=xU;function wU(t){return{method:oi.Web3Method.submitEthereumTransaction,result:t}}vt.SubmitEthereumTransactionResponse=wU;function _U(t){return{method:oi.Web3Method.ethereumAddressFromSignedMessage,result:t}}vt.EthereumAddressFromSignedMessageResponse=_U;var fa={};Object.defineProperty(fa,"__esModule",{value:!0}),fa.isWeb3ResponseMessage=fa.Web3ResponseMessage=void 0;const Y2=kf;function EU(t){return Object.assign({type:Y2.RelayMessageType.WEB3_RESPONSE},t)}fa.Web3ResponseMessage=EU;function SU(t){return t&&t.type===Y2.RelayMessageType.WEB3_RESPONSE}fa.isWeb3ResponseMessage=SU;var AU=ae&&ae.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CU=ae&&ae.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Z2=ae&&ae.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},kU=ae&&ae.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AU(e,t,r);return CU(e,t),e},MU=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yf,"__esModule",{value:!0}),yf.WalletSDKRelay=void 0;const X2=MU(xf),e_=lc,Yc=$s,Zt=Ml,xr=Ts,IU=wf,Op=Sf,RU=Tc,yt=ce,Vo=kU(la),ao=Ps,If=En,qt=Np,TU=Cf,PU=Mf,Qr=vt,wr=fa;class kn extends If.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Yc.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Yc.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:o}=this.subscribe();if(this._session=n,this.connection=o,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=ao.Session.load(this.storage)||new ao.Session(this.storage).save(),r=new IU.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(xr.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Zt.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Zt.skip)(1),(0,Zt.tap)(i=>{var o;this.isLinked=i;const s=this.storage.getItem(If.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,s){const a=s.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(o=this.diagnostic)===null||o===void 0||o.log(xr.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Zt.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const o=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(xr.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:o,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Zt.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Zt.mergeMap)(i=>Vo.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(If.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(xr.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Zt.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Zt.mergeMap)(i=>Vo.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(If.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(xr.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Zt.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Zt.mergeMap)(i=>(0,Yc.zip)(Vo.decrypt(i.metadata.ChainId,e.secret),Vo.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Zt.distinctUntilChanged)()).subscribe({next:([i,o])=>{this.chainCallback&&this.chainCallback(i,o)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(xr.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Zt.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Zt.mergeMap)(i=>Vo.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),kn.accountRequestCallbackIds.size>0&&(Array.from(kn.accountRequestCallbackIds.values()).forEach(o=>{const s=(0,wr.Web3ResponseMessage)({id:o,response:(0,Qr.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},s),{id:o}))}),kn.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(xr.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Zt.timeout)(1e3),(0,Zt.catchError)(e=>(0,Yc.of)(null))).subscribe(e=>{var r,n,i;const o=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(xr.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(xr.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=ao.Session.load(this.storage);if(s?.id===this._session.id?this.storage.clear():s&&((i=this.diagnostic)===null||i===void 0||i.log(xr.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:ao.Session.hash(s.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,o&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(xr.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:qt.Web3Method.signEthereumMessage,params:{message:(0,yt.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:qt.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,yt.hexStringFromBuffer)(e,!0),signature:(0,yt.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:qt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,yt.bigIntStringFromBN)(e.weiValue),data:(0,yt.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,yt.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,yt.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,yt.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,yt.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:qt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,yt.bigIntStringFromBN)(e.weiValue),data:(0,yt.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,yt.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,yt.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,yt.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,yt.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:qt.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,yt.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:qt.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,yt.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:qt.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,yt.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r?.()};return{promise:new Promise((s,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),c.errorMessage)return a(new Error(c.errorMessage));s(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,PU.Web3RequestMessage)({id:e,request:r}),o=ao.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(xr.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?ao.Session.hash(o.id):"",isSessionMismatched:(o?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:s=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(xr.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o?ao.Session.hash(o.id):"",isSessionMismatched:(o?.id!==this._session.id).toString()})},error:s=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:s.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,TU.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Yc.Observable(o=>{Vo.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(s=>{o.next(s),o.complete()})}).pipe((0,Zt.mergeMap)(o=>this.connection.publishEvent(e,o,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Vo.decrypt(e.data,this.session.secret).pipe((0,Zt.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,wr.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(xr.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(xr.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Qr.isRequestEthereumAccountsResponse)(n)){kn.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),kn.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:e,response:(0,Qr.ErrorResponse)(r,(n??Op.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:qt.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,yt.randomBytesHex)(8),n=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o)};return{promise:new Promise((o,s)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return s(new Error(u.errorMessage));o(u)});const c=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,yt.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:r,response:(0,Qr.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=e_.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}kn.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:qt.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,yt.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,s)},o=new Promise((s,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));s(l)});const c=l=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:n,response:(0,Qr.SelectProviderResponse)(RU.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:n,response:(0,Qr.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:o}}watchAsset(e,r,n,i,o,s){const a={method:qt.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:o},chainId:s}};let c=null;const u=(0,yt.randomBytesHex)(8),l=m=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,m),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const p=new Promise((m,x)=>{this.relayEventManager.callbacks.set(u,y=>{if(c?.(),y.errorMessage)return x(new Error(y.errorMessage));m(y)});const _=y=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:u,response:(0,Qr.WatchAssetReponse)(!1)}))},R=()=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:u,response:(0,Qr.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:R,onCancel:_,type:e,address:r,symbol:n,decimals:i,image:o,chainId:s}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:p}}addEthereumChain(e,r,n,i,o,s){const a={method:qt.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:o,iconUrls:n,nativeCurrency:s}};let c=null;const u=(0,yt.randomBytesHex)(8),l=m=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,m),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((m,x)=>{this.relayEventManager.callbacks.set(u,y=>{if(c?.(),y.errorMessage)return x(new Error(y.errorMessage));m(y)});const _=y=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:u,response:(0,Qr.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},R=y=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:u,response:(0,Qr.AddEthereumChainResponse)({isApproved:!0,rpcUrl:y})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:_,onApprove:R,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:qt.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,yt.randomBytesHex)(8),o=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,p=>{if(p.errorMessage&&p.errorCode)return c(e_.ethErrors.provider.custom({code:p.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(p.errorMessage)return c(new Error(p.errorMessage));a(p)});const u=p=>{if(typeof p=="number"){const m=p;this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:i,response:(0,Qr.ErrorResponse)(qt.Web3Method.switchEthereumChain,Op.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,m)}))}else p instanceof Op.WalletUIError?this.handleErrorResponse(i,qt.Web3Method.switchEthereumChain,p,p.errorCode):this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:i,response:(0,Qr.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=p=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:i,response:(0,Qr.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:p})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:o}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return ao.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=o=>{this.handleErrorResponse(e,r.method,o)},i=o=>{this.handleWeb3ResponseMessage((0,wr.Web3ResponseMessage)({id:e,response:o}))};switch(r.method){case qt.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case qt.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case qt.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case qt.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}kn.accountRequestCallbackIds=new Set,Z2([X2.default],kn.prototype,"resetAndReload",null),Z2([X2.default],kn.prototype,"handleIncomingEvent",null),yf.WalletSDKRelay=kn;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.WalletSDKRelayEventManager=void 0;const NU=ce;class OU{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,NU.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Rf.WalletSDKRelayEventManager=OU;var BU="@coinbase/wallet-sdk",LU="3.5.2",DU="Coinbase Wallet JavaScript SDK",FU=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],UU="dist/index.js",jU="dist/index.d.ts",$U="https://github.com/coinbase/coinbase-wallet-sdk.git",WU="Coinbase, Inc.",qU="Apache-2.0",HU={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},zU={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},VU={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},GU={node:">= 10.0.0"},KU={name:BU,version:LU,description:DU,keywords:FU,main:UU,types:jU,repository:$U,author:WU,license:qU,scripts:HU,dependencies:zU,devDependencies:VU,engines:GU};Object.defineProperty(uc,"__esModule",{value:!0}),uc.CoinbaseWalletSDK=void 0;const JU=gl,QU=bl,YU=Ms,ZU=sf,XU=yf,ej=Rf,tj=ce,rj=process.env.LINK_API_URL||"https://www.walletlink.org",t_=process.env.SDK_VERSION||KU.version||"unknown";class Tf{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const o=e.linkAPIUrl||rj;let s;if(e.uiConstructor?s=e.uiConstructor:s=u=>new ZU.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(o),c=`${a.protocol}//${a.host}`;this._storage=new QU.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Tf.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new ej.WalletSDKRelayEventManager,this._relay=new XU.WalletSDKRelay({linkAPIUrl:o,version:t_,darkMode:!!e.darkMode,uiConstructor:s,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const o=this._relay;if(!o||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||o.setConnectDisabled(!0),new YU.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(o),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,tj.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,JU.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}uc.CoinbaseWalletSDK=Tf,Tf.VERSION=t_,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=uc,r=Ms;var n=uc;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Ms;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)}(Ud);var nj=Ug(Ud),ij=J4({__proto__:null,default:nj},[Ud]);const oj="PARSE_ERROR",sj="INVALID_REQUEST",aj="METHOD_NOT_FOUND",cj="INVALID_PARAMS",r_="INTERNAL_ERROR",Bp="SERVER_ERROR",uj=[-32700,-32600,-32601,-32602,-32603],Zc={[oj]:{code:-32700,message:"Parse error"},[sj]:{code:-32600,message:"Invalid Request"},[aj]:{code:-32601,message:"Method not found"},[cj]:{code:-32602,message:"Invalid params"},[r_]:{code:-32603,message:"Internal error"},[Bp]:{code:-32e3,message:"Server error"}},n_=Bp;function lj(t){return uj.includes(t)}function i_(t){return Object.keys(Zc).includes(t)?Zc[t]:Zc[n_]}function fj(t){const e=Object.values(Zc).find(r=>r.code===t);return e||Zc[n_]}function hj(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var ha={},co={};Object.defineProperty(co,"__esModule",{value:!0}),co.isBrowserCryptoAvailable=co.getSubtleCrypto=co.getBrowerCrypto=void 0;function Lp(){return ae?.crypto||ae?.msCrypto||{}}co.getBrowerCrypto=Lp;function o_(){const t=Lp();return t.subtle||t.webkitSubtle}co.getSubtleCrypto=o_;function dj(){return!!Lp()&&!!o_()}co.isBrowserCryptoAvailable=dj;var uo={};Object.defineProperty(uo,"__esModule",{value:!0}),uo.isBrowser=uo.isNode=uo.isReactNative=void 0;function s_(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}uo.isReactNative=s_;function a_(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}uo.isNode=a_;function pj(){return!s_()&&!a_()}uo.isBrowser=pj,function(t){var e=ae&&ae.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=ae&&ae.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(co,t),r(uo,t)}(ha);function c_(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function gj(t,e,r){return{id:r||c_(),jsonrpc:"2.0",method:t,params:e}}function Dp(t,e,r){return{id:t,jsonrpc:"2.0",error:bj(e,r)}}function bj(t,e){return typeof t>"u"?i_(r_):(typeof t=="string"&&(t=Object.assign(Object.assign({},i_(Bp)),{message:t})),typeof e<"u"&&(t.data=e),lj(t.code)&&(t=fj(t.code)),t)}class u_{}class mj extends u_{constructor(e){super()}}class vj extends u_{constructor(){super()}}class yj extends vj{constructor(e){super()}}const xj="^https?:";function wj(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function _j(t,e){const r=wj(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function l_(t){return _j(t,xj)}function Ej(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Sj(t){return Ej(t)&&(Aj(t)||f_(t))}function Aj(t){return"result"in t}function f_(t){return"error"in t}class h_ extends yj{constructor(e){super(e),this.events=new th.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(gj(e.method,e.params||[]),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${e.id}`,o=>{f_(o)?i(o.error):n(o.result)});try{await this.connection.send(e,r)}catch(o){i(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Sj(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}var Fp={exports:{}};(function(t,e){var r=typeof self<"u"?self:ae,n=function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function c(f){return f&&DataView.prototype.isPrototypeOf(f)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(f){return f&&u.indexOf(Object.prototype.toString.call(f))>-1};function p(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function m(f){return typeof f!="string"&&(f=String(f)),f}function x(f){var h={next:function(){var w=f.shift();return{done:w===void 0,value:w}}};return a.iterable&&(h[Symbol.iterator]=function(){return h}),h}function _(f){this.map={},f instanceof _?f.forEach(function(h,w){this.append(w,h)},this):Array.isArray(f)?f.forEach(function(h){this.append(h[0],h[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(h){this.append(h,f[h])},this)}_.prototype.append=function(f,h){f=p(f),h=m(h);var w=this.map[f];this.map[f]=w?w+", "+h:h},_.prototype.delete=function(f){delete this.map[p(f)]},_.prototype.get=function(f){return f=p(f),this.has(f)?this.map[f]:null},_.prototype.has=function(f){return this.map.hasOwnProperty(p(f))},_.prototype.set=function(f,h){this.map[p(f)]=m(h)},_.prototype.forEach=function(f,h){for(var w in this.map)this.map.hasOwnProperty(w)&&f.call(h,this.map[w],w,this)},_.prototype.keys=function(){var f=[];return this.forEach(function(h,w){f.push(w)}),x(f)},_.prototype.values=function(){var f=[];return this.forEach(function(h){f.push(h)}),x(f)},_.prototype.entries=function(){var f=[];return this.forEach(function(h,w){f.push([w,h])}),x(f)},a.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function R(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function y(f){return new Promise(function(h,w){f.onload=function(){h(f.result)},f.onerror=function(){w(f.error)}})}function C(f){var h=new FileReader,w=y(h);return h.readAsArrayBuffer(f),w}function T(f){var h=new FileReader,w=y(h);return h.readAsText(f),w}function P(f){for(var h=new Uint8Array(f),w=new Array(h.length),M=0;M<h.length;M++)w[M]=String.fromCharCode(h[M]);return w.join("")}function D(f){if(f.slice)return f.slice(0);var h=new Uint8Array(f.byteLength);return h.set(new Uint8Array(f)),h.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:a.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:a.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():a.arrayBuffer&&a.blob&&c(f)?(this._bodyArrayBuffer=D(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||l(f))?this._bodyArrayBuffer=D(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var f=R(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?R(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var f=R(this);if(f)return f;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(Q)}),this.json=function(){return this.text().then(JSON.parse)},this}var W=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(f){var h=f.toUpperCase();return W.indexOf(h)>-1?h:f}function G(f,h){h=h||{};var w=h.body;if(f instanceof G){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,h.headers||(this.headers=new _(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!w&&f._bodyInit!=null&&(w=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new _(h.headers)),this.method=V(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(w)}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})};function Q(f){var h=new FormData;return f.trim().split("&").forEach(function(w){if(w){var M=w.split("="),S=M.shift().replace(/\+/g," "),d=M.join("=").replace(/\+/g," ");h.append(decodeURIComponent(S),decodeURIComponent(d))}}),h}function F(f){var h=new _,w=f.replace(/\r?\n[\t ]+/g," ");return w.split(/\r?\n/).forEach(function(M){var S=M.split(":"),d=S.shift().trim();if(d){var I=S.join(":").trim();h.append(d,I)}}),h}j.call(G.prototype);function g(f,h){h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new _(h.headers),this.url=h.url||"",this._initBody(f)}j.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},g.error=function(){var f=new g(null,{status:0,statusText:""});return f.type="error",f};var A=[301,302,303,307,308];g.redirect=function(f,h){if(A.indexOf(h)===-1)throw new RangeError("Invalid status code");return new g(null,{status:h,headers:{location:f}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(h,w){this.message=h,this.name=w;var M=Error(h);this.stack=M.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function v(f,h){return new Promise(function(w,M){var S=new G(f,h);if(S.signal&&S.signal.aborted)return M(new s.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function I(){d.abort()}d.onload=function(){var k={status:d.status,statusText:d.statusText,headers:F(d.getAllResponseHeaders()||"")};k.url="responseURL"in d?d.responseURL:k.headers.get("X-Request-URL");var b="response"in d?d.response:d.responseText;w(new g(b,k))},d.onerror=function(){M(new TypeError("Network request failed"))},d.ontimeout=function(){M(new TypeError("Network request failed"))},d.onabort=function(){M(new s.DOMException("Aborted","AbortError"))},d.open(S.method,S.url,!0),S.credentials==="include"?d.withCredentials=!0:S.credentials==="omit"&&(d.withCredentials=!1),"responseType"in d&&a.blob&&(d.responseType="blob"),S.headers.forEach(function(k,b){d.setRequestHeader(b,k)}),S.signal&&(S.signal.addEventListener("abort",I),d.onreadystatechange=function(){d.readyState===4&&S.signal.removeEventListener("abort",I)}),d.send(typeof S._bodyInit>"u"?null:S._bodyInit)})}return v.polyfill=!0,o.fetch||(o.fetch=v,o.Headers=_,o.Request=G,o.Response=g),s.Headers=_,s.Request=G,s.Response=g,s.fetch=v,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Fp,Fp.exports);var d_=Ug(Fp.exports);function p_(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function Up(t){return typeof t=="string"?t:JSON.stringify(t)}const g_={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},b_=10;class Cj{constructor(e){if(this.url=e,this.events=new th.EventEmitter,this.isAvailable=!1,this.registering=!1,!l_(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,r){this.isAvailable||await this.register();try{const n=Up(e),o=await(await d_(this.url,Object.assign(Object.assign({},g_),{body:n}))).json();this.onPayload({data:o})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!l_(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{const r=Up({id:1,jsonrpc:"2.0",method:"test",params:[]});await d_(e,Object.assign(Object.assign({},g_),{body:r})),this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?p_(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),o=Dp(e,i);this.events.emit("payload",o)}parseError(e,r=this.url){return hj(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>b_&&this.events.setMaxListeners(b_)}}var jp={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});var m_=gt.getLocalStorage=M_=gt.getLocalStorageOrThrow=k_=gt.getCrypto=C_=gt.getCryptoOrThrow=A_=gt.getLocation=S_=gt.getLocationOrThrow=E_=gt.getNavigator=__=gt.getNavigatorOrThrow=w_=gt.getDocument=x_=gt.getDocumentOrThrow=y_=gt.getFromWindowOrThrow=v_=gt.getFromWindow=void 0;function Go(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var v_=gt.getFromWindow=Go;function da(t){const e=Go(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var y_=gt.getFromWindowOrThrow=da;function kj(){return da("document")}var x_=gt.getDocumentOrThrow=kj;function Mj(){return Go("document")}var w_=gt.getDocument=Mj;function Ij(){return da("navigator")}var __=gt.getNavigatorOrThrow=Ij;function Rj(){return Go("navigator")}var E_=gt.getNavigator=Rj;function Tj(){return da("location")}var S_=gt.getLocationOrThrow=Tj;function Pj(){return Go("location")}var A_=gt.getLocation=Pj;function Nj(){return da("crypto")}var C_=gt.getCryptoOrThrow=Nj;function Oj(){return Go("crypto")}var k_=gt.getCrypto=Oj;function Bj(){return da("localStorage")}var M_=gt.getLocalStorageOrThrow=Bj;function Lj(){return Go("localStorage")}m_=gt.getLocalStorage=Lj,Object.defineProperty(jp,"__esModule",{value:!0});var I_=jp.getWindowMetadata=void 0;const R_=gt;function Dj(){let t,e;try{t=R_.getDocumentOrThrow(),e=R_.getLocationOrThrow()}catch{return null}function r(){const p=t.getElementsByTagName("link"),m=[];for(let x=0;x<p.length;x++){const _=p[x],R=_.getAttribute("rel");if(R&&R.toLowerCase().indexOf("icon")>-1){const y=_.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let C=e.protocol+"//"+e.host;if(y.indexOf("/")===0)C+=y;else{const T=e.pathname.split("/");T.pop(),C+=T.join("/")+"/"+y}m.push(C)}else if(y.indexOf("//")===0){const C=e.protocol+y;m.push(C)}else m.push(y)}}return m}function n(...p){const m=t.getElementsByTagName("meta");for(let x=0;x<m.length;x++){const _=m[x],R=["itemprop","property","name"].map(y=>_.getAttribute(y)).filter(y=>y?p.includes(y):!1);if(R.length&&R){const y=_.getAttribute("content");if(y)return y}}return""}function i(){let p=n("name","og:site_name","og:title","twitter:title");return p||(p=t.title),p}function o(){return n("description","og:description","twitter:description","keywords")}const s=i(),a=o(),c=e.origin,u=r();return{description:a,url:c,icons:u,name:s}}I_=jp.getWindowMetadata=Dj;var Fj=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},Uj=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),jj=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),$j=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),Wj=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),qj=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Hj=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,zj=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,T_=3,Vj=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",Hj]],P_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Gj(t){return t?N_(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new qj:typeof navigator<"u"?N_(navigator.userAgent):Qj()}function Kj(t){return t!==""&&Vj.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]},!1)}function N_(t){var e=Kj(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Wj;var i=n[1]&&n[1].split(/[._]/).slice(0,3);i?i.length<T_&&(i=Fj(i,Yj(T_-i.length))):i=[];var o=i.join("."),s=Jj(t),a=zj.exec(t);return a&&a[1]?new $j(r,o,s,a[1]):new Uj(r,o,s)}function Jj(t){for(var e=0,r=P_.length;e<r;e++){var n=P_[e],i=n[0],o=n[1],s=o.exec(t);if(s)return i}return null}function Qj(){var t=typeof process<"u"&&process.version;return t?new jj(process.version.slice(1)):null}function Yj(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function Pf(t){return Gj(t)}function Nf(){const t=Pf();return t&&t.os?t.os:void 0}function O_(){const t=Nf();return t?t.toLowerCase().includes("android"):!1}function B_(){const t=Nf();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function L_(){return Nf()?O_()||B_():!1}function D_(){const t=Pf();return t&&t.name?t.name.toLowerCase()==="node":!1}function F_(){return!D_()&&!!U_()}const Zj=v_,Xj=y_,e$=x_,t$=w_,r$=__,U_=E_,n$=S_,j_=A_,i$=C_,o$=k_,s$=M_,Of=m_;function $p(){return I_()}const $_=p_,W_=Up;function Wp(t,e){const r=W_(e),n=Of();n&&n.setItem(t,r)}function qp(t){let e=null,r=null;const n=Of();return n&&(r=n.getItem(t)),e=r&&$_(r),e}function Hp(t){const e=Of();e&&e.removeItem(t)}const Bf="WALLETCONNECT_DEEPLINK_CHOICE";function a$(t,e){const r=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${r}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function c$(t){const e=t.href.split("?")[0];Wp(Bf,Object.assign(Object.assign({},t),{href:e}))}function q_(t,e){return t.filter(r=>r.name.toLowerCase().includes(e.toLowerCase()))[0]}function u$(t,e){let r=t;return e&&(r=e.map(n=>q_(t,n)).filter(Boolean)),r}const H_="https://registry.walletconnect.com";function l$(){return H_+"/api/v2/wallets"}function f$(){return H_+"/api/v2/dapps"}function z_(t,e="mobile"){var r;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(r=t.image_url.sm)!==null&&r!==void 0?r:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function h$(t,e="mobile"){return Object.values(t).filter(r=>!!r[e].universal||!!r[e].native).map(r=>z_(r,e))}var d$=Object.freeze({__proto__:null,detectEnv:Pf,detectOS:Nf,isAndroid:O_,isIOS:B_,isMobile:L_,isNode:D_,isBrowser:F_,getFromWindow:Zj,getFromWindowOrThrow:Xj,getDocumentOrThrow:e$,getDocument:t$,getNavigatorOrThrow:r$,getNavigator:U_,getLocationOrThrow:n$,getLocation:j_,getCryptoOrThrow:i$,getCrypto:o$,getLocalStorageOrThrow:s$,getLocalStorage:Of,getClientMeta:$p,safeJsonParse:$_,safeJsonStringify:W_,setLocal:Wp,getLocal:qp,removeLocal:Hp,mobileLinkChoiceKey:Bf,formatIOSMobile:a$,saveMobileLinkInfo:c$,getMobileRegistryEntry:q_,getMobileLinkRegistry:u$,getWalletRegistryUrl:l$,getDappRegistryUrl:f$,formatMobileRegistryEntry:z_,formatMobileRegistry:h$});const p$=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],zp=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],g$={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var V_={exports:{}};(function(t){(function(e,r){function n(F,g){if(!F)throw new Error(g||"Assertion failed")}function i(F,g){F.super_=g;var A=function(){};A.prototype=g.prototype,F.prototype=new A,F.prototype.constructor=F}function o(F,g,A){if(o.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((g==="le"||g==="be")&&(A=g,g=10),this._init(F||0,g||10,A||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{s=jg.Buffer}catch{}o.isBN=function(g){return g instanceof o?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===o.wordSize&&Array.isArray(g.words)},o.max=function(g,A){return g.cmp(A)>0?g:A},o.min=function(g,A){return g.cmp(A)<0?g:A},o.prototype._init=function(g,A,v){if(typeof g=="number")return this._initNumber(g,A,v);if(typeof g=="object")return this._initArray(g,A,v);A==="hex"&&(A=16),n(A===(A|0)&&A>=2&&A<=36),g=g.toString().replace(/\s+/g,"");var f=0;g[0]==="-"&&f++,A===16?this._parseHex(g,f):this._parseBase(g,A,f),g[0]==="-"&&(this.negative=1),this.strip(),v==="le"&&this._initArray(this.toArray(),A,v)},o.prototype._initNumber=function(g,A,v){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(n(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),A,v)},o.prototype._initArray=function(g,A,v){if(n(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var h,w,M=0;if(v==="be")for(f=g.length-1,h=0;f>=0;f-=3)w=g[f]|g[f-1]<<8|g[f-2]<<16,this.words[h]|=w<<M&67108863,this.words[h+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,h++);else if(v==="le")for(f=0,h=0;f<g.length;f+=3)w=g[f]|g[f+1]<<8|g[f+2]<<16,this.words[h]|=w<<M&67108863,this.words[h+1]=w>>>26-M&67108863,M+=24,M>=26&&(M-=26,h++);return this.strip()};function a(F,g,A){for(var v=0,f=Math.min(F.length,A),h=g;h<f;h++){var w=F.charCodeAt(h)-48;v<<=4,w>=49&&w<=54?v|=w-49+10:w>=17&&w<=22?v|=w-17+10:v|=w&15}return v}o.prototype._parseHex=function(g,A){this.length=Math.ceil((g.length-A)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var f,h,w=0;for(v=g.length-6,f=0;v>=A;v-=6)h=a(g,v,v+6),this.words[f]|=h<<w&67108863,this.words[f+1]|=h>>>26-w&4194303,w+=24,w>=26&&(w-=26,f++);v+6!==A&&(h=a(g,A,v+6),this.words[f]|=h<<w&67108863,this.words[f+1]|=h>>>26-w&4194303),this.strip()};function c(F,g,A,v){for(var f=0,h=Math.min(F.length,A),w=g;w<h;w++){var M=F.charCodeAt(w)-48;f*=v,M>=49?f+=M-49+10:M>=17?f+=M-17+10:f+=M}return f}o.prototype._parseBase=function(g,A,v){this.words=[0],this.length=1;for(var f=0,h=1;h<=67108863;h*=A)f++;f--,h=h/A|0;for(var w=g.length-v,M=w%f,S=Math.min(w,w-M)+v,d=0,I=v;I<S;I+=f)d=c(g,I,I+f,A),this.imuln(h),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(M!==0){var k=1;for(d=c(g,I,g.length,A),I=0;I<M;I++)k*=A;this.imuln(k),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},o.prototype.copy=function(g){g.words=new Array(this.length);for(var A=0;A<this.length;A++)g.words[A]=this.words[A];g.length=this.length,g.negative=this.negative,g.red=this.red},o.prototype.clone=function(){var g=new o(null);return this.copy(g),g},o.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(g,A){g=g||10,A=A|0||1;var v;if(g===16||g==="hex"){v="";for(var f=0,h=0,w=0;w<this.length;w++){var M=this.words[w],S=((M<<f|h)&16777215).toString(16);h=M>>>24-f&16777215,h!==0||w!==this.length-1?v=u[6-S.length]+S+v:v=S+v,f+=2,f>=26&&(f-=26,w--)}for(h!==0&&(v=h.toString(16)+v);v.length%A!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(g===(g|0)&&g>=2&&g<=36){var d=l[g],I=p[g];v="";var k=this.clone();for(k.negative=0;!k.isZero();){var b=k.modn(I).toString(g);k=k.idivn(I),k.isZero()?v=b+v:v=u[d-b.length]+b+v}for(this.isZero()&&(v="0"+v);v.length%A!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(g,A){return n(typeof s<"u"),this.toArrayLike(s,g,A)},o.prototype.toArray=function(g,A){return this.toArrayLike(Array,g,A)},o.prototype.toArrayLike=function(g,A,v){var f=this.byteLength(),h=v||Math.max(1,f);n(f<=h,"byte array longer than desired length"),n(h>0,"Requested array length <= 0"),this.strip();var w=A==="le",M=new g(h),S,d,I=this.clone();if(w){for(d=0;!I.isZero();d++)S=I.andln(255),I.iushrn(8),M[d]=S;for(;d<h;d++)M[d]=0}else{for(d=0;d<h-f;d++)M[d]=0;for(d=0;!I.isZero();d++)S=I.andln(255),I.iushrn(8),M[h-d-1]=S}return M},Math.clz32?o.prototype._countBits=function(g){return 32-Math.clz32(g)}:o.prototype._countBits=function(g){var A=g,v=0;return A>=4096&&(v+=13,A>>>=13),A>=64&&(v+=7,A>>>=7),A>=8&&(v+=4,A>>>=4),A>=2&&(v+=2,A>>>=2),v+A},o.prototype._zeroBits=function(g){if(g===0)return 26;var A=g,v=0;return(A&8191)===0&&(v+=13,A>>>=13),(A&127)===0&&(v+=7,A>>>=7),(A&15)===0&&(v+=4,A>>>=4),(A&3)===0&&(v+=2,A>>>=2),(A&1)===0&&v++,v},o.prototype.bitLength=function(){var g=this.words[this.length-1],A=this._countBits(g);return(this.length-1)*26+A};function m(F){for(var g=new Array(F.bitLength()),A=0;A<g.length;A++){var v=A/26|0,f=A%26;g[A]=(F.words[v]&1<<f)>>>f}return g}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,A=0;A<this.length;A++){var v=this._zeroBits(this.words[A]);if(g+=v,v!==26)break}return g},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},o.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var A=0;A<g.length;A++)this.words[A]=this.words[A]|g.words[A];return this.strip()},o.prototype.ior=function(g){return n((this.negative|g.negative)===0),this.iuor(g)},o.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},o.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},o.prototype.iuand=function(g){var A;this.length>g.length?A=g:A=this;for(var v=0;v<A.length;v++)this.words[v]=this.words[v]&g.words[v];return this.length=A.length,this.strip()},o.prototype.iand=function(g){return n((this.negative|g.negative)===0),this.iuand(g)},o.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},o.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},o.prototype.iuxor=function(g){var A,v;this.length>g.length?(A=this,v=g):(A=g,v=this);for(var f=0;f<v.length;f++)this.words[f]=A.words[f]^v.words[f];if(this!==A)for(;f<A.length;f++)this.words[f]=A.words[f];return this.length=A.length,this.strip()},o.prototype.ixor=function(g){return n((this.negative|g.negative)===0),this.iuxor(g)},o.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},o.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},o.prototype.inotn=function(g){n(typeof g=="number"&&g>=0);var A=Math.ceil(g/26)|0,v=g%26;this._expand(A),v>0&&A--;for(var f=0;f<A;f++)this.words[f]=~this.words[f]&67108863;return v>0&&(this.words[f]=~this.words[f]&67108863>>26-v),this.strip()},o.prototype.notn=function(g){return this.clone().inotn(g)},o.prototype.setn=function(g,A){n(typeof g=="number"&&g>=0);var v=g/26|0,f=g%26;return this._expand(v+1),A?this.words[v]=this.words[v]|1<<f:this.words[v]=this.words[v]&~(1<<f),this.strip()},o.prototype.iadd=function(g){var A;if(this.negative!==0&&g.negative===0)return this.negative=0,A=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,A=this.isub(g),g.negative=1,A._normSign();var v,f;this.length>g.length?(v=this,f=g):(v=g,f=this);for(var h=0,w=0;w<f.length;w++)A=(v.words[w]|0)+(f.words[w]|0)+h,this.words[w]=A&67108863,h=A>>>26;for(;h!==0&&w<v.length;w++)A=(v.words[w]|0)+h,this.words[w]=A&67108863,h=A>>>26;if(this.length=v.length,h!==0)this.words[this.length]=h,this.length++;else if(v!==this)for(;w<v.length;w++)this.words[w]=v.words[w];return this},o.prototype.add=function(g){var A;return g.negative!==0&&this.negative===0?(g.negative=0,A=this.sub(g),g.negative^=1,A):g.negative===0&&this.negative!==0?(this.negative=0,A=g.sub(this),this.negative=1,A):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},o.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var A=this.iadd(g);return g.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var v=this.cmp(g);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,h;v>0?(f=this,h=g):(f=g,h=this);for(var w=0,M=0;M<h.length;M++)A=(f.words[M]|0)-(h.words[M]|0)+w,w=A>>26,this.words[M]=A&67108863;for(;w!==0&&M<f.length;M++)A=(f.words[M]|0)+w,w=A>>26,this.words[M]=A&67108863;if(w===0&&M<f.length&&f!==this)for(;M<f.length;M++)this.words[M]=f.words[M];return this.length=Math.max(this.length,M),f!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(g){return this.clone().isub(g)};function x(F,g,A){A.negative=g.negative^F.negative;var v=F.length+g.length|0;A.length=v,v=v-1|0;var f=F.words[0]|0,h=g.words[0]|0,w=f*h,M=w&67108863,S=w/67108864|0;A.words[0]=M;for(var d=1;d<v;d++){for(var I=S>>>26,k=S&67108863,b=Math.min(d,g.length-1),N=Math.max(0,d-F.length+1);N<=b;N++){var q=d-N|0;f=F.words[q]|0,h=g.words[N]|0,w=f*h+k,I+=w/67108864|0,k=w&67108863}A.words[d]=k|0,S=I|0}return S!==0?A.words[d]=S|0:A.length--,A.strip()}var _=function(g,A,v){var f=g.words,h=A.words,w=v.words,M=0,S,d,I,k=f[0]|0,b=k&8191,N=k>>>13,q=f[1]|0,E=q&8191,O=q>>>13,U=f[2]|0,$=U&8191,z=U>>>13,Z=f[3]|0,B=Z&8191,L=Z>>>13,Y=f[4]|0,K=Y&8191,ne=Y>>>13,ve=f[5]|0,ie=ve&8191,ue=ve>>>13,Ht=f[6]|0,be=Ht&8191,me=Ht>>>13,ar=f[7]|0,de=ar&8191,pe=ar>>>13,Xt=f[8]|0,he=Xt&8191,le=Xt>>>13,Nt=f[9]|0,ye=Nt&8191,xe=Nt>>>13,Rr=h[0]|0,we=Rr&8191,_e=Rr>>>13,Tr=h[1]|0,Ee=Tr&8191,Se=Tr>>>13,Pr=h[2]|0,Ae=Pr&8191,Ce=Pr>>>13,Nr=h[3]|0,ke=Nr&8191,Me=Nr>>>13,Or=h[4]|0,Ie=Or&8191,Re=Or>>>13,Br=h[5]|0,Te=Br&8191,Pe=Br>>>13,Lr=h[6]|0,Ne=Lr&8191,Oe=Lr>>>13,Dr=h[7]|0,Be=Dr&8191,Le=Dr>>>13,Fr=h[8]|0,De=Fr&8191,Fe=Fr>>>13,Ur=h[9]|0,Ue=Ur&8191,je=Ur>>>13;v.negative=g.negative^A.negative,v.length=19,S=Math.imul(b,we),d=Math.imul(b,_e),d=d+Math.imul(N,we)|0,I=Math.imul(N,_e);var Er=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,S=Math.imul(E,we),d=Math.imul(E,_e),d=d+Math.imul(O,we)|0,I=Math.imul(O,_e),S=S+Math.imul(b,Ee)|0,d=d+Math.imul(b,Se)|0,d=d+Math.imul(N,Ee)|0,I=I+Math.imul(N,Se)|0;var ot=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,S=Math.imul($,we),d=Math.imul($,_e),d=d+Math.imul(z,we)|0,I=Math.imul(z,_e),S=S+Math.imul(E,Ee)|0,d=d+Math.imul(E,Se)|0,d=d+Math.imul(O,Ee)|0,I=I+Math.imul(O,Se)|0,S=S+Math.imul(b,Ae)|0,d=d+Math.imul(b,Ce)|0,d=d+Math.imul(N,Ae)|0,I=I+Math.imul(N,Ce)|0;var st=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(B,we),d=Math.imul(B,_e),d=d+Math.imul(L,we)|0,I=Math.imul(L,_e),S=S+Math.imul($,Ee)|0,d=d+Math.imul($,Se)|0,d=d+Math.imul(z,Ee)|0,I=I+Math.imul(z,Se)|0,S=S+Math.imul(E,Ae)|0,d=d+Math.imul(E,Ce)|0,d=d+Math.imul(O,Ae)|0,I=I+Math.imul(O,Ce)|0,S=S+Math.imul(b,ke)|0,d=d+Math.imul(b,Me)|0,d=d+Math.imul(N,ke)|0,I=I+Math.imul(N,Me)|0;var cr=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(cr>>>26)|0,cr&=67108863,S=Math.imul(K,we),d=Math.imul(K,_e),d=d+Math.imul(ne,we)|0,I=Math.imul(ne,_e),S=S+Math.imul(B,Ee)|0,d=d+Math.imul(B,Se)|0,d=d+Math.imul(L,Ee)|0,I=I+Math.imul(L,Se)|0,S=S+Math.imul($,Ae)|0,d=d+Math.imul($,Ce)|0,d=d+Math.imul(z,Ae)|0,I=I+Math.imul(z,Ce)|0,S=S+Math.imul(E,ke)|0,d=d+Math.imul(E,Me)|0,d=d+Math.imul(O,ke)|0,I=I+Math.imul(O,Me)|0,S=S+Math.imul(b,Ie)|0,d=d+Math.imul(b,Re)|0,d=d+Math.imul(N,Ie)|0,I=I+Math.imul(N,Re)|0;var ur=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(ur>>>26)|0,ur&=67108863,S=Math.imul(ie,we),d=Math.imul(ie,_e),d=d+Math.imul(ue,we)|0,I=Math.imul(ue,_e),S=S+Math.imul(K,Ee)|0,d=d+Math.imul(K,Se)|0,d=d+Math.imul(ne,Ee)|0,I=I+Math.imul(ne,Se)|0,S=S+Math.imul(B,Ae)|0,d=d+Math.imul(B,Ce)|0,d=d+Math.imul(L,Ae)|0,I=I+Math.imul(L,Ce)|0,S=S+Math.imul($,ke)|0,d=d+Math.imul($,Me)|0,d=d+Math.imul(z,ke)|0,I=I+Math.imul(z,Me)|0,S=S+Math.imul(E,Ie)|0,d=d+Math.imul(E,Re)|0,d=d+Math.imul(O,Ie)|0,I=I+Math.imul(O,Re)|0,S=S+Math.imul(b,Te)|0,d=d+Math.imul(b,Pe)|0,d=d+Math.imul(N,Te)|0,I=I+Math.imul(N,Pe)|0;var lr=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(lr>>>26)|0,lr&=67108863,S=Math.imul(be,we),d=Math.imul(be,_e),d=d+Math.imul(me,we)|0,I=Math.imul(me,_e),S=S+Math.imul(ie,Ee)|0,d=d+Math.imul(ie,Se)|0,d=d+Math.imul(ue,Ee)|0,I=I+Math.imul(ue,Se)|0,S=S+Math.imul(K,Ae)|0,d=d+Math.imul(K,Ce)|0,d=d+Math.imul(ne,Ae)|0,I=I+Math.imul(ne,Ce)|0,S=S+Math.imul(B,ke)|0,d=d+Math.imul(B,Me)|0,d=d+Math.imul(L,ke)|0,I=I+Math.imul(L,Me)|0,S=S+Math.imul($,Ie)|0,d=d+Math.imul($,Re)|0,d=d+Math.imul(z,Ie)|0,I=I+Math.imul(z,Re)|0,S=S+Math.imul(E,Te)|0,d=d+Math.imul(E,Pe)|0,d=d+Math.imul(O,Te)|0,I=I+Math.imul(O,Pe)|0,S=S+Math.imul(b,Ne)|0,d=d+Math.imul(b,Oe)|0,d=d+Math.imul(N,Ne)|0,I=I+Math.imul(N,Oe)|0;var fr=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(fr>>>26)|0,fr&=67108863,S=Math.imul(de,we),d=Math.imul(de,_e),d=d+Math.imul(pe,we)|0,I=Math.imul(pe,_e),S=S+Math.imul(be,Ee)|0,d=d+Math.imul(be,Se)|0,d=d+Math.imul(me,Ee)|0,I=I+Math.imul(me,Se)|0,S=S+Math.imul(ie,Ae)|0,d=d+Math.imul(ie,Ce)|0,d=d+Math.imul(ue,Ae)|0,I=I+Math.imul(ue,Ce)|0,S=S+Math.imul(K,ke)|0,d=d+Math.imul(K,Me)|0,d=d+Math.imul(ne,ke)|0,I=I+Math.imul(ne,Me)|0,S=S+Math.imul(B,Ie)|0,d=d+Math.imul(B,Re)|0,d=d+Math.imul(L,Ie)|0,I=I+Math.imul(L,Re)|0,S=S+Math.imul($,Te)|0,d=d+Math.imul($,Pe)|0,d=d+Math.imul(z,Te)|0,I=I+Math.imul(z,Pe)|0,S=S+Math.imul(E,Ne)|0,d=d+Math.imul(E,Oe)|0,d=d+Math.imul(O,Ne)|0,I=I+Math.imul(O,Oe)|0,S=S+Math.imul(b,Be)|0,d=d+Math.imul(b,Le)|0,d=d+Math.imul(N,Be)|0,I=I+Math.imul(N,Le)|0;var hr=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,S=Math.imul(he,we),d=Math.imul(he,_e),d=d+Math.imul(le,we)|0,I=Math.imul(le,_e),S=S+Math.imul(de,Ee)|0,d=d+Math.imul(de,Se)|0,d=d+Math.imul(pe,Ee)|0,I=I+Math.imul(pe,Se)|0,S=S+Math.imul(be,Ae)|0,d=d+Math.imul(be,Ce)|0,d=d+Math.imul(me,Ae)|0,I=I+Math.imul(me,Ce)|0,S=S+Math.imul(ie,ke)|0,d=d+Math.imul(ie,Me)|0,d=d+Math.imul(ue,ke)|0,I=I+Math.imul(ue,Me)|0,S=S+Math.imul(K,Ie)|0,d=d+Math.imul(K,Re)|0,d=d+Math.imul(ne,Ie)|0,I=I+Math.imul(ne,Re)|0,S=S+Math.imul(B,Te)|0,d=d+Math.imul(B,Pe)|0,d=d+Math.imul(L,Te)|0,I=I+Math.imul(L,Pe)|0,S=S+Math.imul($,Ne)|0,d=d+Math.imul($,Oe)|0,d=d+Math.imul(z,Ne)|0,I=I+Math.imul(z,Oe)|0,S=S+Math.imul(E,Be)|0,d=d+Math.imul(E,Le)|0,d=d+Math.imul(O,Be)|0,I=I+Math.imul(O,Le)|0,S=S+Math.imul(b,De)|0,d=d+Math.imul(b,Fe)|0,d=d+Math.imul(N,De)|0,I=I+Math.imul(N,Fe)|0;var In=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(ye,we),d=Math.imul(ye,_e),d=d+Math.imul(xe,we)|0,I=Math.imul(xe,_e),S=S+Math.imul(he,Ee)|0,d=d+Math.imul(he,Se)|0,d=d+Math.imul(le,Ee)|0,I=I+Math.imul(le,Se)|0,S=S+Math.imul(de,Ae)|0,d=d+Math.imul(de,Ce)|0,d=d+Math.imul(pe,Ae)|0,I=I+Math.imul(pe,Ce)|0,S=S+Math.imul(be,ke)|0,d=d+Math.imul(be,Me)|0,d=d+Math.imul(me,ke)|0,I=I+Math.imul(me,Me)|0,S=S+Math.imul(ie,Ie)|0,d=d+Math.imul(ie,Re)|0,d=d+Math.imul(ue,Ie)|0,I=I+Math.imul(ue,Re)|0,S=S+Math.imul(K,Te)|0,d=d+Math.imul(K,Pe)|0,d=d+Math.imul(ne,Te)|0,I=I+Math.imul(ne,Pe)|0,S=S+Math.imul(B,Ne)|0,d=d+Math.imul(B,Oe)|0,d=d+Math.imul(L,Ne)|0,I=I+Math.imul(L,Oe)|0,S=S+Math.imul($,Be)|0,d=d+Math.imul($,Le)|0,d=d+Math.imul(z,Be)|0,I=I+Math.imul(z,Le)|0,S=S+Math.imul(E,De)|0,d=d+Math.imul(E,Fe)|0,d=d+Math.imul(O,De)|0,I=I+Math.imul(O,Fe)|0,S=S+Math.imul(b,Ue)|0,d=d+Math.imul(b,je)|0,d=d+Math.imul(N,Ue)|0,I=I+Math.imul(N,je)|0;var Rn=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,S=Math.imul(ye,Ee),d=Math.imul(ye,Se),d=d+Math.imul(xe,Ee)|0,I=Math.imul(xe,Se),S=S+Math.imul(he,Ae)|0,d=d+Math.imul(he,Ce)|0,d=d+Math.imul(le,Ae)|0,I=I+Math.imul(le,Ce)|0,S=S+Math.imul(de,ke)|0,d=d+Math.imul(de,Me)|0,d=d+Math.imul(pe,ke)|0,I=I+Math.imul(pe,Me)|0,S=S+Math.imul(be,Ie)|0,d=d+Math.imul(be,Re)|0,d=d+Math.imul(me,Ie)|0,I=I+Math.imul(me,Re)|0,S=S+Math.imul(ie,Te)|0,d=d+Math.imul(ie,Pe)|0,d=d+Math.imul(ue,Te)|0,I=I+Math.imul(ue,Pe)|0,S=S+Math.imul(K,Ne)|0,d=d+Math.imul(K,Oe)|0,d=d+Math.imul(ne,Ne)|0,I=I+Math.imul(ne,Oe)|0,S=S+Math.imul(B,Be)|0,d=d+Math.imul(B,Le)|0,d=d+Math.imul(L,Be)|0,I=I+Math.imul(L,Le)|0,S=S+Math.imul($,De)|0,d=d+Math.imul($,Fe)|0,d=d+Math.imul(z,De)|0,I=I+Math.imul(z,Fe)|0,S=S+Math.imul(E,Ue)|0,d=d+Math.imul(E,je)|0,d=d+Math.imul(O,Ue)|0,I=I+Math.imul(O,je)|0;var Tn=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,S=Math.imul(ye,Ae),d=Math.imul(ye,Ce),d=d+Math.imul(xe,Ae)|0,I=Math.imul(xe,Ce),S=S+Math.imul(he,ke)|0,d=d+Math.imul(he,Me)|0,d=d+Math.imul(le,ke)|0,I=I+Math.imul(le,Me)|0,S=S+Math.imul(de,Ie)|0,d=d+Math.imul(de,Re)|0,d=d+Math.imul(pe,Ie)|0,I=I+Math.imul(pe,Re)|0,S=S+Math.imul(be,Te)|0,d=d+Math.imul(be,Pe)|0,d=d+Math.imul(me,Te)|0,I=I+Math.imul(me,Pe)|0,S=S+Math.imul(ie,Ne)|0,d=d+Math.imul(ie,Oe)|0,d=d+Math.imul(ue,Ne)|0,I=I+Math.imul(ue,Oe)|0,S=S+Math.imul(K,Be)|0,d=d+Math.imul(K,Le)|0,d=d+Math.imul(ne,Be)|0,I=I+Math.imul(ne,Le)|0,S=S+Math.imul(B,De)|0,d=d+Math.imul(B,Fe)|0,d=d+Math.imul(L,De)|0,I=I+Math.imul(L,Fe)|0,S=S+Math.imul($,Ue)|0,d=d+Math.imul($,je)|0,d=d+Math.imul(z,Ue)|0,I=I+Math.imul(z,je)|0;var Pn=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,S=Math.imul(ye,ke),d=Math.imul(ye,Me),d=d+Math.imul(xe,ke)|0,I=Math.imul(xe,Me),S=S+Math.imul(he,Ie)|0,d=d+Math.imul(he,Re)|0,d=d+Math.imul(le,Ie)|0,I=I+Math.imul(le,Re)|0,S=S+Math.imul(de,Te)|0,d=d+Math.imul(de,Pe)|0,d=d+Math.imul(pe,Te)|0,I=I+Math.imul(pe,Pe)|0,S=S+Math.imul(be,Ne)|0,d=d+Math.imul(be,Oe)|0,d=d+Math.imul(me,Ne)|0,I=I+Math.imul(me,Oe)|0,S=S+Math.imul(ie,Be)|0,d=d+Math.imul(ie,Le)|0,d=d+Math.imul(ue,Be)|0,I=I+Math.imul(ue,Le)|0,S=S+Math.imul(K,De)|0,d=d+Math.imul(K,Fe)|0,d=d+Math.imul(ne,De)|0,I=I+Math.imul(ne,Fe)|0,S=S+Math.imul(B,Ue)|0,d=d+Math.imul(B,je)|0,d=d+Math.imul(L,Ue)|0,I=I+Math.imul(L,je)|0;var Nn=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,S=Math.imul(ye,Ie),d=Math.imul(ye,Re),d=d+Math.imul(xe,Ie)|0,I=Math.imul(xe,Re),S=S+Math.imul(he,Te)|0,d=d+Math.imul(he,Pe)|0,d=d+Math.imul(le,Te)|0,I=I+Math.imul(le,Pe)|0,S=S+Math.imul(de,Ne)|0,d=d+Math.imul(de,Oe)|0,d=d+Math.imul(pe,Ne)|0,I=I+Math.imul(pe,Oe)|0,S=S+Math.imul(be,Be)|0,d=d+Math.imul(be,Le)|0,d=d+Math.imul(me,Be)|0,I=I+Math.imul(me,Le)|0,S=S+Math.imul(ie,De)|0,d=d+Math.imul(ie,Fe)|0,d=d+Math.imul(ue,De)|0,I=I+Math.imul(ue,Fe)|0,S=S+Math.imul(K,Ue)|0,d=d+Math.imul(K,je)|0,d=d+Math.imul(ne,Ue)|0,I=I+Math.imul(ne,je)|0;var On=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(On>>>26)|0,On&=67108863,S=Math.imul(ye,Te),d=Math.imul(ye,Pe),d=d+Math.imul(xe,Te)|0,I=Math.imul(xe,Pe),S=S+Math.imul(he,Ne)|0,d=d+Math.imul(he,Oe)|0,d=d+Math.imul(le,Ne)|0,I=I+Math.imul(le,Oe)|0,S=S+Math.imul(de,Be)|0,d=d+Math.imul(de,Le)|0,d=d+Math.imul(pe,Be)|0,I=I+Math.imul(pe,Le)|0,S=S+Math.imul(be,De)|0,d=d+Math.imul(be,Fe)|0,d=d+Math.imul(me,De)|0,I=I+Math.imul(me,Fe)|0,S=S+Math.imul(ie,Ue)|0,d=d+Math.imul(ie,je)|0,d=d+Math.imul(ue,Ue)|0,I=I+Math.imul(ue,je)|0;var Bn=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,S=Math.imul(ye,Ne),d=Math.imul(ye,Oe),d=d+Math.imul(xe,Ne)|0,I=Math.imul(xe,Oe),S=S+Math.imul(he,Be)|0,d=d+Math.imul(he,Le)|0,d=d+Math.imul(le,Be)|0,I=I+Math.imul(le,Le)|0,S=S+Math.imul(de,De)|0,d=d+Math.imul(de,Fe)|0,d=d+Math.imul(pe,De)|0,I=I+Math.imul(pe,Fe)|0,S=S+Math.imul(be,Ue)|0,d=d+Math.imul(be,je)|0,d=d+Math.imul(me,Ue)|0,I=I+Math.imul(me,je)|0;var Ln=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,S=Math.imul(ye,Be),d=Math.imul(ye,Le),d=d+Math.imul(xe,Be)|0,I=Math.imul(xe,Le),S=S+Math.imul(he,De)|0,d=d+Math.imul(he,Fe)|0,d=d+Math.imul(le,De)|0,I=I+Math.imul(le,Fe)|0,S=S+Math.imul(de,Ue)|0,d=d+Math.imul(de,je)|0,d=d+Math.imul(pe,Ue)|0,I=I+Math.imul(pe,je)|0;var Dn=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,S=Math.imul(ye,De),d=Math.imul(ye,Fe),d=d+Math.imul(xe,De)|0,I=Math.imul(xe,Fe),S=S+Math.imul(he,Ue)|0,d=d+Math.imul(he,je)|0,d=d+Math.imul(le,Ue)|0,I=I+Math.imul(le,je)|0;var Qo=(M+S|0)+((d&8191)<<13)|0;M=(I+(d>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,S=Math.imul(ye,Ue),d=Math.imul(ye,je),d=d+Math.imul(xe,Ue)|0,I=Math.imul(xe,je);var Yo=(M+S|0)+((d&8191)<<13)|0;return M=(I+(d>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,w[0]=Er,w[1]=ot,w[2]=st,w[3]=cr,w[4]=ur,w[5]=lr,w[6]=fr,w[7]=hr,w[8]=In,w[9]=Rn,w[10]=Tn,w[11]=Pn,w[12]=Nn,w[13]=On,w[14]=Bn,w[15]=Ln,w[16]=Dn,w[17]=Qo,w[18]=Yo,M!==0&&(w[19]=M,v.length++),v};Math.imul||(_=x);function R(F,g,A){A.negative=g.negative^F.negative,A.length=F.length+g.length;for(var v=0,f=0,h=0;h<A.length-1;h++){var w=f;f=0;for(var M=v&67108863,S=Math.min(h,g.length-1),d=Math.max(0,h-F.length+1);d<=S;d++){var I=h-d,k=F.words[I]|0,b=g.words[d]|0,N=k*b,q=N&67108863;w=w+(N/67108864|0)|0,q=q+M|0,M=q&67108863,w=w+(q>>>26)|0,f+=w>>>26,w&=67108863}A.words[h]=M,v=w,w=f}return v!==0?A.words[h]=v:A.length--,A.strip()}function y(F,g,A){var v=new C;return v.mulp(F,g,A)}o.prototype.mulTo=function(g,A){var v,f=this.length+g.length;return this.length===10&&g.length===10?v=_(this,g,A):f<63?v=x(this,g,A):f<1024?v=R(this,g,A):v=y(this,g,A),v};function C(F,g){this.x=F,this.y=g}C.prototype.makeRBT=function(g){for(var A=new Array(g),v=o.prototype._countBits(g)-1,f=0;f<g;f++)A[f]=this.revBin(f,v,g);return A},C.prototype.revBin=function(g,A,v){if(g===0||g===v-1)return g;for(var f=0,h=0;h<A;h++)f|=(g&1)<<A-h-1,g>>=1;return f},C.prototype.permute=function(g,A,v,f,h,w){for(var M=0;M<w;M++)f[M]=A[g[M]],h[M]=v[g[M]]},C.prototype.transform=function(g,A,v,f,h,w){this.permute(w,g,A,v,f,h);for(var M=1;M<h;M<<=1)for(var S=M<<1,d=Math.cos(2*Math.PI/S),I=Math.sin(2*Math.PI/S),k=0;k<h;k+=S)for(var b=d,N=I,q=0;q<M;q++){var E=v[k+q],O=f[k+q],U=v[k+q+M],$=f[k+q+M],z=b*U-N*$;$=b*$+N*U,U=z,v[k+q]=E+U,f[k+q]=O+$,v[k+q+M]=E-U,f[k+q+M]=O-$,q!==S&&(z=d*b-I*N,N=d*N+I*b,b=z)}},C.prototype.guessLen13b=function(g,A){var v=Math.max(A,g)|1,f=v&1,h=0;for(v=v/2|0;v;v=v>>>1)h++;return 1<<h+1+f},C.prototype.conjugate=function(g,A,v){if(!(v<=1))for(var f=0;f<v/2;f++){var h=g[f];g[f]=g[v-f-1],g[v-f-1]=h,h=A[f],A[f]=-A[v-f-1],A[v-f-1]=-h}},C.prototype.normalize13b=function(g,A){for(var v=0,f=0;f<A/2;f++){var h=Math.round(g[2*f+1]/A)*8192+Math.round(g[2*f]/A)+v;g[f]=h&67108863,h<67108864?v=0:v=h/67108864|0}return g},C.prototype.convert13b=function(g,A,v,f){for(var h=0,w=0;w<A;w++)h=h+(g[w]|0),v[2*w]=h&8191,h=h>>>13,v[2*w+1]=h&8191,h=h>>>13;for(w=2*A;w<f;++w)v[w]=0;n(h===0),n((h&-8192)===0)},C.prototype.stub=function(g){for(var A=new Array(g),v=0;v<g;v++)A[v]=0;return A},C.prototype.mulp=function(g,A,v){var f=2*this.guessLen13b(g.length,A.length),h=this.makeRBT(f),w=this.stub(f),M=new Array(f),S=new Array(f),d=new Array(f),I=new Array(f),k=new Array(f),b=new Array(f),N=v.words;N.length=f,this.convert13b(g.words,g.length,M,f),this.convert13b(A.words,A.length,I,f),this.transform(M,w,S,d,f,h),this.transform(I,w,k,b,f,h);for(var q=0;q<f;q++){var E=S[q]*k[q]-d[q]*b[q];d[q]=S[q]*b[q]+d[q]*k[q],S[q]=E}return this.conjugate(S,d,f),this.transform(S,d,N,w,f,h),this.conjugate(N,w,f),this.normalize13b(N,f),v.negative=g.negative^A.negative,v.length=g.length+A.length,v.strip()},o.prototype.mul=function(g){var A=new o(null);return A.words=new Array(this.length+g.length),this.mulTo(g,A)},o.prototype.mulf=function(g){var A=new o(null);return A.words=new Array(this.length+g.length),y(this,g,A)},o.prototype.imul=function(g){return this.clone().mulTo(g,this)},o.prototype.imuln=function(g){n(typeof g=="number"),n(g<67108864);for(var A=0,v=0;v<this.length;v++){var f=(this.words[v]|0)*g,h=(f&67108863)+(A&67108863);A>>=26,A+=f/67108864|0,A+=h>>>26,this.words[v]=h&67108863}return A!==0&&(this.words[v]=A,this.length++),this},o.prototype.muln=function(g){return this.clone().imuln(g)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(g){var A=m(g);if(A.length===0)return new o(1);for(var v=this,f=0;f<A.length&&A[f]===0;f++,v=v.sqr());if(++f<A.length)for(var h=v.sqr();f<A.length;f++,h=h.sqr())A[f]!==0&&(v=v.mul(h));return v},o.prototype.iushln=function(g){n(typeof g=="number"&&g>=0);var A=g%26,v=(g-A)/26,f=67108863>>>26-A<<26-A,h;if(A!==0){var w=0;for(h=0;h<this.length;h++){var M=this.words[h]&f,S=(this.words[h]|0)-M<<A;this.words[h]=S|w,w=M>>>26-A}w&&(this.words[h]=w,this.length++)}if(v!==0){for(h=this.length-1;h>=0;h--)this.words[h+v]=this.words[h];for(h=0;h<v;h++)this.words[h]=0;this.length+=v}return this.strip()},o.prototype.ishln=function(g){return n(this.negative===0),this.iushln(g)},o.prototype.iushrn=function(g,A,v){n(typeof g=="number"&&g>=0);var f;A?f=(A-A%26)/26:f=0;var h=g%26,w=Math.min((g-h)/26,this.length),M=67108863^67108863>>>h<<h,S=v;if(f-=w,f=Math.max(0,f),S){for(var d=0;d<w;d++)S.words[d]=this.words[d];S.length=w}if(w!==0)if(this.length>w)for(this.length-=w,d=0;d<this.length;d++)this.words[d]=this.words[d+w];else this.words[0]=0,this.length=1;var I=0;for(d=this.length-1;d>=0&&(I!==0||d>=f);d--){var k=this.words[d]|0;this.words[d]=I<<26-h|k>>>h,I=k&M}return S&&I!==0&&(S.words[S.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(g,A,v){return n(this.negative===0),this.iushrn(g,A,v)},o.prototype.shln=function(g){return this.clone().ishln(g)},o.prototype.ushln=function(g){return this.clone().iushln(g)},o.prototype.shrn=function(g){return this.clone().ishrn(g)},o.prototype.ushrn=function(g){return this.clone().iushrn(g)},o.prototype.testn=function(g){n(typeof g=="number"&&g>=0);var A=g%26,v=(g-A)/26,f=1<<A;if(this.length<=v)return!1;var h=this.words[v];return!!(h&f)},o.prototype.imaskn=function(g){n(typeof g=="number"&&g>=0);var A=g%26,v=(g-A)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(A!==0&&v++,this.length=Math.min(v,this.length),A!==0){var f=67108863^67108863>>>A<<A;this.words[this.length-1]&=f}return this.strip()},o.prototype.maskn=function(g){return this.clone().imaskn(g)},o.prototype.iaddn=function(g){return n(typeof g=="number"),n(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},o.prototype._iaddn=function(g){this.words[0]+=g;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},o.prototype.isubn=function(g){if(n(typeof g=="number"),n(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this.strip()},o.prototype.addn=function(g){return this.clone().iaddn(g)},o.prototype.subn=function(g){return this.clone().isubn(g)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(g,A,v){var f=g.length+v,h;this._expand(f);var w,M=0;for(h=0;h<g.length;h++){w=(this.words[h+v]|0)+M;var S=(g.words[h]|0)*A;w-=S&67108863,M=(w>>26)-(S/67108864|0),this.words[h+v]=w&67108863}for(;h<this.length-v;h++)w=(this.words[h+v]|0)+M,M=w>>26,this.words[h+v]=w&67108863;if(M===0)return this.strip();for(n(M===-1),M=0,h=0;h<this.length;h++)w=-(this.words[h]|0)+M,M=w>>26,this.words[h]=w&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(g,A){var v=this.length-g.length,f=this.clone(),h=g,w=h.words[h.length-1]|0,M=this._countBits(w);v=26-M,v!==0&&(h=h.ushln(v),f.iushln(v),w=h.words[h.length-1]|0);var S=f.length-h.length,d;if(A!=="mod"){d=new o(null),d.length=S+1,d.words=new Array(d.length);for(var I=0;I<d.length;I++)d.words[I]=0}var k=f.clone()._ishlnsubmul(h,1,S);k.negative===0&&(f=k,d&&(d.words[S]=1));for(var b=S-1;b>=0;b--){var N=(f.words[h.length+b]|0)*67108864+(f.words[h.length+b-1]|0);for(N=Math.min(N/w|0,67108863),f._ishlnsubmul(h,N,b);f.negative!==0;)N--,f.negative=0,f._ishlnsubmul(h,1,b),f.isZero()||(f.negative^=1);d&&(d.words[b]=N)}return d&&d.strip(),f.strip(),A!=="div"&&v!==0&&f.iushrn(v),{div:d||null,mod:f}},o.prototype.divmod=function(g,A,v){if(n(!g.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var f,h,w;return this.negative!==0&&g.negative===0?(w=this.neg().divmod(g,A),A!=="mod"&&(f=w.div.neg()),A!=="div"&&(h=w.mod.neg(),v&&h.negative!==0&&h.iadd(g)),{div:f,mod:h}):this.negative===0&&g.negative!==0?(w=this.divmod(g.neg(),A),A!=="mod"&&(f=w.div.neg()),{div:f,mod:w.mod}):(this.negative&g.negative)!==0?(w=this.neg().divmod(g.neg(),A),A!=="div"&&(h=w.mod.neg(),v&&h.negative!==0&&h.isub(g)),{div:w.div,mod:h}):g.length>this.length||this.cmp(g)<0?{div:new o(0),mod:this}:g.length===1?A==="div"?{div:this.divn(g.words[0]),mod:null}:A==="mod"?{div:null,mod:new o(this.modn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new o(this.modn(g.words[0]))}:this._wordDiv(g,A)},o.prototype.div=function(g){return this.divmod(g,"div",!1).div},o.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},o.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},o.prototype.divRound=function(g){var A=this.divmod(g);if(A.mod.isZero())return A.div;var v=A.div.negative!==0?A.mod.isub(g):A.mod,f=g.ushrn(1),h=g.andln(1),w=v.cmp(f);return w<0||h===1&&w===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},o.prototype.modn=function(g){n(g<=67108863);for(var A=(1<<26)%g,v=0,f=this.length-1;f>=0;f--)v=(A*v+(this.words[f]|0))%g;return v},o.prototype.idivn=function(g){n(g<=67108863);for(var A=0,v=this.length-1;v>=0;v--){var f=(this.words[v]|0)+A*67108864;this.words[v]=f/g|0,A=f%g}return this.strip()},o.prototype.divn=function(g){return this.clone().idivn(g)},o.prototype.egcd=function(g){n(g.negative===0),n(!g.isZero());var A=this,v=g.clone();A.negative!==0?A=A.umod(g):A=A.clone();for(var f=new o(1),h=new o(0),w=new o(0),M=new o(1),S=0;A.isEven()&&v.isEven();)A.iushrn(1),v.iushrn(1),++S;for(var d=v.clone(),I=A.clone();!A.isZero();){for(var k=0,b=1;(A.words[0]&b)===0&&k<26;++k,b<<=1);if(k>0)for(A.iushrn(k);k-- >0;)(f.isOdd()||h.isOdd())&&(f.iadd(d),h.isub(I)),f.iushrn(1),h.iushrn(1);for(var N=0,q=1;(v.words[0]&q)===0&&N<26;++N,q<<=1);if(N>0)for(v.iushrn(N);N-- >0;)(w.isOdd()||M.isOdd())&&(w.iadd(d),M.isub(I)),w.iushrn(1),M.iushrn(1);A.cmp(v)>=0?(A.isub(v),f.isub(w),h.isub(M)):(v.isub(A),w.isub(f),M.isub(h))}return{a:w,b:M,gcd:v.iushln(S)}},o.prototype._invmp=function(g){n(g.negative===0),n(!g.isZero());var A=this,v=g.clone();A.negative!==0?A=A.umod(g):A=A.clone();for(var f=new o(1),h=new o(0),w=v.clone();A.cmpn(1)>0&&v.cmpn(1)>0;){for(var M=0,S=1;(A.words[0]&S)===0&&M<26;++M,S<<=1);if(M>0)for(A.iushrn(M);M-- >0;)f.isOdd()&&f.iadd(w),f.iushrn(1);for(var d=0,I=1;(v.words[0]&I)===0&&d<26;++d,I<<=1);if(d>0)for(v.iushrn(d);d-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);A.cmp(v)>=0?(A.isub(v),f.isub(h)):(v.isub(A),h.isub(f))}var k;return A.cmpn(1)===0?k=f:k=h,k.cmpn(0)<0&&k.iadd(g),k},o.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var A=this.clone(),v=g.clone();A.negative=0,v.negative=0;for(var f=0;A.isEven()&&v.isEven();f++)A.iushrn(1),v.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;v.isEven();)v.iushrn(1);var h=A.cmp(v);if(h<0){var w=A;A=v,v=w}else if(h===0||v.cmpn(1)===0)break;A.isub(v)}while(!0);return v.iushln(f)},o.prototype.invm=function(g){return this.egcd(g).a.umod(g)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(g){return this.words[0]&g},o.prototype.bincn=function(g){n(typeof g=="number");var A=g%26,v=(g-A)/26,f=1<<A;if(this.length<=v)return this._expand(v+1),this.words[v]|=f,this;for(var h=f,w=v;h!==0&&w<this.length;w++){var M=this.words[w]|0;M+=h,h=M>>>26,M&=67108863,this.words[w]=M}return h!==0&&(this.words[w]=h,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(g){var A=g<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this.strip();var v;if(this.length>1)v=1;else{A&&(g=-g),n(g<=67108863,"Number is too big");var f=this.words[0]|0;v=f===g?0:f<g?-1:1}return this.negative!==0?-v|0:v},o.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var A=this.ucmp(g);return this.negative!==0?-A|0:A},o.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var A=0,v=this.length-1;v>=0;v--){var f=this.words[v]|0,h=g.words[v]|0;if(f!==h){f<h?A=-1:f>h&&(A=1);break}}return A},o.prototype.gtn=function(g){return this.cmpn(g)===1},o.prototype.gt=function(g){return this.cmp(g)===1},o.prototype.gten=function(g){return this.cmpn(g)>=0},o.prototype.gte=function(g){return this.cmp(g)>=0},o.prototype.ltn=function(g){return this.cmpn(g)===-1},o.prototype.lt=function(g){return this.cmp(g)===-1},o.prototype.lten=function(g){return this.cmpn(g)<=0},o.prototype.lte=function(g){return this.cmp(g)<=0},o.prototype.eqn=function(g){return this.cmpn(g)===0},o.prototype.eq=function(g){return this.cmp(g)===0},o.red=function(g){return new G(g)},o.prototype.toRed=function(g){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(g){return this.red=g,this},o.prototype.forceRed=function(g){return n(!this.red,"Already a number in reduction context"),this._forceRed(g)},o.prototype.redAdd=function(g){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},o.prototype.redIAdd=function(g){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},o.prototype.redSub=function(g){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},o.prototype.redISub=function(g){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},o.prototype.redShl=function(g){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},o.prototype.redMul=function(g){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},o.prototype.redIMul=function(g){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(g){return n(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var T={k256:null,p224:null,p192:null,p25519:null};function P(F,g){this.name=F,this.p=new o(g,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var g=new o(null);return g.words=new Array(Math.ceil(this.n/13)),g},P.prototype.ireduce=function(g){var A=g,v;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),v=A.bitLength();while(v>this.n);var f=v<this.n?-1:A.ucmp(this.p);return f===0?(A.words[0]=0,A.length=1):f>0?A.isub(this.p):A.strip(),A},P.prototype.split=function(g,A){g.iushrn(this.n,0,A)},P.prototype.imulK=function(g){return g.imul(this.k)};function D(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(D,P),D.prototype.split=function(g,A){for(var v=4194303,f=Math.min(g.length,9),h=0;h<f;h++)A.words[h]=g.words[h];if(A.length=f,g.length<=9){g.words[0]=0,g.length=1;return}var w=g.words[9];for(A.words[A.length++]=w&v,h=10;h<g.length;h++){var M=g.words[h]|0;g.words[h-10]=(M&v)<<4|w>>>22,w=M}w>>>=22,g.words[h-10]=w,w===0&&g.length>10?g.length-=10:g.length-=9},D.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var A=0,v=0;v<g.length;v++){var f=g.words[v]|0;A+=f*977,g.words[v]=A&67108863,A=f*64+(A/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function j(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(j,P);function W(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,P);function V(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(V,P),V.prototype.imulK=function(g){for(var A=0,v=0;v<g.length;v++){var f=(g.words[v]|0)*19+A,h=f&67108863;f>>>=26,g.words[v]=h,A=f}return A!==0&&(g.words[g.length++]=A),g},o._prime=function(g){if(T[g])return T[g];var A;if(g==="k256")A=new D;else if(g==="p224")A=new j;else if(g==="p192")A=new W;else if(g==="p25519")A=new V;else throw new Error("Unknown prime "+g);return T[g]=A,A};function G(F){if(typeof F=="string"){var g=o._prime(F);this.m=g.p,this.prime=g}else n(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}G.prototype._verify1=function(g){n(g.negative===0,"red works only with positives"),n(g.red,"red works only with red numbers")},G.prototype._verify2=function(g,A){n((g.negative|A.negative)===0,"red works only with positives"),n(g.red&&g.red===A.red,"red works only with red numbers")},G.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):g.umod(this.m)._forceRed(this)},G.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},G.prototype.add=function(g,A){this._verify2(g,A);var v=g.add(A);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},G.prototype.iadd=function(g,A){this._verify2(g,A);var v=g.iadd(A);return v.cmp(this.m)>=0&&v.isub(this.m),v},G.prototype.sub=function(g,A){this._verify2(g,A);var v=g.sub(A);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},G.prototype.isub=function(g,A){this._verify2(g,A);var v=g.isub(A);return v.cmpn(0)<0&&v.iadd(this.m),v},G.prototype.shl=function(g,A){return this._verify1(g),this.imod(g.ushln(A))},G.prototype.imul=function(g,A){return this._verify2(g,A),this.imod(g.imul(A))},G.prototype.mul=function(g,A){return this._verify2(g,A),this.imod(g.mul(A))},G.prototype.isqr=function(g){return this.imul(g,g.clone())},G.prototype.sqr=function(g){return this.mul(g,g)},G.prototype.sqrt=function(g){if(g.isZero())return g.clone();var A=this.m.andln(3);if(n(A%2===1),A===3){var v=this.m.add(new o(1)).iushrn(2);return this.pow(g,v)}for(var f=this.m.subn(1),h=0;!f.isZero()&&f.andln(1)===0;)h++,f.iushrn(1);n(!f.isZero());var w=new o(1).toRed(this),M=w.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,S).cmp(M)!==0;)d.redIAdd(M);for(var I=this.pow(d,f),k=this.pow(g,f.addn(1).iushrn(1)),b=this.pow(g,f),N=h;b.cmp(w)!==0;){for(var q=b,E=0;q.cmp(w)!==0;E++)q=q.redSqr();n(E<N);var O=this.pow(I,new o(1).iushln(N-E-1));k=k.redMul(O),I=O.redSqr(),b=b.redMul(I),N=E}return k},G.prototype.invm=function(g){var A=g._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},G.prototype.pow=function(g,A){if(A.isZero())return new o(1).toRed(this);if(A.cmpn(1)===0)return g.clone();var v=4,f=new Array(1<<v);f[0]=new o(1).toRed(this),f[1]=g;for(var h=2;h<f.length;h++)f[h]=this.mul(f[h-1],g);var w=f[0],M=0,S=0,d=A.bitLength()%26;for(d===0&&(d=26),h=A.length-1;h>=0;h--){for(var I=A.words[h],k=d-1;k>=0;k--){var b=I>>k&1;if(w!==f[0]&&(w=this.sqr(w)),b===0&&M===0){S=0;continue}M<<=1,M|=b,S++,!(S!==v&&(h!==0||k!==0))&&(w=this.mul(w,f[M]),S=0,M=0)}d=26}return w},G.prototype.convertTo=function(g){var A=g.umod(this.m);return A===g?A.clone():A},G.prototype.convertFrom=function(g){var A=g.clone();return A.red=null,A},o.mont=function(g){return new Q(g)};function Q(F){G.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Q,G),Q.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},Q.prototype.convertFrom=function(g){var A=this.imod(g.mul(this.rinv));return A.red=null,A},Q.prototype.imul=function(g,A){if(g.isZero()||A.isZero())return g.words[0]=0,g.length=1,g;var v=g.imul(A),f=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=v.isub(f).iushrn(this.shift),w=h;return h.cmp(this.m)>=0?w=h.isub(this.m):h.cmpn(0)<0&&(w=h.iadd(this.m)),w._forceRed(this)},Q.prototype.mul=function(g,A){if(g.isZero()||A.isZero())return new o(0)._forceRed(this);var v=g.mul(A),f=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=v.isub(f).iushrn(this.shift),w=h;return h.cmp(this.m)>=0?w=h.isub(this.m):h.cmpn(0)<0&&(w=h.iadd(this.m)),w._forceRed(this)},Q.prototype.invm=function(g){var A=this.imod(g._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(t,ae)})(V_);var b$=V_.exports,m$=Vp;Vp.strict=G_,Vp.loose=K_;var v$=Object.prototype.toString,y$={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Vp(t){return G_(t)||K_(t)}function G_(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function K_(t){return y$[v$.call(t)]}var x$=m$.strict,w$=function(e){if(x$(e)){var r=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}else return Buffer.from(e)};const J_="hex",Q_="utf8",Lf="0";function pa(t){return new Uint8Array(t)}function Y_(t,e=!1){const r=t.toString(J_);return e?ma(r):r}function _$(t){return t.toString(Q_)}function Df(t){return w$(t)}function ga(t,e=!1){return Y_(Df(t),e)}function E$(t){return _$(Df(t))}function S$(t){return Buffer.from(lo(t),J_)}function ba(t){return pa(S$(t))}function Gp(t){return Buffer.from(t,Q_)}function A$(t){return pa(Gp(t))}function C$(t,e=!1){return Y_(Gp(t),e)}function k$(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Z_(...t){let e=[];return t.forEach(r=>e=e.concat(Array.from(r))),new Uint8Array([...e])}function M$(t,e=8){const r=t%e;return r?(t-r)/e*e+e:t}function I$(t,e=8,r=Lf){return R$(t,M$(t.length,e),r)}function R$(t,e,r=Lf){return P$(t,e,!0,r)}function lo(t){return t.replace(/^0x/,"")}function ma(t){return t.startsWith("0x")?t:`0x${t}`}function X_(t){return t=lo(t),t=I$(t,2),t&&(t=ma(t)),t}function T$(t){const e=t.startsWith("0x");return t=lo(t),t=t.startsWith(Lf)?t.substring(1):t,e?ma(t):t}function P$(t,e,r,n=Lf){const i=e-t.length;let o=t;if(i>0){const s=n.repeat(i);o=r?s+t:t+s}return o}function Kp(t){return Df(new Uint8Array(t))}function N$(t,e){return ga(new Uint8Array(t),!e)}function O$(t){return pa(t).buffer}function B$(t){return Gp(t)}function L$(t,e){return C$(t,!e)}function D$(t){return ba(t).buffer}function e3(t,e){const r=lo(X_(new b$(t).toString(16)));return e?r:ma(r)}function Ff(t){return X_(t)}function F$(t){return T$(ma(t))}const U$=c_;function Jp(){return((e,r)=>{for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r})()}function j$(t,e){let r;const n=g$[t];return n&&(r=`https://${n}.infura.io/v3/${e}`),r}function $$(t,e){let r;const n=j$(t,e.infuraId);return e.custom&&e.custom[t]?r=e.custom[t]:n&&(r=n),r}function W$(t){return t===""||typeof t=="string"&&t.trim()===""}function q$(t){return!(t&&t.length)}function t3(t,e){return k$(t,e)}function H$(t){return typeof t.method<"u"}function Xc(t){return typeof t.result<"u"}function Uf(t){return typeof t.error<"u"}function r3(t){return typeof t.event<"u"}function z$(t){return p$.includes(t)||t.startsWith("wc_")}function V$(t){return t.method.startsWith("wc_")?!0:!zp.includes(t.method)}function G$(t){t=lo(t.toLowerCase());const e=lo(lh.exports.keccak_256(B$(t)));let r="";for(let n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return ma(r)}const K$=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===G$(t):!1:!1;function n3(t){return!q$(t)&&!t3(t[0])&&(t[0]=L$(t[0])),t}function Qp(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!K$(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(i){let o=i;return(typeof i=="number"||typeof i=="string"&&!W$(i))&&(t3(i)?typeof i=="string"&&(o=Ff(i)):o=e3(i)),typeof o=="string"&&(o=F$(o)),o}const r={from:Ff(t.from),to:typeof t.to>"u"?void 0:Ff(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":Ff(t.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(i=>{(typeof r[i]>"u"||typeof r[i]=="string"&&!r[i].trim().length)&&n.includes(i)&&delete r[i]}),r}function J$(t){const e=t.message||"Failed or Rejected Request";let r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}const n={code:r,message:e};return t.data&&(n.data=t.data),n}var Yp={},Q$=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),i3="%[a-f0-9]{2}",o3=new RegExp(i3,"gi"),s3=new RegExp("("+i3+")+","gi");function Zp(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Zp(r),Zp(n))}function Y$(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(o3),r=1;r<e.length;r++)t=Zp(e,r).join(""),e=t.match(o3);return t}}function Z$(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=s3.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=Y$(r[0]);n!==r[0]&&(e[r[0]]=n)}r=s3.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),o=0;o<i.length;o++){var s=i[o];t=t.replace(new RegExp(s,"g"),e[s])}return t}var X$=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Z$(t)}},eW=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]};(function(t){const e=Q$,r=X$,n=eW,i=y=>y==null;function o(y){switch(y.arrayFormat){case"index":return C=>(T,P)=>{const D=T.length;return P===void 0||y.skipNull&&P===null||y.skipEmptyString&&P===""?T:P===null?[...T,[c(C,y),"[",D,"]"].join("")]:[...T,[c(C,y),"[",c(D,y),"]=",c(P,y)].join("")]};case"bracket":return C=>(T,P)=>P===void 0||y.skipNull&&P===null||y.skipEmptyString&&P===""?T:P===null?[...T,[c(C,y),"[]"].join("")]:[...T,[c(C,y),"[]=",c(P,y)].join("")];case"comma":case"separator":return C=>(T,P)=>P==null||P.length===0?T:T.length===0?[[c(C,y),"=",c(P,y)].join("")]:[[T,c(P,y)].join(y.arrayFormatSeparator)];default:return C=>(T,P)=>P===void 0||y.skipNull&&P===null||y.skipEmptyString&&P===""?T:P===null?[...T,c(C,y)]:[...T,[c(C,y),"=",c(P,y)].join("")]}}function s(y){let C;switch(y.arrayFormat){case"index":return(T,P,D)=>{if(C=/\[(\d*)\]$/.exec(T),T=T.replace(/\[\d*\]$/,""),!C){D[T]=P;return}D[T]===void 0&&(D[T]={}),D[T][C[1]]=P};case"bracket":return(T,P,D)=>{if(C=/(\[\])$/.exec(T),T=T.replace(/\[\]$/,""),!C){D[T]=P;return}if(D[T]===void 0){D[T]=[P];return}D[T]=[].concat(D[T],P)};case"comma":case"separator":return(T,P,D)=>{const W=typeof P=="string"&&P.split("").indexOf(y.arrayFormatSeparator)>-1?P.split(y.arrayFormatSeparator).map(V=>u(V,y)):P===null?P:u(P,y);D[T]=W};default:return(T,P,D)=>{if(D[T]===void 0){D[T]=P;return}D[T]=[].concat(D[T],P)}}}function a(y){if(typeof y!="string"||y.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(y,C){return C.encode?C.strict?e(y):encodeURIComponent(y):y}function u(y,C){return C.decode?r(y):y}function l(y){return Array.isArray(y)?y.sort():typeof y=="object"?l(Object.keys(y)).sort((C,T)=>Number(C)-Number(T)).map(C=>y[C]):y}function p(y){const C=y.indexOf("#");return C!==-1&&(y=y.slice(0,C)),y}function m(y){let C="";const T=y.indexOf("#");return T!==-1&&(C=y.slice(T)),C}function x(y){y=p(y);const C=y.indexOf("?");return C===-1?"":y.slice(C+1)}function _(y,C){return C.parseNumbers&&!Number.isNaN(Number(y))&&typeof y=="string"&&y.trim()!==""?y=Number(y):C.parseBooleans&&y!==null&&(y.toLowerCase()==="true"||y.toLowerCase()==="false")&&(y=y.toLowerCase()==="true"),y}function R(y,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),a(C.arrayFormatSeparator);const T=s(C),P=Object.create(null);if(typeof y!="string"||(y=y.trim().replace(/^[?#&]/,""),!y))return P;for(const D of y.split("&")){let[j,W]=n(C.decode?D.replace(/\+/g," "):D,"=");W=W===void 0?null:["comma","separator"].includes(C.arrayFormat)?W:u(W,C),T(u(j,C),W,P)}for(const D of Object.keys(P)){const j=P[D];if(typeof j=="object"&&j!==null)for(const W of Object.keys(j))j[W]=_(j[W],C);else P[D]=_(j,C)}return C.sort===!1?P:(C.sort===!0?Object.keys(P).sort():Object.keys(P).sort(C.sort)).reduce((D,j)=>{const W=P[j];return Boolean(W)&&typeof W=="object"&&!Array.isArray(W)?D[j]=l(W):D[j]=W,D},Object.create(null))}t.extract=x,t.parse=R,t.stringify=(y,C)=>{if(!y)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),a(C.arrayFormatSeparator);const T=W=>C.skipNull&&i(y[W])||C.skipEmptyString&&y[W]==="",P=o(C),D={};for(const W of Object.keys(y))T(W)||(D[W]=y[W]);const j=Object.keys(D);return C.sort!==!1&&j.sort(C.sort),j.map(W=>{const V=y[W];return V===void 0?"":V===null?c(W,C):Array.isArray(V)?V.reduce(P(W),[]).join("&"):c(W,C)+"="+c(V,C)}).filter(W=>W.length>0).join("&")},t.parseUrl=(y,C)=>{C=Object.assign({decode:!0},C);const[T,P]=n(y,"#");return Object.assign({url:T.split("?")[0]||"",query:R(x(y),C)},C&&C.parseFragmentIdentifier&&P?{fragmentIdentifier:u(P,C)}:{})},t.stringifyUrl=(y,C)=>{C=Object.assign({encode:!0,strict:!0},C);const T=p(y.url).split("?")[0]||"",P=t.extract(y.url),D=t.parse(P,{sort:!1}),j=Object.assign(D,y.query);let W=t.stringify(j,C);W&&(W=`?${W}`);let V=m(y.url);return y.fragmentIdentifier&&(V=`#${c(y.fragmentIdentifier,C)}`),`${T}${W}${V}`}})(Yp);function tW(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function rW(t,e){let r=a3(t);return r=Object.assign(Object.assign({},r),e),t=nW(r),t}function a3(t){return Yp.parse(t)}function nW(t){return Yp.stringify(t)}function iW(t){return typeof t.bridge<"u"}function oW(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r);function o(p){const m="@",x=p.split(m);return{handshakeTopic:x[0],version:parseInt(x[1],10)}}const s=o(i),a=typeof r<"u"?t.substr(r):"";function c(p){const m=a3(p);return{key:m.key||"",bridge:m.bridge||""}}const u=c(a);return Object.assign(Object.assign({protocol:n},s),u)}class sW{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,r){this._eventEmitters.push({event:e,callback:r})}trigger(e){let r=[];e&&(r=this._eventEmitters.filter(n=>n.event===e)),r.forEach(n=>{n.callback()})}}const aW=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class cW{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new sW,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:e,silent:!!n})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,r){this._events.push({event:e,callback:r})}_socketCreate(){if(this._nextSocket)return;const e=uW(this._url,this._protocol,this._version);if(this._nextSocket=new aW(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const r=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let r;try{r=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(i=>i.event==="message");n&&n.length&&n.forEach(i=>i.callback(r))}}_socketError(e){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}function uW(t,e,r){var n,i;const s=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),a=F_()?{protocol:e,version:r,env:"browser",host:((n=j_())===null||n===void 0?void 0:n.host)||""}:{protocol:e,version:r,env:((i=Pf())===null||i===void 0?void 0:i.name)||""},c=rW(tW(s[1]||""),a);return s[0]+"?"+c}const Xp="Session currently connected",Ko="Session currently disconnected",lW="Session Rejected",fW="Missing JSON RPC response",hW='JSON-RPC success response must include "result" field',dW='JSON-RPC error response must include "error" field',pW='JSON RPC request must have valid "method" value',gW='JSON RPC request must have valid "id" value',bW="Missing one of the required parameters: bridge / uri / session",c3="JSON RPC response format is invalid",mW="URI format is invalid",vW="QRCode Modal not provided",u3="User close QRCode Modal";class yW{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==e)}trigger(e){let r=[],n;H$(e)?n=e.method:Xc(e)||Uf(e)?n=`response:${e.id}`:r3(e)?n=e.event:n="",n&&(r=this._eventEmitters.filter(i=>i.event===n)),(!r||!r.length)&&!z$(n)&&!r3(n)&&(r=this._eventEmitters.filter(i=>i.event==="call_request")),r.forEach(i=>{if(Uf(e)){const o=new Error(e.error.message);i.callback(o,null)}else i.callback(null,e)})}}class xW{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const r=qp(this.storageId);return r&&iW(r)&&(e=r),e}setSession(e){return Wp(this.storageId,e),e}removeSession(){Hp(this.storageId)}}const wW="walletconnect.org",l3="abcdefghijklmnopqrstuvwxyz0123456789".split("").map(t=>`https://${t}.bridge.walletconnect.org`);function _W(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function EW(t){return _W(t).split(".").slice(-2).join(".")}function SW(){return Math.floor(Math.random()*l3.length)}function AW(){return l3[SW()]}function CW(t){return EW(t)===wW}function kW(t){return CW(t)?AW():t}class MW{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new yW,this._clientMeta=$p()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new xW(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...zp,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(bW);e.connectorOpts.bridge&&(this.bridge=kW(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const r=e.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new cW({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){!e||(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const r=D$(e);this._key=r}get key(){return this._key?N$(this._key,!0):""}set clientId(e){!e||(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=Jp()),this._clientId}set peerId(e){!e||(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=$p()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){!e||(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){!e||(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:r,bridge:n,key:i}=this._parseUri(e);this.handshakeTopic=r,this.bridge=n,this.key=i}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){!e||(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,r){const n={event:e,callback:r};this._eventManager.subscribe(n)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=r.id,this.handshakeTopic=Jp(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(u3)});const n=()=>{this.killSession()};try{const i=await this._sendCallRequest(r);return i&&n(),i}catch(i){throw n(),i}}async connect(e){if(!this._qrcodeModal)throw new Error(vW);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(u3))),this.on("connect",(i,o)=>{if(i)return n(i);r(o.params[0])})}))}async createSession(e){if(this._connected)throw new Error(Xp);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=Jp(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(Xp);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(Xp);const r=e&&e.message?e.message:lW,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(Ko);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const r=e?e.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},i=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(i),this._handleSessionDisconnect(r)}async sendTransaction(e){if(!this._connected)throw new Error(Ko);const r=Qp(e),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(e){if(!this._connected)throw new Error(Ko);const r=Qp(e),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(e){if(!this._connected)throw new Error(Ko);const r=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(r)}async signPersonalMessage(e){if(!this._connected)throw new Error(Ko);e=n3(e);const r=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(r)}async signTypedData(e){if(!this._connected)throw new Error(Ko);const r=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(r)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(r)}unsafeSend(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),new Promise((n,i)=>{this._subscribeToResponse(e.id,(o,s)=>{if(o){i(o);return}if(!s)throw new Error(fW);n(s)})})}async sendCustomRequest(e,r){if(!this._connected)throw new Error(Ko);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return e3(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=Qp(e.params[0]));break;case"personal_sign":e.params&&(e.params=n3(e.params));break}const n=this._formatRequest(e);return await this._sendCallRequest(n,r)}approveRequest(e){if(Xc(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(hW)}rejectRequest(e){if(Uf(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(dW)}transportClose(){this._transport.close()}async _sendRequest(e,r){const n=this._formatRequest(e),i=await this._encrypt(n),o=typeof r?.topic<"u"?r.topic:this.peerId,s=JSON.stringify(i),a=typeof r?.forcePushNotification<"u"?!r.forcePushNotification:V$(n);this._transport.send(s,o,a)}async _sendResponse(e){const r=await this._encrypt(e),n=this.peerId,i=JSON.stringify(r),o=!0;this._transport.send(i,n,o)}async _sendSessionRequest(e,r,n){this._sendRequest(e,n),this._subscribeToSessionResponse(e.id,r)}_sendCallRequest(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(pW);return{id:typeof e.id>"u"?U$():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(gW);const r={id:e.id,jsonrpc:"2.0"};if(Uf(e)){const n=J$(e.error);return Object.assign(Object.assign(Object.assign({},r),e),{error:n})}else if(Xc(e))return Object.assign(Object.assign({},r),e);throw new Error(c3)}_handleSessionDisconnect(e){const r=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Hp(Bf)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let n;try{n=JSON.parse(e.payload)}catch{return}const i=await this._decrypt(n);i&&this._eventManager.trigger(i)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,r){this.on(`response:${e}`,r)}_subscribeToSessionResponse(e,r){this._subscribeToResponse(e,(n,i)=>{if(n){this._handleSessionResponse(n.message);return}Xc(i)?this._handleSessionResponse(r,i.result):i.error&&i.error.message?this._handleSessionResponse(i.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(e){return new Promise((r,n)=>{this._subscribeToResponse(e,(i,o)=>{if(i){n(i);return}Xc(o)?r(o.result):o.error&&o.error.message?n(o.error):n(new Error(c3))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,r)=>{const{request:n}=r.params[0];if(L_()&&this._signingMethods.includes(n.method)){const i=qp(Bf);i&&(window.location.href=i.href)}}),this.on("wc_sessionRequest",(e,r)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(e,r)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,r=this.handshakeTopic,n=this.version,i=encodeURIComponent(this.bridge),o=this.key;return`${e}:${r}@${n}?bridge=${i}&key=${o}`}_parseUri(e){const r=oW(e);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const i=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const o=r.key;return{handshakeTopic:n,bridge:i,key:o}}else throw new Error(mW)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(e,r):null}async _decrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(e,r):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(n,i)=>{if(n)throw n;if(e.peerMeta){const o=i.params[0].peerMeta.name;r.peerName=o}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function IW(t){return ha.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const f3=256,h3=f3,RW=f3,fo="AES-CBC",TW=`SHA-${h3}`,eg="HMAC",PW="encrypt",NW="decrypt",OW="sign",BW="verify";function LW(t){return t===fo?{length:h3,name:fo}:{hash:{name:TW},name:eg}}function DW(t){return t===fo?[PW,NW]:[OW,BW]}async function tg(t,e=fo){return ha.getSubtleCrypto().importKey("raw",t,LW(e),!0,DW(e))}async function FW(t,e,r){const n=ha.getSubtleCrypto(),i=await tg(e,fo),o=await n.encrypt({iv:t,name:fo},i,r);return new Uint8Array(o)}async function UW(t,e,r){const n=ha.getSubtleCrypto(),i=await tg(e,fo),o=await n.decrypt({iv:t,name:fo},i,r);return new Uint8Array(o)}async function jW(t,e){const r=ha.getSubtleCrypto(),n=await tg(t,eg),i=await r.sign({length:RW,name:eg},n,e);return new Uint8Array(i)}function $W(t,e,r){return FW(t,e,r)}function WW(t,e,r){return UW(t,e,r)}async function d3(t,e){return await jW(t,e)}async function p3(t){const e=(t||256)/8,r=IW(e);return O$(Df(r))}async function g3(t,e){const r=ba(t.data),n=ba(t.iv),i=ba(t.hmac),o=ga(i,!1),s=Z_(r,n),a=await d3(e,s),c=ga(a,!1);return lo(o)===lo(c)}async function qW(t,e,r){const n=pa(Kp(e)),i=r||await p3(128),o=pa(Kp(i)),s=ga(o,!1),a=JSON.stringify(t),c=A$(a),u=await $W(o,n,c),l=ga(u,!1),p=Z_(u,o),m=await d3(n,p),x=ga(m,!1);return{data:l,hmac:x,iv:s}}async function HW(t,e){const r=pa(Kp(e));if(!r)throw new Error("Missing key: required for decryption");if(!await g3(t,r))return null;const i=ba(t.data),o=ba(t.iv),s=await WW(o,r,i),a=E$(s);let c;try{c=JSON.parse(a)}catch{return null}return c}var zW=Object.freeze({__proto__:null,generateKey:p3,verifyHmac:g3,encrypt:qW,decrypt:HW});class VW extends MW{constructor(e,r){super({cryptoLib:zW,connectorOpts:e,pushServerOpts:r})}}var GW=Ye(d$),eu={},KW=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},b3={},ho={},JW=function(){try{if(!Buffer.isEncoding("latin1"))return!1;var t=Buffer.alloc?Buffer.alloc(4):new Buffer(4);return t.fill("ab","ucs2"),t.toString("hex")==="61006200"}catch{return!1}}();function QW(t){return t.length===1&&t.charCodeAt(0)<256}function jf(t,e,r,n){if(r<0||n>t.length)throw new RangeError("Out of range index");return r=r>>>0,n=n===void 0?t.length:n>>>0,n>r&&t.fill(e,r,n),t}function YW(t,e,r,n){if(r<0||n>t.length)throw new RangeError("Out of range index");if(n<=r)return t;r=r>>>0,n=n===void 0?t.length:n>>>0;for(var i=r,o=e.length;i<=n-o;)e.copy(t,i),i+=o;return i!==n&&e.copy(t,i,0,n-i),t}function ZW(t,e,r,n,i){if(JW)return t.fill(e,r,n,i);if(typeof e=="number")return jf(t,e,r,n);if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=t.length):typeof n=="string"&&(i=n,n=t.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(i==="latin1"&&(i="binary"),typeof i=="string"&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e==="")return jf(t,0,r,n);if(QW(e))return jf(t,e.charCodeAt(0),r,n);e=new Buffer(e,i)}return Buffer.isBuffer(e)?YW(t,e,r,n):jf(t,0,r,n)}var XW=ZW;function eq(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t)}var tq=eq,m3=XW,rq=tq,nq=function(e,r,n){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');if(Buffer.alloc)return Buffer.alloc(e,r,n);var i=rq(e);return e===0?i:r===void 0?m3(i,0):(typeof n!="string"&&(n=void 0),m3(i,r,n))},iq=Object.prototype.toString,rg=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function oq(t){return iq.call(t).slice(8,-1)==="ArrayBuffer"}function sq(t,e,r){e>>>=0;var n=t.byteLength-e;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return rg?Buffer.from(t.slice(e,e+r)):new Buffer(new Uint8Array(t.slice(e,e+r)))}function aq(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return rg?Buffer.from(t,e):new Buffer(t,e)}function cq(t,e,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return oq(t)?sq(t,e,r):typeof t=="string"?aq(t,e):rg?Buffer.from(t):new Buffer(t)}var uq=cq;ho.alloc=nq,ho.from=uq;var Yr={},ng,lq=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Yr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},Yr.getSymbolTotalCodewords=function(e){return lq[e]},Yr.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e},Yr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ng=e},Yr.isKanjiModeEnabled=function(){return typeof ng<"u"},Yr.toSJIS=function(e){return ng(e)};var $f={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})($f);function v3(){this.buffer=[],this.length=0}v3.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var fq=v3,y3=ho;function tu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=y3.alloc(t*t),this.reservedBit=y3.alloc(t*t)}tu.prototype.set=function(t,e,r,n){var i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},tu.prototype.get=function(t,e){return this.data[t*this.size+e]},tu.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},tu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var hq=tu,x3={};(function(t){var e=Yr.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];for(var i=Math.floor(n/7)+2,o=e(n),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7],c=1;c<i-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},t.getPositions=function(n){for(var i=[],o=t.getRowColCoords(n),s=o.length,a=0;a<s;a++)for(var c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||i.push([o[a],o[c]]);return i}})(x3);var w3={},dq=Yr.getSymbolSize,_3=7;w3.getPositions=function(e){var r=dq(e);return[[0,0],[r-_3,0],[0,r-_3]]};var E3={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){for(var o=i.size,s=0,a=0,c=0,u=null,l=null,p=0;p<o;p++){a=c=0,u=l=null;for(var m=0;m<o;m++){var x=i.get(p,m);x===u?a++:(a>=5&&(s+=e.N1+(a-5)),u=x,a=1),x=i.get(m,p),x===l?c++:(c>=5&&(s+=e.N1+(c-5)),l=x,c=1)}a>=5&&(s+=e.N1+(a-5)),c>=5&&(s+=e.N1+(c-5))}return s},t.getPenaltyN2=function(i){for(var o=i.size,s=0,a=0;a<o-1;a++)for(var c=0;c<o-1;c++){var u=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(u===4||u===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){for(var o=i.size,s=0,a=0,c=0,u=0;u<o;u++){a=c=0;for(var l=0;l<o;l++)a=a<<1&2047|i.get(u,l),l>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|i.get(l,u),l>=10&&(c===1488||c===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){for(var o=0,s=i.data.length,a=0;a<s;a++)o+=i.data[a];var c=Math.abs(Math.ceil(o*100/s/5)-10);return c*e.N4};function r(n,i,o){switch(n){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,o){for(var s=o.size,a=0;a<s;a++)for(var c=0;c<s;c++)o.isReserved(c,a)||o.xor(c,a,r(i,c,a))},t.getBestMask=function(i,o){for(var s=Object.keys(t.Patterns).length,a=0,c=1/0,u=0;u<s;u++){o(u),t.applyMask(u,i);var l=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),l<c&&(c=l,a=u)}return a}})(E3);var Wf={},po=$f,qf=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Hf=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Wf.getBlocksCount=function(e,r){switch(r){case po.L:return qf[(e-1)*4+0];case po.M:return qf[(e-1)*4+1];case po.Q:return qf[(e-1)*4+2];case po.H:return qf[(e-1)*4+3];default:return}},Wf.getTotalCodewordsCount=function(e,r){switch(r){case po.L:return Hf[(e-1)*4+0];case po.M:return Hf[(e-1)*4+1];case po.Q:return Hf[(e-1)*4+2];case po.H:return Hf[(e-1)*4+3];default:return}};var S3={},zf={},A3=ho,ru=A3.alloc(512),Vf=A3.alloc(256);(function(){for(var e=1,r=0;r<255;r++)ru[r]=e,Vf[e]=r,e<<=1,e&256&&(e^=285);for(r=255;r<512;r++)ru[r]=ru[r-255]})(),zf.log=function(e){if(e<1)throw new Error("log("+e+")");return Vf[e]},zf.exp=function(e){return ru[e]},zf.mul=function(e,r){return e===0||r===0?0:ru[Vf[e]+Vf[r]]},function(t){var e=ho,r=zf;t.mul=function(i,o){for(var s=e.alloc(i.length+o.length-1),a=0;a<i.length;a++)for(var c=0;c<o.length;c++)s[a+c]^=r.mul(i[a],o[c]);return s},t.mod=function(i,o){for(var s=e.from(i);s.length-o.length>=0;){for(var a=s[0],c=0;c<o.length;c++)s[c]^=r.mul(o[c],a);for(var u=0;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},t.generateECPolynomial=function(i){for(var o=e.from([1]),s=0;s<i;s++)o=t.mul(o,[1,r.exp(s)]);return o}}(S3);var C3=ho,k3=S3,pq=Aa.default.Buffer;function ig(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ig.prototype.initialize=function(e){this.degree=e,this.genPoly=k3.generateECPolynomial(this.degree)},ig.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var r=C3.alloc(this.degree),n=pq.concat([e,r],e.length+this.degree),i=k3.mod(n,this.genPoly),o=this.degree-i.length;if(o>0){var s=C3.alloc(this.degree);return i.copy(s,o),s}return i};var gq=ig,M3={},go={},og={};og.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var si={},I3="[0-9]+",bq="[A-Z $%*+\\-./:]+",nu="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";nu=nu.replace(/u/g,"\\u");var mq="(?:(?![A-Z0-9 $%*+\\-./:]|"+nu+`)(?:.|[\r
]))+`;si.KANJI=new RegExp(nu,"g"),si.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),si.BYTE=new RegExp(mq,"g"),si.NUMERIC=new RegExp(I3,"g"),si.ALPHANUMERIC=new RegExp(bq,"g");var vq=new RegExp("^"+nu+"$"),yq=new RegExp("^"+I3+"$"),xq=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");si.testKanji=function(e){return vq.test(e)},si.testNumeric=function(e){return yq.test(e)},si.testAlphanumeric=function(e){return xq.test(e)},function(t){var e=og,r=si;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return r.testNumeric(o)?t.NUMERIC:r.testAlphanumeric(o)?t.ALPHANUMERIC:r.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");var o=i.toLowerCase();switch(o){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return n(o)}catch{return s}}}(go);var wq={}.toString,R3=Array.isArray||function(t){return wq.call(t)=="[object Array]"};(function(t){var e=Yr,r=Wf,n=$f,i=go,o=og,s=R3,a=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,c=e.getBCHDigit(a);function u(x,_,R){for(var y=1;y<=40;y++)if(_<=t.getCapacity(y,R,x))return y}function l(x,_){return i.getCharCountIndicator(x,_)+4}function p(x,_){var R=0;return x.forEach(function(y){var C=l(y.mode,_);R+=C+y.getBitsLength()}),R}function m(x,_){for(var R=1;R<=40;R++){var y=p(x,R);if(y<=t.getCapacity(R,_,i.MIXED))return R}}t.from=function(_,R){return o.isValid(_)?parseInt(_,10):R},t.getCapacity=function(_,R,y){if(!o.isValid(_))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);var C=e.getSymbolTotalCodewords(_),T=r.getTotalCodewordsCount(_,R),P=(C-T)*8;if(y===i.MIXED)return P;var D=P-l(y,_);switch(y){case i.NUMERIC:return Math.floor(D/10*3);case i.ALPHANUMERIC:return Math.floor(D/11*2);case i.KANJI:return Math.floor(D/13);case i.BYTE:default:return Math.floor(D/8)}},t.getBestVersionForData=function(_,R){var y,C=n.from(R,n.M);if(s(_)){if(_.length>1)return m(_,C);if(_.length===0)return 1;y=_[0]}else y=_;return u(y.mode,y.getLength(),C)},t.getEncodedBits=function(_){if(!o.isValid(_)||_<7)throw new Error("Invalid QR Code version");for(var R=_<<12;e.getBCHDigit(R)-c>=0;)R^=a<<e.getBCHDigit(R)-c;return _<<12|R}})(M3);var T3={},sg=Yr,P3=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,_q=1<<14|1<<12|1<<10|1<<4|1<<1,N3=sg.getBCHDigit(P3);T3.getEncodedBits=function(e,r){for(var n=e.bit<<3|r,i=n<<10;sg.getBCHDigit(i)-N3>=0;)i^=P3<<sg.getBCHDigit(i)-N3;return(n<<10|i)^_q};var O3={},Eq=go;function va(t){this.mode=Eq.NUMERIC,this.data=t.toString()}va.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},va.prototype.getLength=function(){return this.data.length},va.prototype.getBitsLength=function(){return va.getBitsLength(this.data.length)},va.prototype.write=function(e){var r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);var o=this.data.length-r;o>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,o*3+1))};var Sq=va,Aq=go,ag=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ya(t){this.mode=Aq.ALPHANUMERIC,this.data=t}ya.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},ya.prototype.getLength=function(){return this.data.length},ya.prototype.getBitsLength=function(){return ya.getBitsLength(this.data.length)},ya.prototype.write=function(e){var r;for(r=0;r+2<=this.data.length;r+=2){var n=ag.indexOf(this.data[r])*45;n+=ag.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(ag.indexOf(this.data[r]),6)};var Cq=ya,kq=ho,Mq=go;function xa(t){this.mode=Mq.BYTE,this.data=kq.from(t)}xa.getBitsLength=function(e){return e*8},xa.prototype.getLength=function(){return this.data.length},xa.prototype.getBitsLength=function(){return xa.getBitsLength(this.data.length)},xa.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var Iq=xa,Rq=go,Tq=Yr;function wa(t){this.mode=Rq.KANJI,this.data=t}wa.getBitsLength=function(e){return e*13},wa.prototype.getLength=function(){return this.data.length},wa.prototype.getBitsLength=function(){return wa.getBitsLength(this.data.length)},wa.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=Tq.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Pq=wa,B3={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var o={},s={};s[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,u,l,p,m,x,_,R,y;!a.empty();){c=a.pop(),u=c.value,p=c.cost,m=r[u]||{};for(l in m)m.hasOwnProperty(l)&&(x=m[l],_=p+x,R=s[l],y=typeof s[l]>"u",(y||R>_)&&(s[l]=_,a.push(l,_),o[l]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var C=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(C)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],o=n;o;)i.push(o),r[o],o=r[o];return i.reverse(),i},find_path:function(r,n,i){var o=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(B3),function(t){var e=go,r=Sq,n=Cq,i=Iq,o=Pq,s=si,a=Yr,c=B3.exports;function u(C){return unescape(encodeURIComponent(C)).length}function l(C,T,P){for(var D=[],j;(j=C.exec(P))!==null;)D.push({data:j[0],index:j.index,mode:T,length:j[0].length});return D}function p(C){var T=l(s.NUMERIC,e.NUMERIC,C),P=l(s.ALPHANUMERIC,e.ALPHANUMERIC,C),D,j;a.isKanjiModeEnabled()?(D=l(s.BYTE,e.BYTE,C),j=l(s.KANJI,e.KANJI,C)):(D=l(s.BYTE_KANJI,e.BYTE,C),j=[]);var W=T.concat(P,D,j);return W.sort(function(V,G){return V.index-G.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function m(C,T){switch(T){case e.NUMERIC:return r.getBitsLength(C);case e.ALPHANUMERIC:return n.getBitsLength(C);case e.KANJI:return o.getBitsLength(C);case e.BYTE:return i.getBitsLength(C)}}function x(C){return C.reduce(function(T,P){var D=T.length-1>=0?T[T.length-1]:null;return D&&D.mode===P.mode?(T[T.length-1].data+=P.data,T):(T.push(P),T)},[])}function _(C){for(var T=[],P=0;P<C.length;P++){var D=C[P];switch(D.mode){case e.NUMERIC:T.push([D,{data:D.data,mode:e.ALPHANUMERIC,length:D.length},{data:D.data,mode:e.BYTE,length:D.length}]);break;case e.ALPHANUMERIC:T.push([D,{data:D.data,mode:e.BYTE,length:D.length}]);break;case e.KANJI:T.push([D,{data:D.data,mode:e.BYTE,length:u(D.data)}]);break;case e.BYTE:T.push([{data:D.data,mode:e.BYTE,length:u(D.data)}])}}return T}function R(C,T){for(var P={},D={start:{}},j=["start"],W=0;W<C.length;W++){for(var V=C[W],G=[],Q=0;Q<V.length;Q++){var F=V[Q],g=""+W+Q;G.push(g),P[g]={node:F,lastCount:0},D[g]={};for(var A=0;A<j.length;A++){var v=j[A];P[v]&&P[v].node.mode===F.mode?(D[v][g]=m(P[v].lastCount+F.length,F.mode)-m(P[v].lastCount,F.mode),P[v].lastCount+=F.length):(P[v]&&(P[v].lastCount=F.length),D[v][g]=m(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,T))}}j=G}for(A=0;A<j.length;A++)D[j[A]].end=0;return{map:D,table:P}}function y(C,T){var P,D=e.getBestModeForData(C);if(P=e.from(T,D),P!==e.BYTE&&P.bit<D.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(P)+`.
 Suggested mode is: `+e.toString(D));switch(P===e.KANJI&&!a.isKanjiModeEnabled()&&(P=e.BYTE),P){case e.NUMERIC:return new r(C);case e.ALPHANUMERIC:return new n(C);case e.KANJI:return new o(C);case e.BYTE:return new i(C)}}t.fromArray=function(T){return T.reduce(function(P,D){return typeof D=="string"?P.push(y(D,null)):D.data&&P.push(y(D.data,D.mode)),P},[])},t.fromString=function(T,P){for(var D=p(T,a.isKanjiModeEnabled()),j=_(D),W=R(j,P),V=c.find_path(W.map,"start","end"),G=[],Q=1;Q<V.length-1;Q++)G.push(W.table[V[Q]].node);return t.fromArray(x(G))},t.rawSplit=function(T){return t.fromArray(p(T,a.isKanjiModeEnabled()))}}(O3);var L3=ho,Gf=Yr,cg=$f,Nq=fq,Oq=hq,Bq=x3,Lq=w3,ug=E3,lg=Wf,Dq=gq,Kf=M3,Fq=T3,Uq=go,fg=O3,jq=R3;function $q(t,e){for(var r=t.size,n=Lq.getPositions(e),i=0;i<n.length;i++)for(var o=n[i][0],s=n[i][1],a=-1;a<=7;a++)if(!(o+a<=-1||r<=o+a))for(var c=-1;c<=7;c++)s+c<=-1||r<=s+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(o+a,s+c,!0,!0):t.set(o+a,s+c,!1,!0))}function Wq(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function qq(t,e){for(var r=Bq.getPositions(e),n=0;n<r.length;n++)for(var i=r[n][0],o=r[n][1],s=-2;s<=2;s++)for(var a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}function Hq(t,e){for(var r=t.size,n=Kf.getEncodedBits(e),i,o,s,a=0;a<18;a++)i=Math.floor(a/3),o=a%3+r-8-3,s=(n>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function hg(t,e,r){var n=t.size,i=Fq.getEncodedBits(e,r),o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(n-15+o,8,s,!0),o<8?t.set(8,n-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(n-8,8,1,!0)}function zq(t,e){for(var r=t.size,n=-1,i=r-1,o=7,s=0,a=r-1;a>0;a-=2)for(a===6&&a--;;){for(var c=0;c<2;c++)if(!t.isReserved(i,a-c)){var u=!1;s<e.length&&(u=(e[s]>>>o&1)===1),t.set(i,a-c,u),o--,o===-1&&(s++,o=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Vq(t,e,r){var n=new Nq;r.forEach(function(u){n.put(u.mode.bit,4),n.put(u.getLength(),Uq.getCharCountIndicator(u.mode,t)),u.write(n)});var i=Gf.getSymbolTotalCodewords(t),o=lg.getTotalCodewordsCount(t,e),s=(i-o)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var a=(s-n.getLengthInBits())/8,c=0;c<a;c++)n.put(c%2?17:236,8);return Gq(n,t,e)}function Gq(t,e,r){for(var n=Gf.getSymbolTotalCodewords(e),i=lg.getTotalCodewordsCount(e,r),o=n-i,s=lg.getBlocksCount(e,r),a=n%s,c=s-a,u=Math.floor(n/s),l=Math.floor(o/s),p=l+1,m=u-l,x=new Dq(m),_=0,R=new Array(s),y=new Array(s),C=0,T=L3.from(t.buffer),P=0;P<s;P++){var D=P<c?l:p;R[P]=T.slice(_,_+D),y[P]=x.encode(R[P]),_+=D,C=Math.max(C,D)}var j=L3.alloc(n),W=0,V,G;for(V=0;V<C;V++)for(G=0;G<s;G++)V<R[G].length&&(j[W++]=R[G][V]);for(V=0;V<m;V++)for(G=0;G<s;G++)j[W++]=y[G][V];return j}function Kq(t,e,r,n){var i;if(jq(t))i=fg.fromArray(t);else if(typeof t=="string"){var o=e;if(!o){var s=fg.rawSplit(t);o=Kf.getBestVersionForData(s,r)}i=fg.fromString(t,o||40)}else throw new Error("Invalid data");var a=Kf.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);var c=Vq(e,r,i),u=Gf.getSymbolSize(e),l=new Oq(u);return $q(l,e),Wq(l),qq(l,e),hg(l,r,0),e>=7&&Hq(l,e),zq(l,c),isNaN(n)&&(n=ug.getBestMask(l,hg.bind(null,l,r))),ug.applyMask(n,l),hg(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}b3.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");var n=cg.M,i,o;return typeof r<"u"&&(n=cg.from(r.errorCorrectionLevel,cg.M),i=Kf.from(r.version),o=ug.from(r.maskPattern),r.toSJISFunc&&Gf.setToSJISFunction(r.toSJISFunc)),Kq(e,i,n,o)};var D3={},dg={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");var i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});var i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){var o=t.getScale(n,i);return Math.floor((n+i.margin*2)*o)},t.qrToImageData=function(n,i,o){for(var s=i.modules.size,a=i.modules.data,c=t.getScale(s,o),u=Math.floor((s+o.margin*2)*c),l=o.margin*c,p=[o.color.light,o.color.dark],m=0;m<u;m++)for(var x=0;x<u;x++){var _=(m*u+x)*4,R=o.color.light;if(m>=l&&x>=l&&m<u-l&&x<u-l){var y=Math.floor((m-l)/c),C=Math.floor((x-l)/c);R=p[a[y*s+C]?1:0]}n[_++]=R.r,n[_++]=R.g,n[_++]=R.b,n[_]=R.a}}})(dg),function(t){var e=dg;function r(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){var c=a,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=n()),c=e.getOptions(c);var l=e.getImageWidth(o.modules.size,c),p=u.getContext("2d"),m=p.createImageData(l,l);return e.qrToImageData(m.data,o,c),r(p,u,l),p.putImageData(m,0,0),u},t.renderToDataURL=function(o,s,a){var c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});var u=t.render(o,s,c),l=c.type||"image/png",p=c.rendererOpts||{};return u.toDataURL(l,p.quality)}}(D3);var F3={},Jq=dg;function U3(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function pg(t,e,r){var n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Qq(t,e,r){for(var n="",i=0,o=!1,s=0,a=0;a<t.length;a++){var c=Math.floor(a%e),u=Math.floor(a/e);!c&&!o&&(o=!0),t[a]?(s++,a>0&&c>0&&t[a-1]||(n+=o?pg("M",c+r,.5+u+r):pg("m",i,0),i=0,o=!1),c+1<e&&t[a+1]||(n+=pg("h",s),s=0)):i++}return n}F3.render=function(e,r,n){var i=Jq.getOptions(r),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,c=i.color.light.a?"<path "+U3(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+U3(i.color.dark,"stroke")+' d="'+Qq(s,o,i.margin)+'"/>',l='viewBox="0 0 '+a+" "+a+'"',p=i.width?'width="'+i.width+'" height="'+i.width+'" ':"",m='<svg xmlns="http://www.w3.org/2000/svg" '+p+l+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,m),m};var Yq=KW,gg=b3,j3=D3,Zq=F3;function bg(t,e,r,n,i){var o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!Yq())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=r,r=e,e=n=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=e,e=n=void 0):s===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(u,l){try{var p=gg.create(r,n);u(t(p,e,n))}catch(m){l(m)}})}try{var c=gg.create(r,n);i(null,t(c,e,n))}catch(u){i(u)}}eu.create=gg.create,eu.toCanvas=bg.bind(null,j3.render),eu.toDataURL=bg.bind(null,j3.renderToDataURL),eu.toString=bg.bind(null,function(t,e,r){return Zq.render(t,r)});var Xq=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(i){t.addRange(i)}),e&&e.focus()}},eH=Xq,$3={"text/plain":"Text","text/html":"Url",default:"Text"},tH="Copy to clipboard: #{key}, Enter";function rH(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function nH(t,e){var r,n,i,o,s,a,c=!1;e||(e={}),r=e.debug||!1;try{i=eH(),o=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(l){if(l.stopPropagation(),e.format)if(l.preventDefault(),typeof l.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var p=$3[e.format]||$3.default;window.clipboardData.setData(p,t)}else l.clipboardData.clearData(),l.clipboardData.setData(e.format,t);e.onCopy&&(l.preventDefault(),e.onCopy(l.clipboardData))}),document.body.appendChild(a),o.selectNodeContents(a),s.addRange(o);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(l){r&&console.error("unable to copy using execCommand: ",l),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(p){r&&console.error("unable to copy using clipboardData: ",p),r&&console.error("falling back to prompt"),n=rH("message"in e?e.message:tH),window.prompt(n,t)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(o):s.removeAllRanges()),a&&document.body.removeChild(a),i()}return c}var iH=nH,$e,iu,mg,W3,q3,vg,H3,ki={},Jf=[],oH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Mi(t,e){for(var r in e)t[r]=e[r];return t}function z3(t){var e=t.parentNode;e&&e.removeChild(t)}function Ii(t,e,r){var n,i=arguments,o={};for(n in e)n!=="key"&&n!=="ref"&&(o[n]=e[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(r!=null&&(o.children=r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)o[n]===void 0&&(o[n]=t.defaultProps[n]);return Qf(t,o,e&&e.key,e&&e.ref,null)}function Qf(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return i==null&&(o.__v=o),$e.vnode&&$e.vnode(o),o}function V3(){return{}}function ou(t){return t.children}function Mn(t,e){this.props=t,this.context=e}function su(t,e){if(e==null)return t.__?su(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?su(t):null}function G3(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return G3(t)}}function Yf(t){(!t.__d&&(t.__d=!0)&&iu.push(t)&&!mg++||q3!==$e.debounceRendering)&&((q3=$e.debounceRendering)||W3)(sH)}function sH(){for(var t;mg=iu.length;)t=iu.sort(function(e,r){return e.__v.__b-r.__v.__b}),iu=[],t.some(function(e){var r,n,i,o,s,a,c;e.__d&&(a=(s=(r=e).__v).__e,(c=r.__P)&&(n=[],(i=Mi({},s)).__v=i,o=yg(c,s,i,r.__n,c.ownerSVGElement!==void 0,null,n,a??su(s)),Y3(n,s),o!=a&&G3(s)))})}function K3(t,e,r,n,i,o,s,a,c){var u,l,p,m,x,_,R,y=r&&r.__k||Jf,C=y.length;if(a==ki&&(a=o!=null?o[0]:C?su(r,0):null),u=0,e.__k=bo(e.__k,function(T){if(T!=null){if(T.__=e,T.__b=e.__b+1,(p=y[u])===null||p&&T.key==p.key&&T.type===p.type)y[u]=void 0;else for(l=0;l<C;l++){if((p=y[l])&&T.key==p.key&&T.type===p.type){y[l]=void 0;break}p=null}if(m=yg(t,T,p=p||ki,n,i,o,s,a,c),(l=T.ref)&&p.ref!=l&&(R||(R=[]),p.ref&&R.push(p.ref,null,T),R.push(l,T.__c||m,T)),m!=null){var P;if(_==null&&(_=m),T.__d!==void 0)P=T.__d,T.__d=void 0;else if(o==p||m!=a||m.parentNode==null){e:if(a==null||a.parentNode!==t)t.appendChild(m),P=null;else{for(x=a,l=0;(x=x.nextSibling)&&l<C;l+=2)if(x==m)break e;t.insertBefore(m,a),P=a}e.type=="option"&&(t.value="")}a=P!==void 0?P:m.nextSibling,typeof e.type=="function"&&(e.__d=a)}else a&&p.__e==a&&a.parentNode!=t&&(a=su(p))}return u++,T}),e.__e=_,o!=null&&typeof e.type!="function")for(u=o.length;u--;)o[u]!=null&&z3(o[u]);for(u=C;u--;)y[u]!=null&&au(y[u],y[u]);if(R)for(u=0;u<R.length;u++)Z3(R[u],R[++u],R[++u])}function bo(t,e,r){if(r==null&&(r=[]),t==null||typeof t=="boolean")e&&r.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)bo(t[n],e,r);else r.push(e?e(typeof t=="string"||typeof t=="number"?Qf(null,t,null,null,t):t.__e!=null||t.__c!=null?Qf(t.type,t.props,t.key,null,t.__v):t):t);return r}function aH(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||Zf(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||Zf(t,o,e[o],r[o],n)}function J3(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=typeof r=="number"&&oH.test(e)===!1?r+"px":r??""}function Zf(t,e,r,n,i){var o,s,a,c,u;if(i?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(o=t.style,typeof r=="string")o.cssText=r;else{if(typeof n=="string"&&(o.cssText="",n=null),n)for(c in n)r&&c in r||J3(o,c,"");if(r)for(u in r)n&&r[u]===n[u]||J3(o,u,r[u])}else e[0]==="o"&&e[1]==="n"?(s=e!==(e=e.replace(/Capture$/,"")),a=e.toLowerCase(),e=(a in t?a:e).slice(2),r?(n||t.addEventListener(e,Q3,s),(t.l||(t.l={}))[e]=r):t.removeEventListener(e,Q3,s)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!i&&e in t?t[e]=r??"":typeof r!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?r==null||r===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,r))}function Q3(t){this.l[t.type]($e.event?$e.event(t):t)}function yg(t,e,r,n,i,o,s,a,c){var u,l,p,m,x,_,R,y,C,T,P=e.type;if(e.constructor!==void 0)return null;(u=$e.__b)&&u(e);try{e:if(typeof P=="function"){if(y=e.props,C=(u=P.contextType)&&n[u.__c],T=u?C?C.props.value:u.__:n,r.__c?R=(l=e.__c=r.__c).__=l.__E:("prototype"in P&&P.prototype.render?e.__c=l=new P(y,T):(e.__c=l=new Mn(y,T),l.constructor=P,l.render=uH),C&&C.sub(l),l.props=y,l.state||(l.state={}),l.context=T,l.__n=n,p=l.__d=!0,l.__h=[]),l.__s==null&&(l.__s=l.state),P.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Mi({},l.__s)),Mi(l.__s,P.getDerivedStateFromProps(y,l.__s))),m=l.props,x=l.state,p)P.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(P.getDerivedStateFromProps==null&&y!==m&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,T),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,T)===!1||e.__v===r.__v&&!l.__){for(l.props=y,l.state=l.__s,e.__v!==r.__v&&(l.__d=!1),l.__v=e,e.__e=r.__e,e.__k=r.__k,l.__h.length&&s.push(l),u=0;u<e.__k.length;u++)e.__k[u]&&(e.__k[u].__=e);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,T),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(m,x,_)})}l.context=T,l.props=y,l.state=l.__s,(u=$e.__r)&&u(e),l.__d=!1,l.__v=e,l.__P=t,u=l.render(l.props,l.state,l.context),e.__k=u!=null&&u.type==ou&&u.key==null?u.props.children:Array.isArray(u)?u:[u],l.getChildContext!=null&&(n=Mi(Mi({},n),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(_=l.getSnapshotBeforeUpdate(m,x)),K3(t,e,r,n,i,o,s,a,c),l.base=e.__e,l.__h.length&&s.push(l),R&&(l.__E=l.__=null),l.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=cH(r.__e,e,r,n,i,o,s,c);(u=$e.diffed)&&u(e)}catch(D){e.__v=null,$e.__e(D,e,r)}return e.__e}function Y3(t,e){$e.__c&&$e.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){$e.__e(n,r.__v)}})}function cH(t,e,r,n,i,o,s,a){var c,u,l,p,m,x=r.props,_=e.props;if(i=e.type==="svg"||i,o!=null){for(c=0;c<o.length;c++)if((u=o[c])!=null&&((e.type===null?u.nodeType===3:u.localName===e.type)||t==u)){t=u,o[c]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(_);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,_.is&&{is:_.is}),o=null,a=!1}if(e.type===null)x!==_&&t.data!=_&&(t.data=_);else{if(o!=null&&(o=Jf.slice.call(t.childNodes)),l=(x=r.props||ki).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!a){if(x===ki)for(x={},m=0;m<t.attributes.length;m++)x[t.attributes[m].name]=t.attributes[m].value;(p||l)&&(p&&l&&p.__html==l.__html||(t.innerHTML=p&&p.__html||""))}aH(t,_,x,i,a),p?e.__k=[]:(e.__k=e.props.children,K3(t,e,r,n,e.type!=="foreignObject"&&i,o,s,ki,a)),a||("value"in _&&(c=_.value)!==void 0&&c!==t.value&&Zf(t,"value",c,x.value,!1),"checked"in _&&(c=_.checked)!==void 0&&c!==t.checked&&Zf(t,"checked",c,x.checked,!1))}return t}function Z3(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){$e.__e(n,r)}}function au(t,e,r){var n,i,o;if($e.unmount&&$e.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Z3(n,null,e)),r||typeof t.type=="function"||(r=(i=t.__e)!=null),t.__e=t.__d=void 0,(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){$e.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&au(n[o],e,r);i!=null&&z3(i)}function uH(t,e,r){return this.constructor(t,r)}function cu(t,e,r){var n,i,o;$e.__&&$e.__(t,e),i=(n=r===vg)?null:r&&r.__k||e.__k,t=Ii(ou,null,[t]),o=[],yg(e,(n?e:r||e).__k=t,i||ki,ki,e.ownerSVGElement!==void 0,r&&!n?[r]:i?null:Jf.slice.call(e.childNodes),o,r||ki,n),Y3(o,t)}function X3(t,e){cu(t,e,vg)}function lH(t,e){var r,n;for(n in e=Mi(Mi({},t.props),e),arguments.length>2&&(e.children=Jf.slice.call(arguments,2)),r={},e)n!=="key"&&n!=="ref"&&(r[n]=e[n]);return Qf(t.type,r,e.key||t.key,e.ref||t.ref,null)}function e4(t){var e={},r={__c:"__cC"+H3++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o=this;return this.getChildContext||(i=[],this.getChildContext=function(){return e[r.__c]=o,e},this.shouldComponentUpdate=function(s){o.props.value!==s.value&&i.some(function(a){a.context=s.value,Yf(a)})},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}$e={__e:function(t,e){for(var r,n;e=e.__;)if((r=e.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(t))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(t)),n)return Yf(r.__E=r)}catch(i){t=i}throw t}},Mn.prototype.setState=function(t,e){var r;r=this.__s!==this.state?this.__s:this.__s=Mi({},this.state),typeof t=="function"&&(t=t(r,this.props)),t&&Mi(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Yf(this))},Mn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Yf(this))},Mn.prototype.render=ou,iu=[],mg=0,W3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vg=ki,H3=0;var Jo,Ir,t4,_a=0,xg=[],r4=$e.__r,n4=$e.diffed,i4=$e.__c,o4=$e.unmount;function Ea(t,e){$e.__h&&$e.__h(Ir,t,_a||e),_a=0;var r=Ir.__H||(Ir.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function wg(t){return _a=1,_g(h4,t)}function _g(t,e,r){var n=Ea(Jo++,2);return n.__c||(n.__c=Ir,n.__=[r?r(e):h4(void 0,e),function(i){var o=t(n.__[0],i);n.__[0]!==o&&(n.__[0]=o,n.__c.setState({}))}]),n.__}function s4(t,e){var r=Ea(Jo++,3);!$e.__s&&Cg(r.__H,e)&&(r.__=t,r.__H=e,Ir.__H.__h.push(r))}function Eg(t,e){var r=Ea(Jo++,4);!$e.__s&&Cg(r.__H,e)&&(r.__=t,r.__H=e,Ir.__h.push(r))}function a4(t){return _a=5,Xf(function(){return{current:t}},[])}function c4(t,e,r){_a=6,Eg(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function Xf(t,e){var r=Ea(Jo++,7);return Cg(r.__H,e)?(r.__H=e,r.__h=t,r.__=t()):r.__}function u4(t,e){return _a=8,Xf(function(){return t},e)}function l4(t){var e=Ir.context[t.__c],r=Ea(Jo++,9);return r.__c=t,e?(r.__==null&&(r.__=!0,e.sub(Ir)),e.props.value):t.__}function f4(t,e){$e.useDebugValue&&$e.useDebugValue(e?e(t):t)}function fH(t){var e=Ea(Jo++,10),r=wg();return e.__=t,Ir.componentDidCatch||(Ir.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function hH(){xg.some(function(t){if(t.__P)try{t.__H.__h.forEach(Sg),t.__H.__h.forEach(Ag),t.__H.__h=[]}catch(e){return t.__H.__h=[],$e.__e(e,t.__v),!0}}),xg=[]}function Sg(t){t.t&&t.t()}function Ag(t){var e=t.__();typeof e=="function"&&(t.t=e)}function Cg(t,e){return!t||e.some(function(r,n){return r!==t[n]})}function h4(t,e){return typeof e=="function"?e(t):e}$e.__r=function(t){r4&&r4(t),Jo=0,(Ir=t.__c).__H&&(Ir.__H.__h.forEach(Sg),Ir.__H.__h.forEach(Ag),Ir.__H.__h=[])},$e.diffed=function(t){n4&&n4(t);var e=t.__c;if(e){var r=e.__H;r&&r.__h.length&&(xg.push(e)!==1&&t4===$e.requestAnimationFrame||((t4=$e.requestAnimationFrame)||function(n){var i,o=function(){clearTimeout(s),cancelAnimationFrame(i),setTimeout(n)},s=setTimeout(o,100);typeof window<"u"&&(i=requestAnimationFrame(o))})(hH))}},$e.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Sg),r.__h=r.__h.filter(function(n){return!n.__||Ag(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],$e.__e(n,r.__v)}}),i4&&i4(t,e)},$e.unmount=function(t){o4&&o4(t);var e=t.__c;if(e){var r=e.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){$e.__e(n,e.__v)}}};function kg(t,e){for(var r in e)t[r]=e[r];return t}function Mg(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}var d4=function(t){var e,r;function n(i){var o;return(o=t.call(this,i)||this).isPureReactComponent=!0,o}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.shouldComponentUpdate=function(i,o){return Mg(this.props,i)||Mg(this.state,o)},n}(Mn);function p4(t,e){function r(i){var o=this.props.ref,s=o==i.ref;return!s&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!s:Mg(this.props,i)}function n(i){return this.shouldComponentUpdate=r,Ii(t,kg({},i))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(t.displayName||t.name)+")",n.t=!0,n}var g4=$e.__b;function b4(t){function e(r){var n=kg({},r);return delete n.ref,t(n,r.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}$e.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),g4&&g4(t)};var m4=function(t,e){return t?bo(t).reduce(function(r,n,i){return r.concat(e(n,i))},[]):null},v4={map:m4,forEach:m4,count:function(t){return t?bo(t).length:0},only:function(t){if((t=bo(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:bo},dH=$e.__e;function y4(t){return t&&((t=kg({},t)).__c=null,t.__k=t.__k&&t.__k.map(y4)),t}function eh(){this.__u=0,this.o=null,this.__b=null}function x4(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function w4(t){var e,r,n;function i(o){if(e||(e=t()).then(function(s){r=s.default||s},function(s){n=s}),n)throw n;if(!r)throw e;return Ii(r,o)}return i.displayName="Lazy",i.t=!0,i}function Sa(){this.i=null,this.l=null}$e.__e=function(t,e,r){if(t.then){for(var n,i=e;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(t,e.__c)}dH(t,e,r)},(eh.prototype=new Mn).__c=function(t,e){var r=this;r.o==null&&(r.o=[]),r.o.push(e);var n=x4(r.__v),i=!1,o=function(){i||(i=!0,n?n(s):s())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){o(),e.__c&&e.__c()};var s=function(){var a;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});a=r.o.pop();)a.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),t.then(o,o)},eh.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=y4(this.__b),this.__b=null),[Ii(Mn,null,e.u?null:t.children),e.u&&t.fallback]};var _4=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(Sa.prototype=new Mn).u=function(t){var e=this,r=x4(e.__v),n=e.l.get(t);return n[0]++,function(i){var o=function(){e.props.revealOrder?(n.push(i),_4(e,t,n)):i()};r?r(o):o()}},Sa.prototype.render=function(t){this.i=null,this.l=new Map;var e=bo(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},Sa.prototype.componentDidUpdate=Sa.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,r){_4(t,r,e)})};var pH=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(r){return r.children},t}();function gH(t){var e=this,r=t.container,n=Ii(pH,{context:e.context},t.vnode);return e.s&&e.s!==r&&(e.v.parentNode&&e.s.removeChild(e.v),au(e.h),e.p=!1),t.vnode?e.p?(r.__k=e.__k,cu(n,r),e.__k=r.__k):(e.v=document.createTextNode(""),X3("",r),r.appendChild(e.v),e.p=!0,e.s=r,cu(n,r,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),au(e.h)),e.h=n,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),au(e.h)},null}function E4(t,e){return Ii(gH,{vnode:t,container:e})}var S4=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Mn.prototype.isReactComponent={};var A4=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Ig(t,e,r){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return cu(t,e),typeof r=="function"&&r(),t?t.__c:null}function bH(t,e,r){return X3(t,e),typeof r=="function"&&r(),t?t.__c:null}var C4=$e.event;function Rg(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(r){this["UNSAFE_"+e]=r}})}$e.event=function(t){C4&&(t=C4(t)),t.persist=function(){};var e=!1,r=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),e=!0};var i=t.preventDefault;return t.preventDefault=function(){i.call(t),r=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return r},t.nativeEvent=t};var k4={configurable:!0,get:function(){return this.class}},M4=$e.vnode;$e.vnode=function(t){t.$$typeof=A4;var e=t.type,r=t.props;if(e){if(r.class!=r.className&&(k4.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",k4)),typeof e!="function"){var n,i,o;for(o in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&e==="select"&&(bo(r.children).forEach(function(s){r.value.indexOf(s.props.value)!=-1&&(s.props.selected=!0)}),delete r.value),r)if(n=S4.test(o))break;if(n)for(o in i=t.props={},r)i[S4.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=r[o]}(function(s){var a=t.type,c=t.props;if(c&&typeof a=="string"){var u={};for(var l in c)/^on(Ani|Tra|Tou)/.test(l)&&(c[l.toLowerCase()]=c[l],delete c[l]),u[l.toLowerCase()]=l;if(u.ondoubleclick&&(c.ondblclick=c[u.ondoubleclick],delete c[u.ondoubleclick]),u.onbeforeinput&&(c.onbeforeinput=c[u.onbeforeinput],delete c[u.onbeforeinput]),u.onchange&&(a==="textarea"||a.toLowerCase()==="input"&&!/^fil|che|ra/i.test(c.type))){var p=u.oninput||"oninput";c[p]||(c[p]=c[u.onchange],delete c[u.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(Rg(e.prototype,"componentWillMount"),Rg(e.prototype,"componentWillReceiveProps"),Rg(e.prototype,"componentWillUpdate"),e.m=!0)}M4&&M4(t)};var mH="16.8.0";function I4(t){return Ii.bind(null,t)}function Tg(t){return!!t&&t.$$typeof===A4}function R4(t){return Tg(t)?lH.apply(null,arguments):t}function T4(t){return!!t.__k&&(cu(null,t),!0)}function P4(t){return t&&(t.base||t.nodeType===1&&t)||null}var N4=function(t,e){return t(e)},vH={useState:wg,useReducer:_g,useEffect:s4,useLayoutEffect:Eg,useRef:a4,useImperativeHandle:c4,useMemo:Xf,useCallback:u4,useContext:l4,useDebugValue:f4,version:"16.8.0",Children:v4,render:Ig,hydrate:Ig,unmountComponentAtNode:T4,createPortal:E4,createElement:Ii,createContext:e4,createFactory:I4,cloneElement:R4,createRef:V3,Fragment:ou,isValidElement:Tg,findDOMNode:P4,Component:Mn,PureComponent:d4,memo:p4,forwardRef:b4,unstable_batchedUpdates:N4,Suspense:eh,SuspenseList:Sa,lazy:w4},yH=Object.freeze({__proto__:null,default:vH,version:mH,Children:v4,render:Ig,hydrate:bH,unmountComponentAtNode:T4,createPortal:E4,createFactory:I4,cloneElement:R4,isValidElement:Tg,findDOMNode:P4,PureComponent:d4,memo:p4,forwardRef:b4,unstable_batchedUpdates:N4,Suspense:eh,SuspenseList:Sa,lazy:w4,createElement:Ii,createContext:e4,createRef:V3,Fragment:ou,Component:Mn,useState:wg,useReducer:_g,useEffect:s4,useLayoutEffect:Eg,useRef:a4,useImperativeHandle:c4,useMemo:Xf,useCallback:u4,useContext:l4,useDebugValue:f4,useErrorBoundary:fH}),xH=Ye(yH);function O4(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var _r=GW,B4=O4(eu),wH=O4(iH),oe=xH;function _H(t){B4.toString(t,{type:"terminal"}).then(console.log)}var EH=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function SH(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}var AH="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",CH="WalletConnect",kH=300,MH="rgb(64, 153, 255)",L4="walletconnect-wrapper",D4="walletconnect-style-sheet",F4="walletconnect-qrcode-modal",IH="walletconnect-qrcode-close",U4="walletconnect-qrcode-text",RH="walletconnect-connect-button";function TH(t){return oe.createElement("div",{className:"walletconnect-modal__header"},oe.createElement("img",{src:AH,className:"walletconnect-modal__headerLogo"}),oe.createElement("p",null,CH),oe.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},oe.createElement("div",{id:IH,className:"walletconnect-modal__close__icon"},oe.createElement("div",{className:"walletconnect-modal__close__line1"}),oe.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function PH(t){return oe.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:RH+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var NH="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function OH(t){var e=t.color,r=t.href,n=t.name,i=t.logo,o=t.onClick;return oe.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},oe.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),oe.createElement("div",{className:"walletconnect-modal__base__row__right"},oe.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),oe.createElement("img",{src:NH,className:"walletconnect-modal__base__row__right__caret"})))}function BH(t){var e=t.color,r=t.href,n=t.name,i=t.logo,o=t.onClick,s=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return oe.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},oe.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),oe.createElement("div",{style:{fontSize:s},className:"walletconnect-connect__button__text"},n))}var LH=5,Pg=12;function DH(t){var e=_r.isAndroid(),r=oe.useState(""),n=r[0],i=r[1],o=oe.useState(""),s=o[0],a=o[1],c=oe.useState(1),u=c[0],l=c[1],p=s?t.links.filter(function(D){return D.name.toLowerCase().includes(s.toLowerCase())}):t.links,m=t.errorMessage,x=s||p.length>LH,_=Math.ceil(p.length/Pg),R=[(u-1)*Pg+1,u*Pg],y=p.length?p.filter(function(D,j){return j+1>=R[0]&&j+1<=R[1]}):[],C=!e&&_>1,T=void 0;function P(D){i(D.target.value),clearTimeout(T),D.target.value?T=setTimeout(function(){a(D.target.value),l(1)},1e3):(i(""),a(""),l(1))}return oe.createElement("div",null,oe.createElement("p",{id:U4,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&oe.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:P}),oe.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":x&&p.length?"__wrap":"")},e?oe.createElement(PH,{name:t.text.connect,color:MH,href:t.uri,onClick:oe.useCallback(function(){_r.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):y.length?y.map(function(D){var j=D.color,W=D.name,V=D.shortName,G=D.logo,Q=_r.formatIOSMobile(t.uri,D),F=oe.useCallback(function(){_r.saveMobileLinkInfo({name:W,href:Q})},[y]);return x?oe.createElement(BH,{color:j,href:Q,name:V||W,logo:G,onClick:F}):oe.createElement(OH,{color:j,href:Q,name:W,logo:G,onClick:F})}):oe.createElement(oe.Fragment,null,oe.createElement("p",null,m.length?t.errorMessage:!!t.links.length&&!p.length?t.text.no_wallets_found:t.text.loading))),C&&oe.createElement("div",{className:"walletconnect-modal__footer"},Array(_).fill(0).map(function(D,j){var W=j+1,V=u===W;return oe.createElement("a",{style:{margin:"auto 10px",fontWeight:V?"bold":"normal"},onClick:function(){return l(W)}},W)})))}function FH(t){var e=!!t.message.trim();return oe.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var UH=function(t){try{var e="";return Promise.resolve(B4.toString(t,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(e=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(r){return Promise.reject(r)}};function jH(t){var e=oe.useState(""),r=e[0],n=e[1],i=oe.useState(""),o=i[0],s=i[1];oe.useEffect(function(){try{return Promise.resolve(UH(t.uri)).then(function(c){s(c)})}catch(c){Promise.reject(c)}},[]);var a=function(){var c=wH(t.uri);c?(n(t.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return oe.createElement("div",null,oe.createElement("p",{id:U4,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),oe.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),oe.createElement("div",{className:"walletconnect-modal__footer"},oe.createElement("a",{onClick:a},t.text.copy_to_clipboard)),oe.createElement(FH,{message:r}))}function $H(t){var e=_r.isAndroid(),r=_r.isMobile(),n=r?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,i=oe.useState(!1),o=i[0],s=i[1],a=oe.useState(!1),c=a[0],u=a[1],l=oe.useState(!r),p=l[0],m=l[1],x={mobile:r,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},_=oe.useState(""),R=_[0],y=_[1],C=oe.useState(!1),T=C[0],P=C[1],D=oe.useState([]),j=D[0],W=D[1],V=oe.useState(""),G=V[0],Q=V[1],F=function(){c||o||n&&!n.length||j.length>0||oe.useEffect(function(){var A=function(){try{if(e)return Promise.resolve();s(!0);var v=SH(function(){var f=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:_r.getWalletRegistryUrl();return Promise.resolve(fetch(f)).then(function(h){return Promise.resolve(h.json()).then(function(w){var M=w.listings,S=r?"mobile":"desktop",d=_r.getMobileLinkRegistry(_r.formatMobileRegistry(M,S),n);s(!1),u(!0),Q(d.length?"":t.text.no_supported_wallets),W(d);var I=d.length===1;I&&(y(_r.formatIOSMobile(t.uri,d[0])),m(!0)),P(I)})})},function(f){s(!1),u(!0),Q(t.text.something_went_wrong),console.error(f)});return Promise.resolve(v&&v.then?v.then(function(){}):void 0)}catch(f){return Promise.reject(f)}};A()})};F();var g=r?p:!p;return oe.createElement("div",{id:F4,className:"walletconnect-qrcode__base animated fadeIn"},oe.createElement("div",{className:"walletconnect-modal__base"},oe.createElement(TH,{onClose:t.onClose}),T&&p?oe.createElement("div",{className:"walletconnect-modal__single_wallet"},oe.createElement("a",{onClick:function(){return _r.saveMobileLinkInfo({name:j[0].name,href:R})},href:R,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(T?j[0].name:"")+" \u203A")):e||o||!o&&j.length?oe.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(g?" right__selected":"")},oe.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?oe.createElement(oe.Fragment,null,oe.createElement("a",{onClick:function(){return m(!1),F()}},t.text.mobile),oe.createElement("a",{onClick:function(){return m(!0)}},t.text.qrcode)):oe.createElement(oe.Fragment,null,oe.createElement("a",{onClick:function(){return m(!0)}},t.text.qrcode),oe.createElement("a",{onClick:function(){return m(!1),F()}},t.text.desktop))):null,oe.createElement("div",null,p||!e&&!o&&!j.length?oe.createElement(jH,Object.assign({},x)):oe.createElement(DH,Object.assign({},x,{links:j,errorMessage:G})))))}var WH={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},qH={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},HH={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},zH={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},VH={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},GH={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},KH={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},JH={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},j4={de:WH,en:qH,es:HH,fr:zH,ko:VH,pt:GH,zh:KH,fa:JH};function QH(){var t=_r.getDocumentOrThrow(),e=t.getElementById(D4);e&&t.head.removeChild(e);var r=t.createElement("style");r.setAttribute("id",D4),r.innerText=EH,t.head.appendChild(r)}function YH(){var t=_r.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",L4),t.body.appendChild(e),e}function $4(){var t=_r.getDocumentOrThrow(),e=t.getElementById(F4);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=t.getElementById(L4);r&&t.body.removeChild(r)},kH))}function ZH(t){return function(){$4(),t&&t()}}function XH(){var t=_r.getNavigatorOrThrow().language.split("-")[0]||"en";return j4[t]||j4.en}function ez(t,e,r){QH();var n=YH();oe.render(oe.createElement($H,{text:XH(),uri:t,onClose:ZH(e),qrcodeModalOptions:r}),n)}function tz(){$4()}var W4=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function rz(t,e,r){console.log(t),W4()?_H(t):ez(t,e,r)}function nz(){W4()||tz()}var iz={open:rz,close:nz},oz=iz;class sz extends mj{constructor(e){super(),this.events=new gd,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=e?.chainId||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e){if(this.connected){this.onOpen();return}return new Promise((r,n)=>{this.on("error",i=>{n(i)}),this.on("open",()=>{r()}),this.create(e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(r=>this.events.emit("payload",r)).catch(r=>this.events.emit("payload",Dp(e.id,r.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e?.connector?e.connector.bridge:e?.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof e?.qrcode>"u"||e.qrcode!==!1,this.chainId=typeof e?.chainId<"u"?e.chainId:this.chainId,this.qrcodeModalOptions=e?.qrcodeModalOptions;const r={bridge:this.bridge,qrcodeModal:this.qrcode?oz:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e?.storageId,signingMethods:e?.signingMethods,clientMeta:e?.clientMeta};if(this.wc=typeof e?.connector<"u"?e.connector:new VW(r),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,r="Failed or Rejected Request",n=-32e3,i){const o={id:e.id,jsonrpc:e.jsonrpc,error:{code:n,message:r}};return typeof i<"u"&&(o.error.data=i),this.events.emit("payload",o),o}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(r=>this.events.emit("error",r)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var r,n;if(e){this.events.emit("error",e);return}this.accounts=((r=this.wc)===null||r===void 0?void 0:r.accounts)||[],this.chainId=((n=this.wc)===null||n===void 0?void 0:n.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,r)=>{const{accounts:n,chainId:i}=r.params[0];(!this.accounts||n&&this.accounts!==n)&&(this.accounts=n,this.events.emit("accountsChanged",n)),(!this.chainId||i&&this.chainId!==i)&&(this.chainId=i,this.events.emit("chainChanged",i))})}async sendPayload(e){this.wc=this.register(this.opts);try{const r=await this.wc.unsafeSend(e);return this.sanitizeResponse(r)}catch(r){return this.onError(e,r.message)}}sanitizeResponse(e){return typeof e.error<"u"&&typeof e.error.code>"u"?Dp(e.id,e.error.message,e.error.data):e}}class az{constructor(e){this.events=new gd,this.rpc={infuraId:e?.infuraId,custom:e?.rpc},this.signer=new h_(new sz(e));const r=this.signer.connection.chainId||e?.chainId||1;this.http=this.setHttpProvider(r),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(zp.includes(e.method))return this.signer.request(e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,r){this.request(e).then(n=>r(null,n)).catch(n=>r(n,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const r=$$(e,this.rpc);return typeof r>"u"?void 0:new h_(new Cj(r))}}var cz=Object.freeze({__proto__:null,default:az});Sr.Web3ModalEthereum=Z9,Sr.chains=j9,Sr.providers=U9,Object.defineProperty(Sr,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
